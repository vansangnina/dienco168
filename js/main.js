!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c)){j=0;while(e=f[j++])fa.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;while(e--)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gb.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ib;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(e,s){var n,o,a,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,o=n.name,e.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']")[0],!!a&&i(a)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r?e.href||s:s)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var s=t.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&e(i,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,s,n=t(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}};var s=0,n=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r,l={},h=e.split(".")[0];return e=e.split(".")[1],n=h+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[h]=t[h]||{},o=t[h][e],a=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new a(t,e)},t.extend(a,o,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(s,function(e,s){return t.isFunction(s)?(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(l[e]=s,void 0)}),a.prototype=t.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix||e:e},l,{constructor:a,namespace:h,widgetName:e,widgetFullName:n}),o?(t.each(o._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var i,s,o=n.call(arguments,1),a=0,r=o.length;r>a;a++)for(i in o[a])s=o[a][i],o[a].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=n.call(arguments,1),l=this;return a?this.each(function(){var i,n=t.data(this,s);return"instance"===o?(l=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,r),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+o+"'")}):(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,s);e?(e.option(o||{}),e._init&&e._init()):t.data(this,s,new i(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+o.eventNamespace,c=l[2];c?n.delegate(c,h,r):i.bind(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget;var o=!1;t(document).mouseup(function(){o=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),o=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var n,o,a=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=t.extend({},n);var p,g,m,_,v,b,y=t(n.of),w=t.position.getWithinInfo(n.within),k=t.position.getScrollInfo(w),x=(n.collision||"flip").split(" "),C={};return b=s(y),y[0].preventDefault&&(n.at="left top"),g=b.width,m=b.height,_=b.offset,v=t.extend({},_),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=h.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=h.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",t=u.exec(i[0]),e=u.exec(i[1]),C[this]=[t?t[0]:0,e?e[0]:0],n[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===n.at[0]?v.left+=g:"center"===n.at[0]&&(v.left+=g/2),"bottom"===n.at[1]?v.top+=m:"center"===n.at[1]&&(v.top+=m/2),p=e(C.at,g,m),v.left+=p[0],v.top+=p[1],this.each(function(){var s,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=u+f+i(this,"marginRight")+k.width,T=d+b+i(this,"marginBottom")+k.height,I=t.extend({},v),M=e(C.my,c.outerWidth(),c.outerHeight());"right"===n.my[0]?I.left-=u:"center"===n.my[0]&&(I.left-=u/2),"bottom"===n.my[1]?I.top-=d:"center"===n.my[1]&&(I.top-=d/2),I.left+=M[0],I.top+=M[1],o||(I.left=l(I.left),I.top=l(I.top)),s={marginLeft:f,marginTop:b},t.each(["left","top"],function(e,i){t.ui.position[x[e]]&&t.ui.position[x[e]][i](I,{targetWidth:g,targetHeight:m,elemWidth:u,elemHeight:d,collisionPosition:s,collisionWidth:D,collisionHeight:T,offset:[p[0]+M[0],p[1]+M[1]],my:n.my,at:n.at,within:w,elem:c})}),n.using&&(h=function(t){var e=_.left-I.left,i=e+g-u,s=_.top-I.top,o=s+m-d,l={target:{element:y,left:_.left,top:_.top,width:g,height:m},element:{element:c,left:I.left,top:I.top,width:u,height:d},horizontal:0>i?"left":e>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};u>g&&g>r(e+i)&&(l.horizontal="center"),d>m&&m>r(s+o)&&(l.vertical="middle"),l.important=a(r(e),r(i))>a(r(s),r(o))?"horizontal":"vertical",n.using.call(this,t,l)}),c.offset(t.extend(I,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-o-n;e.collisionWidth>o?l>0&&0>=h?(i=t.left+l+e.collisionWidth-o-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+o-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=a(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-o-n;e.collisionHeight>o?l>0&&0>=h?(i=t.top+l+e.collisionHeight-o-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+o-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,a=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-a-o,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,a=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-a-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-a-o,(0>s||r(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,(i>0||u>r(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,r=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(l),i=r||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",n=t(l).offset().left,o=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()}(),t.ui.position,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(s){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,l,h,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)l=s.snapElements[d].left-s.margins.left,h=l+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,l-g>_||m>h+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(l-_),r=g>=Math.abs(h-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(l-m),r=g>=Math.abs(h-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i,s,n,o,a=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),o="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),a.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,l=this._change[o];return this._updatePrevProperties(),l?(i=l.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(a,{top:l,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&h&&(t.left=r-e.minWidth),s&&h&&(t.left=r-e.maxWidth),a&&c&&(t.top=l-e.minHeight),n&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(s[e],10)||0,i[e]+=parseInt(n[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,l=t(this).resizable("instance"),h=l.options,c=l.element,u=h.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(l.containerElement=t(d),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=l._num(e.css("padding"+s))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=l.containerOffset,n=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(d,"left")?d.scrollWidth:o,r=l._hasScroll(d)?d.scrollHeight:n,l.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,l=a.containerOffset,h=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),h.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?l.left:0),h.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-l.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-l.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),l=a.outerWidth()-e.sizeDiff.width,h=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,l="number"==typeof s.grid?[s.grid,s.grid]:s.grid,h=l[0]||1,c=l[1]||1,u=Math.round((n.width-o.width)/h)*h,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=l,_&&(p+=h),v&&(f+=c),g&&(p-=h),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-h)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-h>0?(i.size.width=p,i.position.left=a.left-u):(p=h-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable;var a,r="ui-button ui-widget ui-state-default ui-corner-all",l="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},c=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?t(s).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),n};t.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,h),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(r).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===a&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||t(this).removeClass(n)}).bind("click"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var s=e.element[0];c(s).not(s).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(t(this).addClass("ui-state-active"),a=this,e.document.one("mouseup",function(){a=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(t(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(e){return i.disabled?!1:((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(r+" ui-state-active "+l).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?c(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var e=this.buttonElement.removeClass(l),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,o=[];s.primary||s.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),t.ui.button,t.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.focus()}),e.preventDefault()):(this._delay(function(){s.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(e.element[0],arguments)},o={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t("<button></button>",s).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),l=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(l>=0?"+":"")+l,of:i.window},t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,e){var i,s,n=this.uiDialog;"dialogClass"===t&&n.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=n.is(":data(ui-draggable)"),i&&!e&&n.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(s=n.is(":data(ui-resizable)"),s&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}})});!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);(function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)})(this,document,function(e,t,n,r){(function(e,t,n,r){function T(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function N(t,n){var i=t.type,s,o,a,l,c,h,p,d,v;t=e.Event(t),t.type=n,s=t.originalEvent,o=e.event.props,i.search(/^(mouse|click)/)>-1&&(o=f);if(s)for(p=o.length,l;p;)l=o[--p],t[l]=s[l];i.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1);if(i.search(/^touch/)!==-1){a=T(s),i=a.touches,c=a.changedTouches,h=i&&i.length?i[0]:c&&c.length?c[0]:r;if(h)for(d=0,v=u.length;d<v;d++)l=u[d],t[l]=h[l]}return t}function C(t){var n={},r,s;while(t){r=e.data(t,i);for(s in r)r[s]&&(n[s]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function k(t,n){var r;while(t){r=e.data(t,i);if(r&&(!n||r[n]))return t;t=t.parentNode}return null}function L(){g=!1}function A(){g=!0}function O(){E=0,v.length=0,m=!1,A()}function M(){L()}function _(){D(),c=setTimeout(function(){c=0,O()},e.vmouse.resetTimerDuration)}function D(){c&&(clearTimeout(c),c=0)}function P(t,n,r){var i;if(r&&r[t]||!r&&k(n.target,t))i=N(n,t),e(n.target).trigger(i);return i}function H(t){var n=e.data(t.target,s),r;!m&&(!E||E!==n)&&(r=P("v"+t.type,t),r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function B(t){var n=T(t).touches,r,i,o;n&&n.length===1&&(r=t.target,i=C(r),i.hasVirtualBinding&&(E=w++,e.data(r,s,E),D(),M(),d=!1,o=T(t).touches[0],h=o.pageX,p=o.pageY,P("vmouseover",t,i),P("vmousedown",t,i)))}function j(e){if(g)return;d||P("vmousecancel",e,C(e.target)),d=!0,_()}function F(t){if(g)return;var n=T(t).touches[0],r=d,i=e.vmouse.moveDistanceThreshold,s=C(t.target);d=d||Math.abs(n.pageX-h)>i||Math.abs(n.pageY-p)>i,d&&!r&&P("vmousecancel",t,s),P("vmousemove",t,s),_()}function I(e){if(g)return;A();var t=C(e.target),n,r;P("vmouseup",e,t),d||(n=P("vclick",e,t),n&&n.isDefaultPrevented()&&(r=T(e).changedTouches[0],v.push({touchID:E,x:r.clientX,y:r.clientY}),m=!0)),P("vmouseout",e,t),d=!1,_()}function q(t){var n=e.data(t,i),r;if(n)for(r in n)if(n[r])return!0;return!1}function R(){}function U(t){var n=t.substr(1);return{setup:function(){q(this)||e.data(this,i,{});var r=e.data(this,i);r[t]=!0,l[t]=(l[t]||0)+1,l[t]===1&&b.bind(n,H),e(this).bind(n,R),y&&(l.touchstart=(l.touchstart||0)+1,l.touchstart===1&&b.bind("touchstart",B).bind("touchend",I).bind("touchmove",F).bind("scroll",j))},teardown:function(){--l[t],l[t]||b.unbind(n,H),y&&(--l.touchstart,l.touchstart||b.unbind("touchstart",B).unbind("touchmove",F).unbind("touchend",I).unbind("scroll",j));var r=e(this),s=e.data(this,i);s&&(s[t]=!1),r.unbind(n,R),q(this)||r.removeData(i)}}}var i="virtualMouseBindings",s="virtualTouchID",o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],f=e.event.props.concat(a),l={},c=0,h=0,p=0,d=!1,v=[],m=!1,g=!1,y="addEventListener"in n,b=e(n),w=1,E=0,S,x;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(x=0;x<o.length;x++)e.event.special[o[x]]=U(o[x]);y&&n.addEventListener("click",function(t){var n=v.length,r=t.target,i,o,u,a,f,l;if(n){i=t.clientX,o=t.clientY,S=e.vmouse.clickDistanceThreshold,u=r;while(u){for(a=0;a<n;a++){f=v[a],l=0;if(u===r&&Math.abs(f.x-i)<S&&Math.abs(f.y-o)<S||e.data(u,s)===f.touchID){t.preventDefault(),t.stopPropagation();return}}u=u.parentNode}}},!0)})(e,t,n),function(e){e.mobile={}}(e),function(e,t){var r={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,r),e.extend(e.mobile.support,r)}(e),function(e,t,r){function l(t,n,i,s){var o=i.type;i.type=n,s?e.event.trigger(i,r,t):e.event.dispatch.call(t,i),i.type=o}var i=e(n),s=e.mobile.support.touch,o="touchmove scroll",u=s?"touchstart":"mousedown",a=s?"touchend":"mouseup",f=s?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function s(e,n){r=n,l(t,r?"scrollstart":"scrollstop",e)}var t=this,n=e(t),r,i;n.bind(o,function(t){if(!e.event.special.scrollstart.enabled)return;r||s(t,!0),clearTimeout(i),i=setTimeout(function(){s(t,!1)},50)})},teardown:function(){e(this).unbind(o)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,n=e(t),r=!1;n.bind("vmousedown",function(s){function a(){clearTimeout(u)}function f(){a(),n.unbind("vclick",c).unbind("vmouseup",a),i.unbind("vmousecancel",f)}function c(e){f(),!r&&o===e.target?l(t,"tap",e):r&&e.preventDefault()}r=!1;if(s.which&&s.which!==1)return!1;var o=s.target,u;n.bind("vmouseup",a).bind("vclick",c),i.bind("vmousecancel",f),u=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(r=!0),l(t,"taphold",e.Event("taphold",{target:o}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),i.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var n=t.pageXOffset,r=t.pageYOffset,i=e.clientX,s=e.clientY;if(e.pageY===0&&Math.floor(s)>Math.floor(e.pageY)||e.pageX===0&&Math.floor(i)>Math.floor(e.pageX))i-=n,s-=r;else if(s<e.pageY-r||i<e.pageX-n)i=e.pageX-n,s=e.pageY-r;return{x:i,y:s}},start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,r=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y],origin:e(t.target)}},stop:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,r=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[r.x,r.y]}},handleSwipe:function(t,n,r,i){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var s=t.coords[0]>n.coords[0]?"swipeleft":"swiperight";return l(r,"swipe",e.Event("swipe",{target:i,swipestart:t,swipestop:n}),!0),l(r,s,e.Event(s,{target:i,swipestart:t,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,n=this,r=e(n),s={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=s,s.start=function(t){if(e.event.special.swipe.eventInProgress)return;e.event.special.swipe.eventInProgress=!0;var r,o=e.event.special.swipe.start(t),u=t.target,l=!1;s.move=function(t){if(!o||t.isDefaultPrevented())return;r=e.event.special.swipe.stop(t),l||(l=e.event.special.swipe.handleSwipe(o,r,n,u),l&&(e.event.special.swipe.eventInProgress=!1)),Math.abs(o.coords[0]-r.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()},s.stop=function(){l=!0,e.event.special.swipe.eventInProgress=!1,i.off(f,s.move),s.move=null},i.on(f,s.move).one(a,s.stop)},r.on(u,s.start)},teardown:function(){var t,n;t=e.data(this,"mobile-events"),t&&(n=t.swipe,delete t.swipe,t.length--,t.length===0&&e.removeData(this,"mobile-events")),n&&(n.start&&e(this).off(u,n.start),n.move&&i.off(f,n.move),n.stop&&i.off(a,n.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}})}(e,this)});!function(a,b){a(function(){"use strict";function a(a,b){return null!=a&&null!=b&&a.toLowerCase()===b.toLowerCase()}function c(a,b){var c,d,e=a.length;if(!e||!b)return!1;for(c=b.toLowerCase(),d=0;d<e;++d)if(c===a[d].toLowerCase())return!0;return!1}function d(a){for(var b in a)h.call(a,b)&&(a[b]=new RegExp(a[b],"i"))}function e(a,b){this.ua=a||"",this._cache={},this.maxPhoneWidth=b||600}var f={};f.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",Samsung:"\\bSamsung\\b|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris [E|M]10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},f.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var g,h=Object.prototype.hasOwnProperty;return f.FALLBACK_PHONE="UnknownPhone",f.FALLBACK_TABLET="UnknownTablet",f.FALLBACK_MOBILE="UnknownMobile",g="isArray"in Array?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},function(){var a,b,c,e,i,j,k=f.mobileDetectRules;for(a in k.props)if(h.call(k.props,a)){for(b=k.props[a],g(b)||(b=[b]),i=b.length,e=0;e<i;++e)c=b[e],j=c.indexOf("[VER]"),j>=0&&(c=c.substring(0,j)+"([\\w._\\+]+)"+c.substring(j+5)),b[e]=new RegExp(c,"i");k.props[a]=b}d(k.oss),d(k.phones),d(k.tablets),d(k.uas),d(k.utils),k.oss0={WindowsPhoneOS:k.oss.WindowsPhoneOS,WindowsMobileOS:k.oss.WindowsMobileOS}}(),f.findMatch=function(a,b){for(var c in a)if(h.call(a,c)&&a[c].test(b))return c;return null},f.findMatches=function(a,b){var c=[];for(var d in a)h.call(a,d)&&a[d].test(b)&&c.push(d);return c},f.getVersionStr=function(a,b){var c,d,e,g,i=f.mobileDetectRules.props;if(h.call(i,a))for(c=i[a],e=c.length,d=0;d<e;++d)if(g=c[d].exec(b),null!==g)return g[1];return null},f.getVersion=function(a,b){var c=f.getVersionStr(a,b);return c?f.prepareVersionNo(c):NaN},f.prepareVersionNo=function(a){var b;return b=a.split(/[a-z._ \/\-]/i),1===b.length&&(a=b[0]),b.length>1&&(a=b[0]+".",b.shift(),a+=b.join("")),Number(a)},f.isMobileFallback=function(a){return f.detectMobileBrowsers.fullPattern.test(a)||f.detectMobileBrowsers.shortPattern.test(a.substr(0,4))},f.isTabletFallback=function(a){return f.detectMobileBrowsers.tabletPattern.test(a)},f.prepareDetectionCache=function(a,c,d){if(a.mobile===b){var g,h,i;return(h=f.findMatch(f.mobileDetectRules.tablets,c))?(a.mobile=a.tablet=h,void(a.phone=null)):(g=f.findMatch(f.mobileDetectRules.phones,c))?(a.mobile=a.phone=g,void(a.tablet=null)):void(f.isMobileFallback(c)?(i=e.isPhoneSized(d),i===b?(a.mobile=f.FALLBACK_MOBILE,a.tablet=a.phone=null):i?(a.mobile=a.phone=f.FALLBACK_PHONE,a.tablet=null):(a.mobile=a.tablet=f.FALLBACK_TABLET,a.phone=null)):f.isTabletFallback(c)?(a.mobile=a.tablet=f.FALLBACK_TABLET,a.phone=null):a.mobile=a.tablet=a.phone=null)}},f.mobileGrade=function(a){var b=null!==a.mobile();return a.os("iOS")&&a.version("iPad")>=4.3||a.os("iOS")&&a.version("iPhone")>=3.1||a.os("iOS")&&a.version("iPod")>=3.1||a.version("Android")>2.1&&a.is("Webkit")||a.version("Windows Phone OS")>=7||a.is("BlackBerry")&&a.version("BlackBerry")>=6||a.match("Playbook.*Tablet")||a.version("webOS")>=1.4&&a.match("Palm|Pre|Pixi")||a.match("hp.*TouchPad")||a.is("Firefox")&&a.version("Firefox")>=12||a.is("Chrome")&&a.is("AndroidOS")&&a.version("Android")>=4||a.is("Skyfire")&&a.version("Skyfire")>=4.1&&a.is("AndroidOS")&&a.version("Android")>=2.3||a.is("Opera")&&a.version("Opera Mobi")>11&&a.is("AndroidOS")||a.is("MeeGoOS")||a.is("Tizen")||a.is("Dolfin")&&a.version("Bada")>=2||(a.is("UC Browser")||a.is("Dolfin"))&&a.version("Android")>=2.3||a.match("Kindle Fire")||a.is("Kindle")&&a.version("Kindle")>=3||a.is("AndroidOS")&&a.is("NookTablet")||a.version("Chrome")>=11&&!b||a.version("Safari")>=5&&!b||a.version("Firefox")>=4&&!b||a.version("MSIE")>=7&&!b||a.version("Opera")>=10&&!b?"A":a.os("iOS")&&a.version("iPad")<4.3||a.os("iOS")&&a.version("iPhone")<3.1||a.os("iOS")&&a.version("iPod")<3.1||a.is("Blackberry")&&a.version("BlackBerry")>=5&&a.version("BlackBerry")<6||a.version("Opera Mini")>=5&&a.version("Opera Mini")<=6.5&&(a.version("Android")>=2.3||a.is("iOS"))||a.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||a.version("Opera Mobi")>=11&&a.is("SymbianOS")?"B":(a.version("BlackBerry")<5||a.match("MSIEMobile|Windows CE.*Mobile")||a.version("Windows Mobile")<=5.2,"C")},f.detectOS=function(a){return f.findMatch(f.mobileDetectRules.oss0,a)||f.findMatch(f.mobileDetectRules.oss,a)},f.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},e.prototype={constructor:e,mobile:function(){return f.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return f.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return f.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===b&&(this._cache.userAgent=f.findMatch(f.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===b&&(this._cache.userAgents=f.findMatches(f.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===b&&(this._cache.os=f.detectOS(this.ua)),this._cache.os},version:function(a){return f.getVersion(a,this.ua)},versionStr:function(a){return f.getVersionStr(a,this.ua)},is:function(b){return c(this.userAgents(),b)||a(b,this.os())||a(b,this.phone())||a(b,this.tablet())||c(f.findMatches(f.mobileDetectRules.utils,this.ua),b)},match:function(a){return a instanceof RegExp||(a=new RegExp(a,"i")),a.test(this.ua)},isPhoneSized:function(a){return e.isPhoneSized(a||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===b&&(this._cache.grade=f.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?e.isPhoneSized=function(a){return a<0?b:f.getDeviceSmallerSide()<=a}:e.isPhoneSized=function(){},e._impl=f,e.version="1.3.6 2017-04-05",e})}(function(a){if("undefined"!=typeof module&&module.exports)return function(a){module.exports=a()};if("function"==typeof define&&define.amd)return define;if("undefined"!=typeof window)return function(a){window.MobileDetect=a()};throw new Error("unknown environment")}());window.Modernizr=function(a,b,c){function C(a){j.cssText=a}function D(a,b){return C(n.join(a+";")+(b||""))}function E(a,b){return typeof a===b}function F(a,b){return!!~(""+a).indexOf(b)}function G(a,b){for(var d in a){var e=a[d];if(!F(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function H(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:E(f,"function")?f.bind(d||b):f}return!1}function I(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return E(b,"string")||E(b,"undefined")?G(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),H(e,b,c))}function J(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)u[c[d]]=c[d]in k;return u.list&&(u.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),u}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:e=k.value!=l)),t[a[d]]=!!e;return t}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.8.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={svg:"http://www.w3.org/2000/svg"},s={},t={},u={},v=[],w=v.slice,x,y=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},z=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=E(e[d],"function"),E(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),A={}.hasOwnProperty,B;!E(A,"undefined")&&!E(A.call,"undefined")?B=function(a,b){return A.call(a,b)}:B=function(a,b){return b in a&&E(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=w.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(w.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(w.call(arguments)))};return e}),s.flexbox=function(){return I("flexWrap")},s.flexboxlegacy=function(){return I("boxDirection")},s.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},s.canvastext=function(){return!!e.canvas&&!!E(b.createElement("canvas").getContext("2d").fillText,"function")},s.webgl=function(){return!!a.WebGLRenderingContext},s.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:y(["@media (",n.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c},s.geolocation=function(){return"geolocation"in navigator},s.postmessage=function(){return!!a.postMessage},s.websqldatabase=function(){return!!a.openDatabase},s.indexedDB=function(){return!!I("indexedDB",a)},s.hashchange=function(){return z("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},s.history=function(){return!!a.history&&!!history.pushState},s.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},s.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},s.rgba=function(){return C("background-color:rgba(150,255,150,.5)"),F(j.backgroundColor,"rgba")},s.hsla=function(){return C("background-color:hsla(120,40%,100%,.5)"),F(j.backgroundColor,"rgba")||F(j.backgroundColor,"hsla")},s.multiplebgs=function(){return C("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},s.backgroundsize=function(){return I("backgroundSize")},s.borderimage=function(){return I("borderImage")},s.borderradius=function(){return I("borderRadius")},s.boxshadow=function(){return I("boxShadow")},s.textshadow=function(){return b.createElement("div").style.textShadow===""},s.opacity=function(){return D("opacity:.55"),/^0.55$/.test(j.opacity)},s.cssanimations=function(){return I("animationName")},s.csscolumns=function(){return I("columnCount")},s.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return C((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),F(j.backgroundImage,"gradient")},s.cssreflections=function(){return I("boxReflect")},s.csstransforms=function(){return!!I("transform")},s.csstransforms3d=function(){var a=!!I("perspective");return a&&"webkitPerspective"in g.style&&y("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},s.csstransitions=function(){return I("transition")},s.fontface=function(){var a;return y('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&g.indexOf(d.split(" ")[0])===0}),a},s.generatedcontent=function(){var a;return y(["#",h,"{font:0/0 a}#",h,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},s.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(d){}return c},s.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(d){}return c},s.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}},s.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return!1}},s.webworkers=function(){return!!a.Worker},s.applicationcache=function(){return!!a.applicationCache},s.svg=function(){return!!b.createElementNS&&!!b.createElementNS(r.svg,"svg").createSVGRect},s.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==r.svg},s.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(m.call(b.createElementNS(r.svg,"animate")))},s.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(m.call(b.createElementNS(r.svg,"clipPath")))};for(var K in s)B(s,K)&&(x=K.toLowerCase(),e[x]=s[K](),v.push((e[x]?"":"no-")+x));return e.input||J(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)B(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},C(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return typeof a=="string"?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){c||(c=b);if(k)return c.createElement(a);d||(d=n(c));var g;return d.cache[a]?g=d.cache[a].cloneNode():f.test(a)?g=(d.cache[a]=d.createElem(a)).cloneNode():g=d.createElem(a),g.canHaveChildren&&!e.test(a)&&!g.tagUrn?d.frag.appendChild(g):g}function p(a,c){a||(a=b);if(k)return a.createDocumentFragment();c=c||n(a);var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g,h="_html5shiv",i=0,j={},k;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.hasEvent=z,e.testProp=function(a){return G([a])},e.testAllProps=I,e.testStyles=y,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+v.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};window.Modernizr.addTest('appearance',window.Modernizr.testAllProps('appearance'));var vwCompatible;window.Modernizr.testStyles('#modernizr { width: 50vw; }',function(e){var width=parseInt(window.innerWidth/2,10);var compStyle=parseInt((window.getComputedStyle?getComputedStyle(e,null):e.currentStyle)['width'],10);vwCompatible=width==compStyle});var vhCompatible;window.Modernizr.testStyles('#modernizr { height: 50vh; }',function(e){var height=parseInt(window.innerHeight/2,10);var compStyle=parseInt((window.getComputedStyle?getComputedStyle(e,null):e.currentStyle)['height'],10);vhCompatible=compStyle==height});window.Modernizr.addTest('cssviewportunit',vwCompatible&&vhCompatible);window.Modernizr.addTest('webaudio',function(){var prefixed='webkitAudioContext' in window;var unprefixed='AudioContext' in window;return prefixed||unprefixed});!function(){"use strict";function t(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s],l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var n in t){var r=t[n];for(var s in this.waypoints[n]){var a,l,h,p,u,c=this.waypoints[n][s],d=c.options.offset,f=c.triggerPoint,w=0,y=null==f;c.element!==c.element.window&&(w=c.adapter.offset()[r.offsetProp]),"function"==typeof d?d=d.apply(c):"string"==typeof d&&(d=parseFloat(d),c.options.offset.indexOf("%")>-1&&(d=Math.ceil(r.contextDimension*d/100))),a=r.contextScroll-r.contextOffset,c.triggerPoint=w+a-d,l=f<r.oldScroll,h=c.triggerPoint>=r.oldScroll,p=l&&h,u=!l&&!h,!y&&p?(c.queueTrigger(r.backward),o[c.group.id]=c.group):!y&&u?(c.queueTrigger(r.forward),o[c.group.id]=c.group):y&&r.oldScroll>=c.triggerPoint&&(c.queueTrigger(r.forward),o[c.group.id]=c.group)}}for(var g in o)o[g].flushTriggers();return this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n="up"===i||"left"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,o){t[o]=e[o]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});"string"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();(function(){'use strict'
var $=window.jQuery
var Waypoint=window.Waypoint
function Sticky(options){this.options=$.extend({},Waypoint.defaults,Sticky.defaults,options)
this.element=this.options.element
this.$element=$(this.element)
this.createWrapper()
this.createWaypoint()}
Sticky.prototype.createWaypoint=function(){var originalHandler=this.options.handler
this.waypoint=new Waypoint($.extend({},this.options,{element:this.wrapper,handler:$.proxy(function(direction){var shouldBeStuck=this.options.direction.indexOf(direction)>-1
var wrapperHeight=shouldBeStuck?this.$element.outerHeight(!0):''
if(shouldBeStuck){var tmpWidth=this.$element.width();this.$element.css("width",tmpWidth);$(window).on("resize",maserati_waypoints_resize)}else{this.$element.css("width","");$(window).off("resize",maserati_waypoints_resize)}
this.$wrapper.height(wrapperHeight)
this.$element.toggleClass(this.options.stuckClass,shouldBeStuck)
if(originalHandler){originalHandler.call(this,direction)}},this)}))}
Sticky.prototype.createWrapper=function(){if(this.options.wrapper){this.$element.wrap(this.options.wrapper)}
this.$wrapper=this.$element.parent()
this.wrapper=this.$wrapper[0]}
Sticky.prototype.destroy=function(){if(this.$element.parent()[0]===this.wrapper){this.waypoint.destroy()
this.$element.removeClass(this.options.stuckClass).unwrap()}}
Sticky.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:'stuck',direction:'down right'}
Waypoint.Sticky=Sticky}())
function maserati_waypoints_resize(){$(".sticky-wrapper").each(function(){$(this).find(".stuck").css("width",$(this).width())})};(function($){$.fn.changeElementType=function(newType){var attrs,events,elem,$elem;for(var i=0,il=this.length;i<il;i++){attrs={};events={};$elem=$(elem=this[i]);$.each(elem.attributes,function(index,attr){attrs[attr.nodeName]=attr.nodeValue});$.each($._data(elem,'events'),function(index,event){events[event[0].type]=event[0].handler});$elem.replaceWith($elem=$("<"+newType+"/>",attrs).append($elem.contents()));$.each(events,function(index,event){$elem.bind(index,event)});this[i]=$elem[0]}
return this}})(jQuery);"use strict";var WaveSurfer={defaultParams:{height:128,waveColor:"#999",progressColor:"#555",cursorColor:"#333",cursorWidth:1,skipLength:2,minPxPerSec:20,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,fillParent:!0,scrollParent:!1,hideScrollbar:!1,normalize:!1,audioContext:null,container:null,dragSelection:!0,loopSelection:!0,audioRate:1,interact:!0,splitChannels:!1,mediaContainer:null,mediaControls:!1,renderer:"Canvas",backend:"WebAudio",mediaType:"audio",autoCenter:!0},init:function(a){if(this.params=WaveSurfer.util.extend({},this.defaultParams,a),this.container="string"==typeof a.container?document.querySelector(this.params.container):this.params.container,!this.container)throw new Error("Container element not found");if(null==this.params.mediaContainer?this.mediaContainer=this.container:"string"==typeof this.params.mediaContainer?this.mediaContainer=document.querySelector(this.params.mediaContainer):this.mediaContainer=this.params.mediaContainer,!this.mediaContainer)throw new Error("Media Container element not found");this.savedVolume=0,this.isMuted=!1,this.tmpEvents=[],this.createDrawer(),this.createBackend()},createDrawer:function(){var a=this;this.drawer=Object.create(WaveSurfer.Drawer[this.params.renderer]),this.drawer.init(this.container,this.params),this.drawer.on("redraw",function(){a.drawBuffer(),a.drawer.progress(a.backend.getPlayedPercents())}),this.drawer.on("click",function(b,c){setTimeout(function(){a.seekTo(c)},0)}),this.drawer.on("scroll",function(b){a.fireEvent("scroll",b)})},createBackend:function(){var a=this;this.backend&&this.backend.destroy(),"AudioElement"==this.params.backend&&(this.params.backend="MediaElement"),"WebAudio"!=this.params.backend||WaveSurfer.WebAudio.supportsWebAudio()||(this.params.backend="MediaElement"),this.backend=Object.create(WaveSurfer[this.params.backend]),this.backend.init(this.params),this.backend.on("finish",function(){a.fireEvent("finish")}),this.backend.on("play",function(){a.fireEvent("play")}),this.backend.on("pause",function(){a.fireEvent("pause")}),this.backend.on("audioprocess",function(b){a.fireEvent("audioprocess",b)})},startAnimationLoop:function(){var a=this,b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,c=function(){if(!a.backend.isPaused()){var d=a.backend.getPlayedPercents();a.drawer.progress(d),a.fireEvent("audioprocess",d),b(c)}};c()},getDuration:function(){return this.backend.getDuration()},getCurrentTime:function(){return this.backend.getCurrentTime()},play:function(a,b){this.backend.play(a,b),this.startAnimationLoop()},pause:function(){this.backend.pause()},playPause:function(){this.backend.isPaused()?this.play():this.pause()},isPlaying:function(){return!this.backend.isPaused()},skipBackward:function(a){this.skip(-a||-this.params.skipLength)},skipForward:function(a){this.skip(a||this.params.skipLength)},skip:function(a){var b=this.getCurrentTime()||0,c=this.getDuration()||1;b=Math.max(0,Math.min(c,b+(a||0))),this.seekAndCenter(b/c)},seekAndCenter:function(a){this.seekTo(a),this.drawer.recenter(a)},seekTo:function(a){var b=this.backend.isPaused(),c=this.params.scrollParent;b&&(this.params.scrollParent=!1),this.backend.seekTo(a*this.getDuration()),this.drawer.progress(this.backend.getPlayedPercents()),b||(this.backend.pause(),this.backend.play()),this.params.scrollParent=c,this.fireEvent("seek",a)},stop:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)},setVolume:function(a){this.backend.setVolume(a)},setPlaybackRate:function(a){this.backend.setPlaybackRate(a)},toggleMute:function(){this.isMuted?(this.backend.setVolume(this.savedVolume),this.isMuted=!1):(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0)},toggleScroll:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()},toggleInteraction:function(){this.params.interact=!this.params.interact},drawBuffer:function(){var a=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),b=this.drawer.getWidth(),c=a;this.params.fillParent&&(!this.params.scrollParent||b>a)&&(c=b);var d=this.backend.getPeaks(c);this.drawer.drawPeaks(d,c),this.fireEvent("redraw",d,c)},zoom:function(a){this.params.minPxPerSec=a,this.params.scrollParent=!0,this.drawBuffer(),this.seekAndCenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",a)},loadArrayBuffer:function(a){this.decodeArrayBuffer(a,function(a){this.loadDecodedBuffer(a)}.bind(this))},loadDecodedBuffer:function(a){this.backend.load(a),this.drawBuffer(),this.fireEvent("ready")},loadBlob:function(a){var b=this,c=new FileReader;c.addEventListener("progress",function(a){b.onProgress(a)}),c.addEventListener("load",function(a){b.loadArrayBuffer(a.target.result)}),c.addEventListener("error",function(){b.fireEvent("error","Error reading file")}),c.readAsArrayBuffer(a),this.empty()},load:function(a,b){switch(this.params.backend){case"WebAudio":return this.loadBuffer(a);case"MediaElement":return this.loadMediaElement(a,b)}},loadBuffer:function(a){return this.empty(),this.getArrayBuffer(a,this.loadArrayBuffer.bind(this))},loadMediaElement:function(a,b){this.empty(),this.backend.load(a,this.mediaContainer,b),this.tmpEvents.push(this.backend.once("canplay",function(){this.drawBuffer(),this.fireEvent("ready")}.bind(this)),this.backend.once("error",function(a){this.fireEvent("error",a)}.bind(this))),!b&&this.backend.supportsWebAudio()&&this.getArrayBuffer(a,function(a){this.decodeArrayBuffer(a,function(a){this.backend.buffer=a,this.drawBuffer()}.bind(this))}.bind(this))},decodeArrayBuffer:function(a,b){this.backend.decodeArrayBuffer(a,this.fireEvent.bind(this,"decoded"),this.fireEvent.bind(this,"error","Error decoding audiobuffer")),this.tmpEvents.push(this.once("decoded",b))},getArrayBuffer:function(a,b){var c=this,d=WaveSurfer.util.ajax({url:a,responseType:"arraybuffer"});return this.tmpEvents.push(d.on("progress",function(a){c.onProgress(a)}),d.on("success",b),d.on("error",function(a){c.fireEvent("error","XHR error: "+a.target.statusText)})),d},onProgress:function(a){if(a.lengthComputable)var b=a.loaded/a.total;else b=a.loaded/(a.loaded+1e6);this.fireEvent("loading",Math.round(100*b),a.target)},exportPCM:function(a,b,c){a=a||1024,b=b||1e4,c=c||!1;var d=this.backend.getPeaks(a,b),e=[].map.call(d,function(a){return Math.round(a*b)/b}),f=JSON.stringify(e);return c||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(f)),f},clearTmpEvents:function(){this.tmpEvents.forEach(function(a){a.un()})},empty:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)},destroy:function(){this.fireEvent("destroy"),this.clearTmpEvents(),this.unAll(),this.backend.destroy(),this.drawer.destroy()}};WaveSurfer.create=function(a){var b=Object.create(WaveSurfer);return b.init(a),b},WaveSurfer.util={extend:function(a){var b=Array.prototype.slice.call(arguments,1);return b.forEach(function(b){Object.keys(b).forEach(function(c){a[c]=b[c]})}),a},getId:function(){return"wavesurfer_"+Math.random().toString(32).substring(2)},ajax:function(a){var b=Object.create(WaveSurfer.Observer),c=new XMLHttpRequest,d=!1;return c.open(a.method||"GET",a.url,!0),c.responseType=a.responseType||"json",c.addEventListener("progress",function(a){b.fireEvent("progress",a),a.lengthComputable&&a.loaded==a.total&&(d=!0)}),c.addEventListener("load",function(a){d||b.fireEvent("progress",a),b.fireEvent("load",a),200==c.status||206==c.status?b.fireEvent("success",c.response,a):b.fireEvent("error",a)}),c.addEventListener("error",function(a){b.fireEvent("error",a)}),c.send(),b.xhr=c,b}},WaveSurfer.Observer={on:function(a,b){this.handlers||(this.handlers={});var c=this.handlers[a];return c||(c=this.handlers[a]=[]),c.push(b),{name:a,callback:b,un:this.un.bind(this,a,b)}},un:function(a,b){if(this.handlers){var c=this.handlers[a];if(c)if(b)for(var d=c.length-1;d>=0;d--)c[d]==b&&c.splice(d,1);else c.length=0}},unAll:function(){this.handlers=null},once:function(a,b){var c=this,d=function(){b.apply(this,arguments),setTimeout(function(){c.un(a,d)},0)};return this.on(a,d)},fireEvent:function(a){if(this.handlers){var b=this.handlers[a],c=Array.prototype.slice.call(arguments,1);b&&b.forEach(function(a){a.apply(null,c)})}}},WaveSurfer.util.extend(WaveSurfer,WaveSurfer.Observer),WaveSurfer.WebAudio={scriptBufferSize:256,PLAYING_STATE:0,PAUSED_STATE:1,FINISHED_STATE:2,supportsWebAudio:function(){return!(!window.AudioContext&&!window.webkitAudioContext)},getAudioContext:function(){return WaveSurfer.WebAudio.audioContext||(WaveSurfer.WebAudio.audioContext=new(window.AudioContext||window.webkitAudioContext)),WaveSurfer.WebAudio.audioContext},getOfflineAudioContext:function(a){return WaveSurfer.WebAudio.offlineAudioContext||(WaveSurfer.WebAudio.offlineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,a)),WaveSurfer.WebAudio.offlineAudioContext},init:function(a){this.params=a,this.ac=a.audioContext||this.getAudioContext(),this.lastPlay=this.ac.currentTime,this.startPosition=0,this.scheduledPause=null,this.states=[Object.create(WaveSurfer.WebAudio.state.playing),Object.create(WaveSurfer.WebAudio.state.paused),Object.create(WaveSurfer.WebAudio.state.finished)],this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(this.PAUSED_STATE),this.setPlaybackRate(this.params.audioRate)},disconnectFilters:function(){this.filters&&(this.filters.forEach(function(a){a&&a.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))},setState:function(a){this.state!==this.states[a]&&(this.state=this.states[a],this.state.init.call(this))},setFilter:function(){this.setFilters([].slice.call(arguments))},setFilters:function(a){this.disconnectFilters(),a&&a.length&&(this.filters=a,this.analyser.disconnect(),a.reduce(function(a,b){return a.connect(b),b},this.analyser).connect(this.gainNode))},createScriptNode:function(){this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(this.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(this.scriptBufferSize),this.scriptNode.connect(this.ac.destination)},addOnAudioProcess:function(){var a=this;this.scriptNode.onaudioprocess=function(){var b=a.getCurrentTime();b>=a.getDuration()?(a.setState(a.FINISHED_STATE),a.fireEvent("pause")):b>=a.scheduledPause?(a.setState(a.PAUSED_STATE),a.fireEvent("pause")):a.state===a.states[a.PLAYING_STATE]&&a.fireEvent("audioprocess",b)}},removeOnAudioProcess:function(){this.scriptNode.onaudioprocess=null},createAnalyserNode:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)},createVolumeNode:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)},setVolume:function(a){this.gainNode.gain.value=a},getVolume:function(){return this.gainNode.gain.value},decodeArrayBuffer:function(a,b,c){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(a,function(a){b(a)}.bind(this),c)},getPeaks:function(a){for(var b=this.buffer.length/a,c=~~(b/10)||1,d=this.buffer.numberOfChannels,e=[],f=[],g=0;d>g;g++)for(var h=e[g]=[],i=this.buffer.getChannelData(g),j=0;a>j;j++){for(var k=~~(j*b),l=~~(k+b),m=i[0],n=i[0],o=k;l>o;o+=c){var p=i[o];p>n&&(n=p),m>p&&(m=p)}h[2*j]=n,h[2*j+1]=m,(0==g||n>f[2*j])&&(f[2*j]=n),(0==g||m<f[2*j+1])&&(f[2*j+1]=m)}return this.params.splitChannels?e:f},getPlayedPercents:function(){return this.state.getPlayedPercents.call(this)},disconnectSource:function(){this.source&&this.source.disconnect()},destroy:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect()},load:function(a){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=a,this.createSource()},createSource:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.value=this.playbackRate,this.source.buffer=this.buffer,this.source.connect(this.analyser)},isPaused:function(){return this.state!==this.states[this.PLAYING_STATE]},getDuration:function(){return this.buffer?this.buffer.duration:0},seekTo:function(a,b){return this.scheduledPause=null,null==a&&(a=this.getCurrentTime(),a>=this.getDuration()&&(a=0)),null==b&&(b=this.getDuration()),this.startPosition=a,this.lastPlay=this.ac.currentTime,this.state===this.states[this.FINISHED_STATE]&&this.setState(this.PAUSED_STATE),{start:a,end:b}},getPlayedTime:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate},play:function(a,b){this.createSource();var c=this.seekTo(a,b);a=c.start,b=c.end,this.scheduledPause=b,this.source.start(0,a,b-a),this.setState(this.PLAYING_STATE),this.fireEvent("play")},pause:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(this.PAUSED_STATE),this.fireEvent("pause")},getCurrentTime:function(){return this.state.getCurrentTime.call(this)},setPlaybackRate:function(a){a=a||1,this.isPaused()?this.playbackRate=a:(this.pause(),this.playbackRate=a,this.play())}},WaveSurfer.WebAudio.state={},WaveSurfer.WebAudio.state.playing={init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var a=this.getDuration();return this.getCurrentTime()/a||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}},WaveSurfer.WebAudio.state.paused={init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var a=this.getDuration();return this.getCurrentTime()/a||0},getCurrentTime:function(){return this.startPosition}},WaveSurfer.WebAudio.state.finished={init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}},WaveSurfer.util.extend(WaveSurfer.WebAudio,WaveSurfer.Observer),WaveSurfer.MediaElement=Object.create(WaveSurfer.WebAudio),WaveSurfer.util.extend(WaveSurfer.MediaElement,{init:function(a){this.params=a,this.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){}},this.mediaType=a.mediaType.toLowerCase(),this.elementPosition=a.elementPosition},load:function(a,b,c){var d=this,e=document.createElement(this.mediaType);e.controls=this.params.mediaControls,e.autoplay=this.params.autoplay||!1,e.preload="auto",e.src=a,e.style.width="100%",e.addEventListener("error",function(){d.fireEvent("error","Error loading media element")}),e.addEventListener("canplay",function(){d.fireEvent("canplay")}),e.addEventListener("ended",function(){d.fireEvent("finish")}),e.addEventListener("timeupdate",function(){d.fireEvent("audioprocess",d.getCurrentTime())});var f=b.querySelector(this.mediaType);f&&b.removeChild(f),b.appendChild(e),this.media=e,this.peaks=c,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate)},isPaused:function(){return!this.media||this.media.paused},getDuration:function(){var a=this.media.duration;return a>=1/0&&(a=this.media.seekable.end()),a},getCurrentTime:function(){return this.media&&this.media.currentTime},getPlayedPercents:function(){return this.getCurrentTime()/this.getDuration()||0},setPlaybackRate:function(a){this.playbackRate=a||1,this.media.playbackRate=this.playbackRate},seekTo:function(a){null!=a&&(this.media.currentTime=a),this.clearPlayEnd()},play:function(a,b){this.seekTo(a),this.media.play(),b&&this.setPlayEnd(b),this.fireEvent("play")},pause:function(){this.media&&this.media.pause(),this.clearPlayEnd(),this.fireEvent("pause")},setPlayEnd:function(a){var b=this;this.onPlayEnd=function(c){c>=a&&(b.pause(),b.seekTo(a))},this.on("audioprocess",this.onPlayEnd)},clearPlayEnd:function(){this.onPlayEnd&&(this.un("audioprocess",this.onPlayEnd),this.onPlayEnd=null)},getPeaks:function(a){return this.buffer?WaveSurfer.WebAudio.getPeaks.call(this,a):this.peaks||[]},getVolume:function(){return this.media.volume},setVolume:function(a){this.media.volume=a},destroy:function(){this.pause(),this.unAll(),this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}),WaveSurfer.AudioElement=WaveSurfer.MediaElement,WaveSurfer.Drawer={init:function(a,b){this.container=a,this.params=b,this.width=0,this.height=b.height*this.params.pixelRatio,this.lastPos=0,this.createWrapper(),this.createElements()},createWrapper:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()},handleEvent:function(a){a.preventDefault();var b=this.wrapper.getBoundingClientRect();return(a.clientX-b.left+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0},setupWrapperEvents:function(){var a=this;this.wrapper.addEventListener("click",function(b){var c=a.wrapper.offsetHeight-a.wrapper.clientHeight;if(0!=c){var d=a.wrapper.getBoundingClientRect();if(b.clientY>=d.bottom-c)return}a.params.interact&&a.fireEvent("click",b,a.handleEvent(b))}),this.wrapper.addEventListener("scroll",function(b){a.fireEvent("scroll",b)})},drawPeaks:function(a,b){this.resetScroll(),this.setWidth(b),this.params.barWidth?this.drawBars(a):this.drawWave(a)},style:function(a,b){return Object.keys(b).forEach(function(c){a.style[c]!==b[c]&&(a.style[c]=b[c])}),a},resetScroll:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)},recenter:function(a){var b=this.wrapper.scrollWidth*a;this.recenterOnPosition(b,!0)},recenterOnPosition:function(a,b){var c=this.wrapper.scrollLeft,d=~~(this.wrapper.clientWidth/2),e=a-d,f=e-c,g=this.wrapper.scrollWidth-this.wrapper.clientWidth;if(0!=g){if(!b&&f>=-d&&d>f){var h=5;f=Math.max(-h,Math.min(h,f)),e=c+f}e=Math.max(0,Math.min(g,e)),e!=c&&(this.wrapper.scrollLeft=e)}},getWidth:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)},setWidth:function(a){a!=this.width&&(this.width=a,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize())},setHeight:function(a){a!=this.height&&(this.height=a,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize())},progress:function(a){var b=1/this.params.pixelRatio,c=Math.round(a*this.width)*b;if(c<this.lastPos||c-this.lastPos>=b){if(this.lastPos=c,this.params.scrollParent&&this.params.autoCenter){var d=~~(this.wrapper.scrollWidth*a);this.recenterOnPosition(d)}this.updateProgress(a)}},destroy:function(){this.unAll(),this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=null)},createElements:function(){},updateSize:function(){},drawWave:function(a,b){},clearWave:function(){},updateProgress:function(a){}},WaveSurfer.util.extend(WaveSurfer.Drawer,WaveSurfer.Observer),WaveSurfer.Drawer.Canvas=Object.create(WaveSurfer.Drawer),WaveSurfer.util.extend(WaveSurfer.Drawer.Canvas,{createElements:function(){var a=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:0,top:0,bottom:0}));if(this.waveCc=a.getContext("2d"),this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.params.waveColor!=this.params.progressColor){var b=this.progressWave.appendChild(document.createElement("canvas"));this.progressCc=b.getContext("2d")}},updateSize:function(){var a=Math.round(this.width/this.params.pixelRatio);this.waveCc.canvas.width=this.width,this.waveCc.canvas.height=this.height,this.style(this.waveCc.canvas,{width:a+"px"}),this.style(this.progressWave,{display:"block"}),this.progressCc&&(this.progressCc.canvas.width=this.width,this.progressCc.canvas.height=this.height,this.style(this.progressCc.canvas,{width:a+"px"})),this.clearWave()},clearWave:function(){this.waveCc.clearRect(0,0,this.width,this.height),this.progressCc&&this.progressCc.clearRect(0,0,this.width,this.height)},drawBars:function(a,b){if(a[0]instanceof Array){var c=a;if(this.params.splitChannels)return this.setHeight(c.length*this.params.height*this.params.pixelRatio),void c.forEach(this.drawBars,this);a=c[0]}var d=[].some.call(a,function(a){return 0>a});d&&(a=[].filter.call(a,function(a,b){return b%2==0}));var e=.5/this.params.pixelRatio,f=this.width,g=this.params.height*this.params.pixelRatio,h=g*b||0,i=g/2,j=a.length,k=this.params.barWidth*this.params.pixelRatio,l=Math.max(this.params.pixelRatio,~~(k/2)),m=k+l,n=1;this.params.normalize&&(n=Math.max.apply(Math,a));var o=j/f;this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(b){if(b)for(var c=0;f>c;c+=m){var d=Math.round(a[Math.floor(c*o)]/n*i);b.fillRect(c+e,i-d+h,k+e,2*d)}},this)},drawWave:function(a,b){if(a[0]instanceof Array){var c=a;if(this.params.splitChannels)return this.setHeight(c.length*this.params.height*this.params.pixelRatio),void c.forEach(this.drawWave,this);a=c[0]}var d=[].some.call(a,function(a){return 0>a});if(!d){for(var e=[],f=0,g=a.length;g>f;f++)e[2*f]=a[f],e[2*f+1]=-a[f];a=e}var h=.5/this.params.pixelRatio,i=this.params.height*this.params.pixelRatio,j=i*b||0,k=i/2,l=~~(a.length/2),m=1;this.params.fillParent&&this.width!=l&&(m=this.width/l);var n=1;if(this.params.normalize){var o=Math.max.apply(Math,a),p=Math.min.apply(Math,a);n=-p>o?-p:o}this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(b){if(b){b.beginPath(),b.moveTo(h,k+j);for(var c=0;l>c;c++){var d=Math.round(a[2*c]/n*k);b.lineTo(c*m+h,k-d+j)}for(var c=l-1;c>=0;c--){var d=Math.round(a[2*c+1]/n*k);b.lineTo(c*m+h,k-d+j)}b.closePath(),b.fill(),b.fillRect(0,k+j-h,this.width,h)}},this)},updateProgress:function(a){var b=Math.round(this.width*a)/this.params.pixelRatio;this.style(this.progressWave,{width:b+"px"})}}),function(){var a=function(){var a=document.querySelectorAll("wavesurfer");Array.prototype.forEach.call(a,function(a){var b=WaveSurfer.util.extend({container:a,backend:"MediaElement",mediaControls:!0},a.dataset);a.style.display="block";var c=WaveSurfer.create(b);if(a.dataset.peaks)var d=JSON.parse(a.dataset.peaks);c.load(a.dataset.url,d)})};"complete"===document.readyState?a():window.addEventListener("load",a)}();!function(e){function t(e){var t=e.length,r=$.type(e);return"function"===r||$.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e}if(!e.jQuery){var $=function(e,t){return new $.fn.init(e,t)};$.isWindow=function(e){return null!=e&&e==e.window},$.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?a[o.call(e)]||"object":typeof e},$.isArray=Array.isArray||function(e){return"array"===$.type(e)},$.isPlainObject=function(e){var t;if(!e||"object"!==$.type(e)||e.nodeType||$.isWindow(e))return!1;try{if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}for(t in e);return void 0===t||n.call(e,t)},$.each=function(e,r,a){var n,o=0,i=e.length,s=t(e);if(a){if(s)for(;i>o&&(n=r.apply(e[o],a),n!==!1);o++);else for(o in e)if(n=r.apply(e[o],a),n===!1)break}else if(s)for(;i>o&&(n=r.call(e[o],o,e[o]),n!==!1);o++);else for(o in e)if(n=r.call(e[o],o,e[o]),n===!1)break;return e},$.data=function(e,t,a){if(void 0===a){var n=e[$.expando],o=n&&r[n];if(void 0===t)return o;if(o&&t in o)return o[t]}else if(void 0!==t){var n=e[$.expando]||(e[$.expando]=++$.uuid);return r[n]=r[n]||{},r[n][t]=a,a}},$.removeData=function(e,t){var a=e[$.expando],n=a&&r[a];n&&$.each(t,function(e,t){delete n[t]})},$.extend=function(){var e,t,r,a,n,o,i=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof i&&(u=i,i=arguments[s]||{},s++),"object"!=typeof i&&"function"!==$.type(i)&&(i={}),s===l&&(i=this,s--);l>s;s++)if(null!=(n=arguments[s]))for(a in n)e=i[a],r=n[a],i!==r&&(u&&r&&($.isPlainObject(r)||(t=$.isArray(r)))?(t?(t=!1,o=e&&$.isArray(e)?e:[]):o=e&&$.isPlainObject(e)?e:{},i[a]=$.extend(u,o,r)):void 0!==r&&(i[a]=r));return i},$.queue=function(e,r,a){function n(e,r){var a=r||[];return null!=e&&(t(Object(e))?!function(e,t){for(var r=+t.length,a=0,n=e.length;r>a;)e[n++]=t[a++];if(r!==r)for(;void 0!==t[a];)e[n++]=t[a++];return e.length=n,e}(a,"string"==typeof e?[e]:e):[].push.call(a,e)),a}if(e){r=(r||"fx")+"queue";var o=$.data(e,r);return a?(!o||$.isArray(a)?o=$.data(e,r,n(a)):o.push(a),o):o||[]}},$.dequeue=function(e,t){$.each(e.nodeType?[e]:e,function(e,r){t=t||"fx";var a=$.queue(r,t),n=a.shift();"inprogress"===n&&(n=a.shift()),n&&("fx"===t&&a.unshift("inprogress"),n.call(r,function(){$.dequeue(r,t)}))})},$.fn=$.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),r=this.offset(),a=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:$(e).offset();return r.top-=parseFloat(t.style.marginTop)||0,r.left-=parseFloat(t.style.marginLeft)||0,e.style&&(a.top+=parseFloat(e.style.borderTopWidth)||0,a.left+=parseFloat(e.style.borderLeftWidth)||0),{top:r.top-a.top,left:r.left-a.left}}};var r={};$.expando="velocity"+(new Date).getTime(),$.uuid=0;for(var a={},n=a.hasOwnProperty,o=a.toString,i="Boolean Number String Function Array Date RegExp Object Error".split(" "),s=0;s<i.length;s++)a["[object "+i[s]+"]"]=i[s].toLowerCase();$.fn.init.prototype=$.fn,e.Velocity={Utilities:$}}}(window),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){return function(e,t,r,a){function n(e){for(var t=-1,r=e?e.length:0,a=[];++t<r;){var n=e[t];n&&a.push(n)}return a}function o(e){return g.isWrapped(e)?e=[].slice.call(e):g.isNode(e)&&(e=[e]),e}function i(e){var t=$.data(e,"velocity");return null===t?a:t}function s(e){return function(t){return Math.round(t*e)*(1/e)}}function l(e,r,a,n){function o(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function s(e){return 3*e}function l(e,t,r){return((o(t,r)*e+i(t,r))*e+s(t))*e}function u(e,t,r){return 3*o(t,r)*e*e+2*i(t,r)*e+s(t)}function c(t,r){for(var n=0;m>n;++n){var o=u(r,e,a);if(0===o)return r;var i=l(r,e,a)-t;r-=i/o}return r}function p(){for(var t=0;b>t;++t)w[t]=l(t*x,e,a)}function f(t,r,n){var o,i,s=0;do i=r+(n-r)/2,o=l(i,e,a)-t,o>0?n=i:r=i;while(Math.abs(o)>h&&++s<v);return i}function d(t){for(var r=0,n=1,o=b-1;n!=o&&w[n]<=t;++n)r+=x;--n;var i=(t-w[n])/(w[n+1]-w[n]),s=r+i*x,l=u(s,e,a);return l>=y?c(t,s):0==l?s:f(t,r,r+x)}function g(){V=!0,(e!=r||a!=n)&&p()}var m=4,y=.001,h=1e-7,v=10,b=11,x=1/(b-1),S="Float32Array"in t;if(4!==arguments.length)return!1;for(var P=0;4>P;++P)if("number"!=typeof arguments[P]||isNaN(arguments[P])||!isFinite(arguments[P]))return!1;e=Math.min(e,1),a=Math.min(a,1),e=Math.max(e,0),a=Math.max(a,0);var w=S?new Float32Array(b):new Array(b),V=!1,C=function(t){return V||g(),e===r&&a===n?t:0===t?0:1===t?1:l(d(t),r,n)};C.getControlPoints=function(){return[{x:e,y:r},{x:a,y:n}]};var T="generateBezier("+[e,r,a,n]+")";return C.toString=function(){return T},C}function u(e,t){var r=e;return g.isString(e)?v.Easings[e]||(r=!1):r=g.isArray(e)&&1===e.length?s.apply(null,e):g.isArray(e)&&2===e.length?b.apply(null,e.concat([t])):g.isArray(e)&&4===e.length?l.apply(null,e):!1,r===!1&&(r=v.Easings[v.defaults.easing]?v.defaults.easing:h),r}function c(e){if(e){var t=(new Date).getTime(),r=v.State.calls.length;r>1e4&&(v.State.calls=n(v.State.calls));for(var o=0;r>o;o++)if(v.State.calls[o]){var s=v.State.calls[o],l=s[0],u=s[2],f=s[3],d=!!f,m=null;f||(f=v.State.calls[o][3]=t-16);for(var y=Math.min((t-f)/u.duration,1),h=0,b=l.length;b>h;h++){var S=l[h],w=S.element;if(i(w)){var V=!1;if(u.display!==a&&null!==u.display&&"none"!==u.display){if("flex"===u.display){var C=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];$.each(C,function(e,t){x.setPropertyValue(w,"display",t)})}x.setPropertyValue(w,"display",u.display)}u.visibility!==a&&"hidden"!==u.visibility&&x.setPropertyValue(w,"visibility",u.visibility);for(var T in S)if("element"!==T){var k=S[T],A,F=g.isString(k.easing)?v.Easings[k.easing]:k.easing;if(1===y)A=k.endValue;else{var E=k.endValue-k.startValue;if(A=k.startValue+E*F(y,u,E),!d&&A===k.currentValue)continue}if(k.currentValue=A,"tween"===T)m=A;else{if(x.Hooks.registered[T]){var j=x.Hooks.getRoot(T),H=i(w).rootPropertyValueCache[j];H&&(k.rootPropertyValue=H)}var N=x.setPropertyValue(w,T,k.currentValue+(0===parseFloat(A)?"":k.unitType),k.rootPropertyValue,k.scrollData);x.Hooks.registered[T]&&(i(w).rootPropertyValueCache[j]=x.Normalizations.registered[j]?x.Normalizations.registered[j]("extract",null,N[1]):N[1]),"transform"===N[0]&&(V=!0)}}u.mobileHA&&i(w).transformCache.translate3d===a&&(i(w).transformCache.translate3d="(0px, 0px, 0px)",V=!0),V&&x.flushTransformCache(w)}}u.display!==a&&"none"!==u.display&&(v.State.calls[o][2].display=!1),u.visibility!==a&&"hidden"!==u.visibility&&(v.State.calls[o][2].visibility=!1),u.progress&&u.progress.call(s[1],s[1],y,Math.max(0,f+u.duration-t),f,m),1===y&&p(o)}}v.State.isTicking&&P(c)}function p(e,t){if(!v.State.calls[e])return!1;for(var r=v.State.calls[e][0],n=v.State.calls[e][1],o=v.State.calls[e][2],s=v.State.calls[e][4],l=!1,u=0,c=r.length;c>u;u++){var p=r[u].element;if(t||o.loop||("none"===o.display&&x.setPropertyValue(p,"display",o.display),"hidden"===o.visibility&&x.setPropertyValue(p,"visibility",o.visibility)),o.loop!==!0&&($.queue(p)[1]===a||!/\.velocityQueueEntryFlag/i.test($.queue(p)[1]))&&i(p)){i(p).isAnimating=!1,i(p).rootPropertyValueCache={};var f=!1;$.each(x.Lists.transforms3D,function(e,t){var r=/^scale/.test(t)?1:0,n=i(p).transformCache[t];i(p).transformCache[t]!==a&&new RegExp("^\\("+r+"[^.]").test(n)&&(f=!0,delete i(p).transformCache[t])}),o.mobileHA&&(f=!0,delete i(p).transformCache.translate3d),f&&x.flushTransformCache(p),x.Values.removeClass(p,"velocity-animating")}if(!t&&o.complete&&!o.loop&&u===c-1)try{o.complete.call(n,n)}catch(d){setTimeout(function(){throw d},1)}s&&o.loop!==!0&&s(n),i(p)&&o.loop===!0&&!t&&($.each(i(p).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),v(p,"reverse",{loop:!0,delay:o.delay})),o.queue!==!1&&$.dequeue(p,o.queue)}v.State.calls[e]=!1;for(var g=0,m=v.State.calls.length;m>g;g++)if(v.State.calls[g]!==!1){l=!0;break}l===!1&&(v.State.isTicking=!1,delete v.State.calls,v.State.calls=[])}var f=function(){if(r.documentMode)return r.documentMode;for(var e=7;e>4;e--){var t=r.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return a}(),d=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var r=(new Date).getTime(),a;return a=Math.max(0,16-(r-e)),e=r+a,setTimeout(function(){t(r+a)},a)}}(),g={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==a&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},$,m=!1;if(e.fn&&e.fn.jquery?($=e,m=!0):$=t.Velocity.Utilities,8>=f&&!m)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=f)return void(jQuery.fn.velocity=jQuery.fn.animate);var y=400,h="swing",v={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:r.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:$,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:y,easing:h,begin:a,complete:a,progress:a,display:a,visibility:a,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){$.data(e,"velocity",{isSVG:g.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};t.pageYOffset!==a?(v.State.scrollAnchor=t,v.State.scrollPropertyLeft="pageXOffset",v.State.scrollPropertyTop="pageYOffset"):(v.State.scrollAnchor=r.documentElement||r.body.parentNode||r.body,v.State.scrollPropertyLeft="scrollLeft",v.State.scrollPropertyTop="scrollTop");var b=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,a){var n={x:t.x+a.dx*r,v:t.v+a.dv*r,tension:t.tension,friction:t.friction};return{dx:n.v,dv:e(n)}}function r(r,a){var n={dx:r.v,dv:e(r)},o=t(r,.5*a,n),i=t(r,.5*a,o),s=t(r,a,i),l=1/6*(n.dx+2*(o.dx+i.dx)+s.dx),u=1/6*(n.dv+2*(o.dv+i.dv)+s.dv);return r.x=r.x+l*a,r.v=r.v+u*a,r}return function a(e,t,n){var o={x:-1,v:0,tension:null,friction:null},i=[0],s=0,l=1e-4,u=.016,c,p,f;for(e=parseFloat(e)||500,t=parseFloat(t)||20,n=n||null,o.tension=e,o.friction=t,c=null!==n,c?(s=a(e,t),p=s/n*u):p=u;;)if(f=r(f||o,p),i.push(1+f.x),s+=16,!(Math.abs(f.x)>l&&Math.abs(f.v)>l))break;return c?function(e){return i[e*(i.length-1)|0]}:s}}();v.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},$.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){v.Easings[t[0]]=l.apply(null,t[1])});var x=v.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<x.Lists.colors.length;e++){var t="color"===x.Lists.colors[e]?"0 0 0 1":"255 255 255 1";x.Hooks.templates[x.Lists.colors[e]]=["Red Green Blue Alpha",t]}var r,a,n;if(f)for(r in x.Hooks.templates){a=x.Hooks.templates[r],n=a[0].split(" ");var o=a[1].match(x.RegEx.valueSplit);"Color"===n[0]&&(n.push(n.shift()),o.push(o.shift()),x.Hooks.templates[r]=[n.join(" "),o.join(" ")])}for(r in x.Hooks.templates){a=x.Hooks.templates[r],n=a[0].split(" ");for(var e in n){var i=r+n[e],s=e;x.Hooks.registered[i]=[r,s]}}},getRoot:function(e){var t=x.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return x.RegEx.valueUnwrap.test(t)&&(t=t.match(x.RegEx.valueUnwrap)[1]),x.Values.isCSSNullValue(t)&&(t=x.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=x.Hooks.registered[e];if(r){var a=r[0],n=r[1];return t=x.Hooks.cleanRootPropertyValue(a,t),t.toString().match(x.RegEx.valueSplit)[n]}return t},injectValue:function(e,t,r){var a=x.Hooks.registered[e];if(a){var n=a[0],o=a[1],i,s;return r=x.Hooks.cleanRootPropertyValue(n,r),i=r.toString().match(x.RegEx.valueSplit),i[o]=t,s=i.join(" ")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case"name":return"clip";case"extract":var a;return x.RegEx.wrappedValueAlreadyExtracted.test(r)?a=r:(a=r.toString().match(x.RegEx.valueUnwrap),a=a?a[1].replace(/,(\s+)?/g," "):r),a;case"inject":return"rect("+r+")"}},blur:function(e,t,r){switch(e){case"name":return v.State.isFirefox?"filter":"-webkit-filter";case"extract":var a=parseFloat(r);if(!a&&0!==a){var n=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i);a=n?n[1]:0}return a;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(e,t,r){if(8>=f)switch(e){case"name":return"filter";case"extract":var a=r.toString().match(/alpha\(opacity=(.*)\)/i);return r=a?a[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(r)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(e){case"name":return"opacity";case"extract":return r;case"inject":return r}}},register:function(){9>=f||v.State.isGingerbread||(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));for(var e=0;e<x.Lists.transformsBase.length;e++)!function(){var t=x.Lists.transformsBase[e];x.Normalizations.registered[t]=function(e,r,n){switch(e){case"name":return"transform";case"extract":return i(r)===a||i(r).transformCache[t]===a?/^scale/i.test(t)?1:0:i(r).transformCache[t].replace(/[()]/g,"");case"inject":var o=!1;switch(t.substr(0,t.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(n);break;case"scal":case"scale":v.State.isAndroid&&i(r).transformCache[t]===a&&1>n&&(n=1),o=!/(\d)$/i.test(n);break;case"skew":o=!/(deg|\d)$/i.test(n);break;case"rotate":o=!/(deg|\d)$/i.test(n)}return o||(i(r).transformCache[t]="("+n+")"),i(r).transformCache[t]}}}();for(var e=0;e<x.Lists.colors.length;e++)!function(){var t=x.Lists.colors[e];x.Normalizations.registered[t]=function(e,r,n){switch(e){case"name":return t;case"extract":var o;if(x.RegEx.wrappedValueAlreadyExtracted.test(n))o=n;else{var i,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(n)?i=s[n]!==a?s[n]:s.black:x.RegEx.isHex.test(n)?i="rgb("+x.Values.hexToRgb(n).join(" ")+")":/^rgba?\(/i.test(n)||(i=s.black),o=(i||n).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=f||3!==o.split(" ").length||(o+=" 1"),o;case"inject":return 8>=f?4===n.split(" ").length&&(n=n.split(/\s+/).slice(0,3).join(" ")):3===n.split(" ").length&&(n+=" 1"),(8>=f?"rgb":"rgba")+"("+n.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(f||v.State.isAndroid&&!v.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(v.State.prefixMatches[e])return[v.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],r=0,a=t.length;a>r;r++){var n;if(n=0===r?e:t[r]+e.replace(/^\w/,function(e){return e.toUpperCase()}),g.isString(v.State.prefixElement.style[n]))return v.State.prefixMatches[e]=n,[n,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,a;return e=e.replace(t,function(e,t,r,a){return t+t+r+r+a+a}),a=r.exec(e),a?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,r,n,o){function s(e,r){function n(){u&&x.setPropertyValue(e,"display","none")}var l=0;if(8>=f)l=$.css(e,r);else{var u=!1;if(/^(width|height)$/.test(r)&&0===x.getPropertyValue(e,"display")&&(u=!0,x.setPropertyValue(e,"display",x.Values.getDisplayType(e))),!o){if("height"===r&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(x.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(e,"paddingBottom"))||0);return n(),c}if("width"===r&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var p=e.offsetWidth-(parseFloat(x.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(e,"paddingRight"))||0);return n(),p}}var d;d=i(e)===a?t.getComputedStyle(e,null):i(e).computedStyle?i(e).computedStyle:i(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===r&&(r="borderTopColor"),l=9===f&&"filter"===r?d.getPropertyValue(r):d[r],(""===l||null===l)&&(l=e.style[r]),n()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(r)){var g=s(e,"position");("fixed"===g||"absolute"===g&&/top|left/i.test(r))&&(l=$(e).position()[r]+"px")}return l}var l;if(x.Hooks.registered[r]){var u=r,c=x.Hooks.getRoot(u);n===a&&(n=x.getPropertyValue(e,x.Names.prefixCheck(c)[0])),x.Normalizations.registered[c]&&(n=x.Normalizations.registered[c]("extract",e,n)),l=x.Hooks.extractValue(u,n)}else if(x.Normalizations.registered[r]){var p,d;p=x.Normalizations.registered[r]("name",e),"transform"!==p&&(d=s(e,x.Names.prefixCheck(p)[0]),x.Values.isCSSNullValue(d)&&x.Hooks.templates[r]&&(d=x.Hooks.templates[r][1])),l=x.Normalizations.registered[r]("extract",e,d)}if(!/^[\d-]/.test(l))if(i(e)&&i(e).isSVG&&x.Names.SVGAttribute(r))if(/^(height|width)$/i.test(r))try{l=e.getBBox()[r]}catch(g){l=0}else l=e.getAttribute(r);else l=s(e,x.Names.prefixCheck(r)[0]);return x.Values.isCSSNullValue(l)&&(l=0),v.debug>=2&&console.log("Get "+r+": "+l),l},setPropertyValue:function(e,r,a,n,o){var s=r;if("scroll"===r)o.container?o.container["scroll"+o.direction]=a:"Left"===o.direction?t.scrollTo(a,o.alternateValue):t.scrollTo(o.alternateValue,a);else if(x.Normalizations.registered[r]&&"transform"===x.Normalizations.registered[r]("name",e))x.Normalizations.registered[r]("inject",e,a),s="transform",a=i(e).transformCache[r];else{if(x.Hooks.registered[r]){var l=r,u=x.Hooks.getRoot(r);n=n||x.getPropertyValue(e,u),a=x.Hooks.injectValue(l,a,n),r=u}if(x.Normalizations.registered[r]&&(a=x.Normalizations.registered[r]("inject",e,a),r=x.Normalizations.registered[r]("name",e)),s=x.Names.prefixCheck(r)[0],8>=f)try{e.style[s]=a}catch(c){v.debug&&console.log("Browser does not support ["+a+"] for ["+s+"]")}else i(e)&&i(e).isSVG&&x.Names.SVGAttribute(r)?e.setAttribute(r,a):e.style[s]=a;v.debug>=2&&console.log("Set "+r+" ("+s+"): "+a)}return[s,a]},flushTransformCache:function(e){function t(t){return parseFloat(x.getPropertyValue(e,t))}var r="";if((f||v.State.isAndroid&&!v.State.isChrome)&&i(e).isSVG){var a={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};$.each(i(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),a[e]&&(r+=e+"("+a[e].join(" ")+") ",delete a[e])})}else{var n,o;$.each(i(e).transformCache,function(t){return n=i(e).transformCache[t],"transformPerspective"===t?(o=n,!0):(9===f&&"rotateZ"===t&&(t="rotate"),void(r+=t+n+" "))}),o&&(r="perspective"+o+" "+r)}x.setPropertyValue(e,"transform",r)}};x.Hooks.register(),x.Normalizations.register(),v.hook=function(e,t,r){var n=a;return e=o(e),$.each(e,function(e,o){if(i(o)===a&&v.init(o),r===a)n===a&&(n=v.CSS.getPropertyValue(o,t));else{var s=v.CSS.setPropertyValue(o,t,r);"transform"===s[0]&&v.CSS.flushTransformCache(o),n=s}}),n};var S=function(){function e(){return l?T.promise||null:f}function n(){function e(e){function p(e,t){var r=a,i=a,s=a;return g.isArray(e)?(r=e[0],!g.isArray(e[1])&&/^[\d-]/.test(e[1])||g.isFunction(e[1])||x.RegEx.isHex.test(e[1])?s=e[1]:(g.isString(e[1])&&!x.RegEx.isHex.test(e[1])||g.isArray(e[1]))&&(i=t?e[1]:u(e[1],o.duration),e[2]!==a&&(s=e[2]))):r=e,t||(i=i||o.easing),g.isFunction(r)&&(r=r.call(n,w,P)),g.isFunction(s)&&(s=s.call(n,w,P)),[r||0,i,s]}function f(e,t){var r,a;return a=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return r=e,""}),r||(r=x.Values.getUnitType(e)),[a,r]}function d(){var e={myParent:n.parentNode||r.body,position:x.getPropertyValue(n,"position"),fontSize:x.getPropertyValue(n,"fontSize")},a=e.position===N.lastPosition&&e.myParent===N.lastParent,o=e.fontSize===N.lastFontSize;N.lastParent=e.myParent,N.lastPosition=e.position,N.lastFontSize=e.fontSize;var s=100,l={};if(o&&a)l.emToPx=N.lastEmToPx,l.percentToPxWidth=N.lastPercentToPxWidth,l.percentToPxHeight=N.lastPercentToPxHeight;else{var u=i(n).isSVG?r.createElementNS("http://www.w3.org/2000/svg","rect"):r.createElement("div");v.init(u),e.myParent.appendChild(u),$.each(["overflow","overflowX","overflowY"],function(e,t){v.CSS.setPropertyValue(u,t,"hidden")}),v.CSS.setPropertyValue(u,"position",e.position),v.CSS.setPropertyValue(u,"fontSize",e.fontSize),v.CSS.setPropertyValue(u,"boxSizing","content-box"),$.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){v.CSS.setPropertyValue(u,t,s+"%")}),v.CSS.setPropertyValue(u,"paddingLeft",s+"em"),l.percentToPxWidth=N.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(u,"width",null,!0))||1)/s,l.percentToPxHeight=N.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(u,"height",null,!0))||1)/s,l.emToPx=N.lastEmToPx=(parseFloat(x.getPropertyValue(u,"paddingLeft"))||1)/s,e.myParent.removeChild(u)}return null===N.remToPx&&(N.remToPx=parseFloat(x.getPropertyValue(r.body,"fontSize"))||16),null===N.vwToPx&&(N.vwToPx=parseFloat(t.innerWidth)/100,N.vhToPx=parseFloat(t.innerHeight)/100),l.remToPx=N.remToPx,l.vwToPx=N.vwToPx,l.vhToPx=N.vhToPx,v.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),n),l}if(o.begin&&0===w)try{o.begin.call(m,m)}catch(y){setTimeout(function(){throw y},1)}if("scroll"===k){var S=/^x$/i.test(o.axis)?"Left":"Top",V=parseFloat(o.offset)||0,C,A,F;o.container?g.isWrapped(o.container)||g.isNode(o.container)?(o.container=o.container[0]||o.container,C=o.container["scroll"+S],F=C+$(n).position()[S.toLowerCase()]+V):o.container=null:(C=v.State.scrollAnchor[v.State["scrollProperty"+S]],A=v.State.scrollAnchor[v.State["scrollProperty"+("Left"===S?"Top":"Left")]],F=$(n).offset()[S.toLowerCase()]+V),s={scroll:{rootPropertyValue:!1,startValue:C,currentValue:C,endValue:F,unitType:"",easing:o.easing,scrollData:{container:o.container,direction:S,alternateValue:A}},element:n},v.debug&&console.log("tweensContainer (scroll): ",s.scroll,n)}else if("reverse"===k){if(!i(n).tweensContainer)return void $.dequeue(n,o.queue);"none"===i(n).opts.display&&(i(n).opts.display="auto"),"hidden"===i(n).opts.visibility&&(i(n).opts.visibility="visible"),i(n).opts.loop=!1,i(n).opts.begin=null,i(n).opts.complete=null,b.easing||delete o.easing,b.duration||delete o.duration,o=$.extend({},i(n).opts,o);var E=$.extend(!0,{},i(n).tweensContainer);for(var j in E)if("element"!==j){var H=E[j].startValue;E[j].startValue=E[j].currentValue=E[j].endValue,E[j].endValue=H,g.isEmptyObject(b)||(E[j].easing=o.easing),v.debug&&console.log("reverse tweensContainer ("+j+"): "+JSON.stringify(E[j]),n)}s=E}else if("start"===k){var E;i(n).tweensContainer&&i(n).isAnimating===!0&&(E=i(n).tweensContainer),$.each(h,function(e,t){if(RegExp("^"+x.Lists.colors.join("$|^")+"$").test(e)){var r=p(t,!0),n=r[0],o=r[1],i=r[2];if(x.RegEx.isHex.test(n)){for(var s=["Red","Green","Blue"],l=x.Values.hexToRgb(n),u=i?x.Values.hexToRgb(i):a,c=0;c<s.length;c++){var f=[l[c]];o&&f.push(o),u!==a&&f.push(u[c]),h[e+s[c]]=f}delete h[e]}}});for(var R in h){var O=p(h[R]),z=O[0],q=O[1],M=O[2];R=x.Names.camelCase(R);var I=x.Hooks.getRoot(R),B=!1;if(i(n).isSVG||"tween"===I||x.Names.prefixCheck(I)[1]!==!1||x.Normalizations.registered[I]!==a){(o.display!==a&&null!==o.display&&"none"!==o.display||o.visibility!==a&&"hidden"!==o.visibility)&&/opacity|filter/.test(R)&&!M&&0!==z&&(M=0),o._cacheValues&&E&&E[R]?(M===a&&(M=E[R].endValue+E[R].unitType),B=i(n).rootPropertyValueCache[I]):x.Hooks.registered[R]?M===a?(B=x.getPropertyValue(n,I),M=x.getPropertyValue(n,R,B)):B=x.Hooks.templates[I][1]:M===a&&(M=x.getPropertyValue(n,R));var W,G,D,X=!1;if(W=f(R,M),M=W[0],D=W[1],W=f(R,z),z=W[0].replace(/^([+-\/*])=/,function(e,t){return X=t,""}),G=W[1],M=parseFloat(M)||0,z=parseFloat(z)||0,"%"===G&&(/^(fontSize|lineHeight)$/.test(R)?(z/=100,G="em"):/^scale/.test(R)?(z/=100,G=""):/(Red|Green|Blue)$/i.test(R)&&(z=z/100*255,G="")),/[\/*]/.test(X))G=D;else if(D!==G&&0!==M)if(0===z)G=D;else{l=l||d();var Y=/margin|padding|left|right|width|text|word|letter/i.test(R)||/X$/.test(R)||"x"===R?"x":"y";switch(D){case"%":M*="x"===Y?l.percentToPxWidth:l.percentToPxHeight;break;case"px":break;default:M*=l[D+"ToPx"]}switch(G){case"%":M*=1/("x"===Y?l.percentToPxWidth:l.percentToPxHeight);break;case"px":break;default:M*=1/l[G+"ToPx"]}}switch(X){case"+":z=M+z;break;case"-":z=M-z;break;case"*":z=M*z;break;case"/":z=M/z}s[R]={rootPropertyValue:B,startValue:M,currentValue:M,endValue:z,unitType:G,easing:q},v.debug&&console.log("tweensContainer ("+R+"): "+JSON.stringify(s[R]),n)}else v.debug&&console.log("Skipping ["+I+"] due to a lack of browser support.")}s.element=n}s.element&&(x.Values.addClass(n,"velocity-animating"),L.push(s),""===o.queue&&(i(n).tweensContainer=s,i(n).opts=o),i(n).isAnimating=!0,w===P-1?(v.State.calls.push([L,m,o,null,T.resolver]),v.State.isTicking===!1&&(v.State.isTicking=!0,c())):w++)}var n=this,o=$.extend({},v.defaults,b),s={},l;switch(i(n)===a&&v.init(n),parseFloat(o.delay)&&o.queue!==!1&&$.queue(n,o.queue,function(e){v.velocityQueueEntryFlag=!0,i(n).delayTimer={setTimeout:setTimeout(e,parseFloat(o.delay)),next:e}}),o.duration.toString().toLowerCase()){case"fast":o.duration=200;break;case"normal":o.duration=y;break;case"slow":o.duration=600;break;default:o.duration=parseFloat(o.duration)||1}v.mock!==!1&&(v.mock===!0?o.duration=o.delay=1:(o.duration*=parseFloat(v.mock)||1,o.delay*=parseFloat(v.mock)||1)),o.easing=u(o.easing,o.duration),o.begin&&!g.isFunction(o.begin)&&(o.begin=null),o.progress&&!g.isFunction(o.progress)&&(o.progress=null),o.complete&&!g.isFunction(o.complete)&&(o.complete=null),o.display!==a&&null!==o.display&&(o.display=o.display.toString().toLowerCase(),"auto"===o.display&&(o.display=v.CSS.Values.getDisplayType(n))),o.visibility!==a&&null!==o.visibility&&(o.visibility=o.visibility.toString().toLowerCase()),o.mobileHA=o.mobileHA&&v.State.isMobile&&!v.State.isGingerbread,o.queue===!1?o.delay?setTimeout(e,o.delay):e():$.queue(n,o.queue,function(t,r){return r===!0?(T.promise&&T.resolver(m),!0):(v.velocityQueueEntryFlag=!0,void e(t))}),""!==o.queue&&"fx"!==o.queue||"inprogress"===$.queue(n)[0]||$.dequeue(n)}var s=arguments[0]&&(arguments[0].p||$.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||g.isString(arguments[0].properties)),l,f,d,m,h,b;if(g.isWrapped(this)?(l=!1,d=0,m=this,f=this):(l=!0,d=1,m=s?arguments[0].elements||arguments[0].e:arguments[0]),m=o(m)){s?(h=arguments[0].properties||arguments[0].p,b=arguments[0].options||arguments[0].o):(h=arguments[d],b=arguments[d+1]);var P=m.length,w=0;if(!/^(stop|finish)$/i.test(h)&&!$.isPlainObject(b)){var V=d+1;b={};for(var C=V;C<arguments.length;C++)g.isArray(arguments[C])||!/^(fast|normal|slow)$/i.test(arguments[C])&&!/^\d/.test(arguments[C])?g.isString(arguments[C])||g.isArray(arguments[C])?b.easing=arguments[C]:g.isFunction(arguments[C])&&(b.complete=arguments[C]):b.duration=arguments[C]}var T={promise:null,resolver:null,rejecter:null};l&&v.Promise&&(T.promise=new v.Promise(function(e,t){T.resolver=e,T.rejecter=t}));var k;switch(h){case"scroll":k="scroll";break;case"reverse":k="reverse";break;case"finish":case"stop":$.each(m,function(e,t){i(t)&&i(t).delayTimer&&(clearTimeout(i(t).delayTimer.setTimeout),i(t).delayTimer.next&&i(t).delayTimer.next(),delete i(t).delayTimer)});var A=[];return $.each(v.State.calls,function(e,t){t&&$.each(t[1],function(r,n){var o=b===a?"":b;return o===!0||t[2].queue===o||b===a&&t[2].queue===!1?void $.each(m,function(r,a){a===n&&((b===!0||g.isString(b))&&($.each($.queue(a,g.isString(b)?b:""),function(e,t){g.isFunction(t)&&t(null,!0)}),$.queue(a,g.isString(b)?b:"",[])),"stop"===h?(i(a)&&i(a).tweensContainer&&o!==!1&&$.each(i(a).tweensContainer,function(e,t){t.endValue=t.currentValue}),A.push(e)):"finish"===h&&(t[2].duration=1))}):!0})}),"stop"===h&&($.each(A,function(e,t){p(t,!0)}),T.promise&&T.resolver(m)),e();default:if(!$.isPlainObject(h)||g.isEmptyObject(h)){if(g.isString(h)&&v.Redirects[h]){var F=$.extend({},b),E=F.duration,j=F.delay||0;return F.backwards===!0&&(m=$.extend(!0,[],m).reverse()),$.each(m,function(e,t){parseFloat(F.stagger)?F.delay=j+parseFloat(F.stagger)*e:g.isFunction(F.stagger)&&(F.delay=j+F.stagger.call(t,e,P)),F.drag&&(F.duration=parseFloat(E)||(/^(callout|transition)/.test(h)?1e3:y),F.duration=Math.max(F.duration*(F.backwards?1-e/P:(e+1)/P),.75*F.duration,200)),v.Redirects[h].call(t,t,F||{},e,P,m,T.promise?T:a)}),e()}var H="Velocity: First argument ("+h+") was not a property map, a known action, or a registered redirect. Aborting.";return T.promise?T.rejecter(new Error(H)):console.log(H),e()}k="start"}var N={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},L=[];$.each(m,function(e,t){g.isNode(t)&&n.call(t)});var F=$.extend({},v.defaults,b),R;if(F.loop=parseInt(F.loop),R=2*F.loop-1,F.loop)for(var O=0;R>O;O++){var z={delay:F.delay,progress:F.progress};O===R-1&&(z.display=F.display,z.visibility=F.visibility,z.complete=F.complete),S(m,"reverse",z)}return e()}};v=$.extend(S,v),v.animate=S;var P=t.requestAnimationFrame||d;return v.State.isMobile||r.hidden===a||r.addEventListener("visibilitychange",function(){r.hidden?(P=function(e){return setTimeout(function(){e(!0)},16)},c()):P=t.requestAnimationFrame||d}),e.Velocity=v,e!==t&&(e.fn.velocity=S,e.fn.velocity.defaults=v.defaults),$.each(["Down","Up"],function(e,t){v.Redirects["slide"+t]=function(e,r,n,o,i,s){var l=$.extend({},r),u=l.begin,c=l.complete,p={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},f={};l.display===a&&(l.display="Down"===t?"inline"===v.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){u&&u.call(i,i);for(var r in p){f[r]=e.style[r];var a=v.CSS.getPropertyValue(e,r);p[r]="Down"===t?[a,0]:[0,a]}f.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in f)e.style[t]=f[t];c&&c.call(i,i),s&&s.resolver(i)},v(e,p,l)}}),$.each(["In","Out"],function(e,t){v.Redirects["fade"+t]=function(e,r,n,o,i,s){var l=$.extend({},r),u={opacity:"In"===t?1:0},c=l.complete;l.complete=n!==o-1?l.begin=null:function(){c&&c.call(i,i),s&&s.resolver(i)},l.display===a&&(l.display="In"===t?"auto":"none"),v(this,u,l)}}),v}(window.jQuery||window.Zepto||window,window,document)});(function(factory){if(typeof define==='function'&&define.amd){define(factory)}else if(typeof exports==='object'){module.exports=factory()}else{var _OldCookies=window.Cookies;var api=window.Cookies=factory();api.noConflict=function(){window.Cookies=_OldCookies;return api}}}(function(){function extend(){var i=0;var result={};for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){result[key]=attributes[key]}}
return result}
function init(converter){function api(key,value,attributes){var result;if(arguments.length>1){attributes=extend({path:'/'},api.defaults,attributes);if(typeof attributes.expires==='number'){var expires=new Date();expires.setMilliseconds(expires.getMilliseconds()+attributes.expires*864e+5);attributes.expires=expires}
try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result}}catch(e){}
value=encodeURIComponent(String(value));value=value.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);key=encodeURIComponent(String(key));key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);key=key.replace(/[\(\)]/g,escape);return(document.cookie=[key,'=',value,attributes.expires&&'; expires='+attributes.expires.toUTCString(),attributes.path&&'; path='+attributes.path,attributes.domain&&'; domain='+attributes.domain,attributes.secure?'; secure':''].join(''))}
if(!key){result={}}
var cookies=document.cookie?document.cookie.split('; '):[];var rdecode=/(%[0-9A-Z]{2})+/g;var i=0;for(;i<cookies.length;i++){var parts=cookies[i].split('=');var name=parts[0].replace(rdecode,decodeURIComponent);var cookie=parts.slice(1).join('=');if(cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1)}
try{cookie=converter&&converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent);if(this.json){try{cookie=JSON.parse(cookie)}catch(e){}}
if(key===name){result=cookie;break}
if(!key){result[name]=cookie}}catch(e){}}
return result}
api.get=api.set=api;api.getJSON=function(){return api.apply({json:!0},[].slice.call(arguments))};api.defaults={};api.remove=function(key,attributes){api(key,'',extend(attributes,{expires:-1}))};api.withConverter=init;return api}
return init()}));"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,o){var a=function(e){var a=o.createElement("script"),i=o.getElementsByTagName("head")[0];"file://"==t.location.origin?a.src="http://www.youtube.com/iframe_api":a.src="//www.youtube.com/iframe_api",i.appendChild(a),i=null,a=null,n(e)},n=function(o){"undefined"==typeof YT&&"undefined"==typeof t.loadingPlayer?(t.loadingPlayer=!0,t.dfd=e.Deferred(),t.onYouTubeIframeAPIReady=function(){t.onYouTubeIframeAPIReady=null,t.dfd.resolve("done"),o()}):"object"==typeof YT?o():t.dfd.done(function(e){o()})};YTPlayer={player:null,defaults:{ratio:16/9,videoId:"LSmgKRx5pBo",mute:!0,repeat:!0,width:e(t).width(),playButtonClass:"YTPlayer-play",pauseButtonClass:"YTPlayer-pause",muteButtonClass:"YTPlayer-mute",volumeUpClass:"YTPlayer-volume-up",volumeDownClass:"YTPlayer-volume-down",start:0,pauseOnScroll:!1,fitToBackground:!0,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0},events:null},init:function(o,n){var i=this;return i.userOptions=n,i.$body=e("body"),i.$node=e(o),i.$window=e(t),i.defaults.events={onReady:function(e){i.player.setPlaybackQuality("hd1080"),i.onPlayerReady(e),i.options.pauseOnScroll&&i.pauseOnScroll(),"function"==typeof i.options.callback&&i.options.callback.call(this)},onStateChange:function(e){1===e.data?(i.$node.find("img").fadeOut(400),i.$node.addClass("loaded")):0===e.data&&i.options.repeat&&i.player.seekTo(i.options.start)}},i.options=e.extend(!0,{},i.defaults,i.userOptions),i.options.height=Math.ceil(i.options.width/i.options.ratio),i.ID=(new Date).getTime(),i.holderID="YTPlayer-ID-"+i.ID,i.options.fitToBackground?i.createBackgroundVideo():i.createContainerVideo(),i.$window.on("resize.YTplayer"+i.ID,function(){i.resize(i)}),a(i.onYouTubeIframeAPIReady.bind(i)),i.resize(i),i},pauseOnScroll:function(){var e=this;e.$window.on("scroll.YTplayer"+e.ID,function(){var t=e.player.getPlayerState();1===t&&e.player.pauseVideo()}),e.$window.scrollStopped(function(){var t=e.player.getPlayerState();2===t&&e.player.playVideo()})},createContainerVideo:function(){var t=this,o=e('<div id="ytplayer-container'+t.ID+'" >                                    <div id="'+t.holderID+'" class="ytplayer-player"></div>                                     </div>                                     <div id="ytplayer-shield" class="ytplayer-shield"></div>');t.$node.append(o),t.$YTPlayerString=o,o=null},createBackgroundVideo:function(){var t=this,o=e('<div id="ytplayer-container'+t.ID+'" class="ytplayer-container background">                                    <div id="'+t.holderID+'" class="ytplayer-player"></div>                                    </div>                                    <div id="ytplayer-shield" class="ytplayer-shield"></div>');t.$node.append(o),t.$YTPlayerString=o,o=null},resize:function(o){var a=e(t);o.options.fitToBackground||(a=o.$node);var n,i,l=a.width(),r=a.height(),d=e("#"+o.holderID);l/o.options.ratio<r?(n=Math.ceil(r*o.options.ratio),d.width(n).height(r).css({left:(l-n)/2,top:0})):(i=Math.ceil(l/o.options.ratio),d.width(l).height(i).css({left:0,top:(r-i)/2})),d=null,a=null},onYouTubeIframeAPIReady:function(){var e=this;e.player=new t.YT.Player(e.holderID,e.options)},onPlayerReady:function(e){this.options.mute&&e.target.mute(),e.target.playVideo()},getPlayer:function(){return this.player},destroy:function(){var o=this;o.$node.removeData("yt-init").removeData("ytPlayer").removeClass("loaded"),o.$YTPlayerString.remove(),e(t).off("resize.YTplayer"+o.ID),e(t).off("scroll.YTplayer"+o.ID),o.$body=null,o.$node=null,o.$YTPlayerString=null,o.player.destroy(),o.player=null}},e.fn.scrollStopped=function(t){var o=e(this),a=this;o.scroll(function(){o.data("scrollTimeout")&&clearTimeout(o.data("scrollTimeout")),o.data("scrollTimeout",setTimeout(t,250,a))})},e.fn.YTPlayer=function(t){return this.each(function(){var o=this;e(o).data("yt-init",!0);var a=Object.create(YTPlayer);a.init(o,t),e.data(o,"ytPlayer",a)})}}(jQuery,window,document);window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b,c){"use strict";function d(b){"object"==typeof module&&"object"==typeof module.exports?module.exports=b:"function"==typeof define&&define.amd&&define("picturefill",function(){return b}),"object"==typeof a&&(a.picturefill=b)}function e(a){var b,c,d,e,f,i=a||{};b=i.elements||g.getAllElements();for(var j=0,k=b.length;k>j;j++)if(c=b[j],d=c.parentNode,e=void 0,f=void 0,"IMG"===c.nodeName.toUpperCase()&&(c[g.ns]||(c[g.ns]={}),i.reevaluate||!c[g.ns].evaluated)){if(d&&"PICTURE"===d.nodeName.toUpperCase()){if(g.removeVideoShim(d),e=g.getMatch(c,d),e===!1)continue}else e=void 0;(d&&"PICTURE"===d.nodeName.toUpperCase()||!g.sizesSupported&&c.srcset&&h.test(c.srcset))&&g.dodgeSrcset(c),e?(f=g.processSourceSet(e),g.applyBestCandidate(f,c)):(f=g.processSourceSet(c),(void 0===c.srcset||c[g.ns].srcset)&&g.applyBestCandidate(f,c)),c[g.ns].evaluated=!0}}function f(){function c(){clearTimeout(d),d=setTimeout(h,60)}g.initTypeDetects(),e();var d,f=setInterval(function(){return e(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(f):void 0},250),h=function(){e({reevaluate:!0})};a.addEventListener?a.addEventListener("resize",c,!1):a.attachEvent&&a.attachEvent("onresize",c)}if(a.HTMLPictureElement)return void d(function(){});b.createElement("picture");var g=a.picturefill||{},h=/\s+\+?\d+(e\d+)?w/;g.ns="picturefill",function(){g.srcsetSupported="srcset"in c,g.sizesSupported="sizes"in c,g.curSrcSupported="currentSrc"in c}(),g.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},g.makeUrl=function(){var a=b.createElement("a");return function(b){return a.href=b,a.href}}(),g.restrictsMixedContent=function(){return"https:"===a.location.protocol},g.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},g.getDpr=function(){return a.devicePixelRatio||1},g.getWidthFromLength=function(a){var c;if(!a||a.indexOf("%")>-1!=!1||!(parseFloat(a)>0||a.indexOf("calc(")>-1))return!1;a=a.replace("vw","%"),g.lengthEl||(g.lengthEl=b.createElement("div"),g.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden",g.lengthEl.className="helper-from-picturefill-js"),g.lengthEl.style.width="0px";try{g.lengthEl.style.width=a}catch(d){}return b.body.appendChild(g.lengthEl),c=g.lengthEl.offsetWidth,0>=c&&(c=!1),b.body.removeChild(g.lengthEl),c},g.detectTypeSupport=function(b,c){var d=new a.Image;return d.onerror=function(){g.types[b]=!1,e()},d.onload=function(){g.types[b]=1===d.width,e()},d.src=c,"pending"},g.types=g.types||{},g.initTypeDetects=function(){g.types["image/jpeg"]=!0,g.types["image/gif"]=!0,g.types["image/png"]=!0,g.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),g.types["image/webp"]=g.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")},g.verifyTypeSupport=function(a){var b=a.getAttribute("type");if(null===b||""===b)return!0;var c=g.types[b];return"string"==typeof c&&"pending"!==c?(g.types[b]=g.detectTypeSupport(b,c),"pending"):"function"==typeof c?(c(),"pending"):c},g.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},g.findWidthFromSourceSize=function(c){for(var d,e=g.trim(c).split(/\s*,\s*/),f=0,h=e.length;h>f;f++){var i=e[f],j=g.parseSize(i),k=j.length,l=j.media;if(k&&(!l||g.matchesMedia(l))&&(d=g.getWidthFromLength(k)))break}return d||Math.max(a.innerWidth||0,b.documentElement.clientWidth)},g.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c,d=a.search(/\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c.slice(-1);if((","===f||""===c)&&(c=c.replace(/,+$/,""),e=""),a=a.slice(d+1),null===e){var g=a.indexOf(",");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a="")}}else c=a,a="";(c||e)&&b.push({url:c,descriptor:e})}return b},g.parseDescriptor=function(a,b){var c,d=b||"100vw",e=a&&a.replace(/(^\s+|\s+$)/g,""),f=g.findWidthFromSourceSize(d);if(e)for(var h=e.split(" "),i=h.length-1;i>=0;i--){var j=h[i],k=j&&j.slice(j.length-1);if("h"!==k&&"w"!==k||g.sizesSupported){if("x"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else c=parseFloat(parseInt(j,10)/f)}return c||1},g.getCandidatesFromSourceSet=function(a,b){for(var c=g.parseSrcset(a),d=[],e=0,f=c.length;f>e;e++){var h=c[e];d.push({url:h.url,resolution:g.parseDescriptor(h.descriptor,b)})}return d},g.dodgeSrcset=function(a){a.srcset&&(a[g.ns].srcset=a.srcset,a.srcset="",a.setAttribute("data-pfsrcset",a[g.ns].srcset))},g.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[g.ns]&&a[g.ns].srcset&&(b=a[g.ns].srcset),b&&(d=g.getCandidatesFromSourceSet(b,c)),d},g.backfaceVisibilityFix=function(a){var b=a.style||{},c="webkitBackfaceVisibility"in b,d=b.zoom;c&&(b.zoom=".999",c=a.offsetWidth,b.zoom=d)},g.setIntrinsicSize=function(){var c={},d=function(a,b,c){b&&a.setAttribute("width",parseInt(b/c,10))};return function(e,f){var h;e[g.ns]&&!a.pfStopIntrinsicSize&&(void 0===e[g.ns].dims&&(e[g.ns].dims=e.getAttribute("width")||e.getAttribute("height")),e[g.ns].dims||(f.url in c?d(e,c[f.url],f.resolution):(h=b.createElement("img"),h.onload=function(){if(c[f.url]=h.width,!c[f.url])try{b.body.appendChild(h),c[f.url]=h.width||h.offsetWidth,b.body.removeChild(h)}catch(a){}e.src===f.url&&d(e,c[f.url],f.resolution),e=null,h.onload=null,h=null},h.src=f.url)))}}(),g.applyBestCandidate=function(a,b){var c,d,e;a.sort(g.ascendingSort),d=a.length,e=a[d-1];for(var f=0;d>f;f++)if(c=a[f],c.resolution>=g.getDpr()){e=c;break}e&&(e.url=g.makeUrl(e.url),b.src!==e.url&&(g.restrictsMixedContent()&&"http:"===e.url.substr(0,"http:".length).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+e.url):(b.src=e.url,g.curSrcSupported||(b.currentSrc=b.src),g.backfaceVisibilityFix(b))),g.setIntrinsicSize(b,e))},g.ascendingSort=function(a,b){return a.resolution-b.resolution},g.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){for(var c=b[0],d=c.getElementsByTagName("source");d.length;)a.insertBefore(d[0],c);c.parentNode.removeChild(c)}},g.getAllElements=function(){for(var a=[],c=b.getElementsByTagName("img"),d=0,e=c.length;e>d;d++){var f=c[d];("PICTURE"===f.parentNode.nodeName.toUpperCase()||null!==f.getAttribute("srcset")||f[g.ns]&&null!==f[g.ns].srcset)&&a.push(f)}return a},g.getMatch=function(a,b){for(var c,d=b.childNodes,e=0,f=d.length;f>e;e++){var h=d[e];if(1===h.nodeType){if(h===a)return c;if("SOURCE"===h.nodeName.toUpperCase()){null!==h.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var i=h.getAttribute("media");if(h.getAttribute("srcset")&&(!i||g.matchesMedia(i))){var j=g.verifyTypeSupport(h);if(j===!0){c=h;break}if("pending"===j)return!1}}}}return c},f(),e._=g,d(e)}(window,window.document,new window.Image);!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(a){function b(b){var c={},d=/^jQuery\d+$/;return a.each(b.attributes,function(a,b){b.specified&&!d.test(b.name)&&(c[b.name]=b.value)}),c}function c(b,c){var d=this,f=a(this);if(d.value===f.attr(h?"placeholder-x":"placeholder")&&f.hasClass(n.customClass))if(d.value="",f.removeClass(n.customClass),f.data("placeholder-password")){if(f=f.hide().nextAll('input[type="password"]:first').show().attr("id",f.removeAttr("id").data("placeholder-id")),b===!0)return f[0].value=c,c;f.focus()}else d==e()&&d.select()}function d(d){var e,f=this,g=a(this),i=f.id;if(!d||"blur"!==d.type||!g.hasClass(n.customClass))if(""===f.value){if("password"===f.type){if(!g.data("placeholder-textinput")){try{e=g.clone().prop({type:"text"})}catch(j){e=a("<input>").attr(a.extend(b(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":g,"placeholder-id":i}).bind("focus.placeholder",c),g.data({"placeholder-textinput":e,"placeholder-id":i}).before(e)}f.value="",g=g.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",g.data("placeholder-id")).show()}else{var k=g.data("placeholder-password");k&&(k[0].value="",g.attr("id",g.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}g.addClass(n.customClass),g[0].value=g.attr(h?"placeholder-x":"placeholder")}else g.removeClass(n.customClass)}function e(){try{return document.activeElement}catch(a){}}var f,g,h=!1,i="[object OperaMini]"===Object.prototype.toString.call(window.operamini),j="placeholder"in document.createElement("input")&&!i&&!h,k="placeholder"in document.createElement("textarea")&&!i&&!h,l=a.valHooks,m=a.propHooks,n={};j&&k?(g=a.fn.placeholder=function(){return this},g.input=!0,g.textarea=!0):(g=a.fn.placeholder=function(b){var e={customClass:"placeholder"};return n=a.extend({},e,b),this.filter((j?"textarea":":input")+"["+(h?"placeholder-x":"placeholder")+"]").not("."+n.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder")},g.input=j,g.textarea=k,f={get:function(b){var c=a(b),d=c.data("placeholder-password");return d?d[0].value:c.data("placeholder-enabled")&&c.hasClass(n.customClass)?"":b.value},set:function(b,f){var g,h,i=a(b);return""!==f&&(g=i.data("placeholder-textinput"),h=i.data("placeholder-password"),g?(c.call(g[0],!0,f)||(b.value=f),g[0].value=f):h&&(c.call(b,!0,f)||(h[0].value=f),b.value=f)),i.data("placeholder-enabled")?(""===f?(b.value=f,b!=e()&&d.call(b)):(i.hasClass(n.customClass)&&c.call(b),b.value=f),i):(b.value=f,i)}},j||(l.input=f,m.value=f),k||(l.textarea=f,m.value=f),a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a("."+n.customClass,this).each(function(){c.call(this,!0,"")});setTimeout(function(){b.each(d)},10)})}),a(window).bind("beforeunload.placeholder",function(){var b=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(b=!1)}catch(c){}b&&a("."+n.customClass).each(function(){this.value=""})}))});try{var ce=new window.CustomEvent('test');ce.preventDefault();if(ce.defaultPrevented!==!0){throw new Error('Could not prevent default')}}catch(e){var CustomEvent=function(event,params){var evt,origPrevent;params=params||{bubbles:!1,cancelable:!1,detail:undefined};evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);origPrevent=evt.preventDefault;evt.preventDefault=function(){origPrevent.call(this);try{Object.defineProperty(this,'defaultPrevented',{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}};return evt};CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent};var MASERATI=MASERATI||{};MASERATI.Constants={stateClassOpen:"maseratiIsOpen"}
$(function(){MASERATI.Helpers.bindSubmit();MASERATI.Helpers.scrollAnimationsInit();MASERATI.Helpers.checkExternalAnchor();MASERATI.Helpers.Mobile.setDeviceCookie();MASERATI.Helpers.initVerticalLayout();$('input, textarea').placeholder()});Array.prototype.max=function(){return Math.max.apply(null,this)};Array.prototype.min=function(){return Math.min.apply(null,this)};var MASERATI=MASERATI||{};MASERATI.Helpers={showLogCheck:null,logCookieName:'maserati_show_js_log'};MASERATI.Helpers.showLog=function(){if(this.showLogCheck===null){if(Cookies.get(this.logCookieName)){this.showLogCheck=!0}else{this.showLogCheck=!1}}else{return this.showLogCheck}}
MASERATI.Helpers.enableLog=function(){Cookies.set(this.logCookieName,'1',{expires:7});return 'logs enabled'}
MASERATI.Helpers.disableLog=function(){Cookies.remove(this.logCookieName);return 'logs disabled'}
MASERATI.Helpers.log=function(){if(this.showLog()){if((window.console!==undefined)){if(arguments.length>0){for(var i=0;i<arguments.length;i++){console.log(arguments[i])}}else{console.log(arguments[0])}}}};MASERATI.Helpers.bindSubmit=function(){$("form a.cta").click(function(e){e.preventDefault();$(this).closest("form").submit()})};MASERATI.Helpers.preloadImage=function(url){$('<img />').attr('src',url)};MASERATI.Helpers.scrollToTarget=function(target,offset){if(MASERATI.Helpers.referenceMirror(target.get(0))!=!1){var targetController=MASERATI.Helpers.referenceMirror(target.get(0));MASERATI.Helpers.log(targetController);if(typeof targetController.openFromCta=='function'){targetController.openFromCta(offset);return!1}}
$(target).velocity('scroll',{duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing,offset:-offset})}
MASERATI.Helpers.scrollAnimationsInit=function(){$('a.scroll-animated').click(function(e){e.preventDefault();var offset=0;var elementClass=$(this).attr('class');var re=/\boffset\b/;if(typeof elementClass!=='undefined'){var match=elementClass.match(re);if(typeof match!=='undefined')offset=$("#maserati_menu").outerHeight()}
var target=$($(this).attr('href'));MASERATI.Helpers.log(target);MASERATI.Helpers.scrollToTarget(target,offset);return!1})};MASERATI.Helpers.debounce=function(func,wait,immediate){var timeout;var outputFn=function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args);return context};outputFn.isDebounced=!0;outputFn.now=function(){clearTimeout(timeout);return func.apply(this,arguments)};return outputFn};MASERATI.Helpers.getWindowHeight=function(){return parseInt(window.innerHeight,10)};MASERATI.Helpers.getWindowWidth=function(){return parseInt(window.innerWidth,10)};MASERATI.Helpers.referenceMirror=function(domElement){if(typeof domElement.maseratiObject!=='undefined'){return domElement.maseratiObject}
return!1};MASERATI.Helpers.referenceCreate=function(domElement,object){domElement.maseratiObject=object};MASERATI.Helpers.Mobile={detector:null,deviceCookieName:'_device',getDetector:function(){if(this.detector===null){this.detector=new MobileDetect(window.navigator.userAgent)}
return this.detector},setDeviceCookie:function(){if(this.getDetector().phone()){if(!Cookies.get(this.deviceCookieName)){Cookies.set(this.deviceCookieName,'smartphone')}}else{if(Cookies.get(this.deviceCookieName)){Cookies.remove(this.deviceCookieName)}}},isMobile:function(){return this.getDetector().mobile()!==null}};MASERATI.Helpers.checkExternalAnchor=function(){if(window.location.hash&&/^[a-zA-Z][\w:.-]*$/.exec(window.location.hash)!==null){var target=$(""+window.location.hash);if(target.length){var offset=0;var menuHeight=$("#maserati_menu").outerHeight();if(menuHeight!==null){offset=menuHeight}
MASERATI.Helpers.scrollToTarget(target,offset)}}};MASERATI.Helpers.getUrlParameter=function(sParam){var sPageURL=decodeURIComponent(window.location.search.substring(1)),sURLVariables=sPageURL.split('&'),sParameterName,i;for(i=0;i<sURLVariables.length;i++){sParameterName=sURLVariables[i].split('=');if(sParameterName[0]===sParam){return sParameterName[1]===undefined?!0:sParameterName[1]}}
return!1};MASERATI.Helpers.initVerticalLayout=function(){if($('.vertical-layout-container').length>0){var $l1=$('.vertical-layout-container > div:not(.right):first');var $l2=$('.vertical-layout-container > div:not(.right):last');var $r=$('.vertical-layout-container > div.right');var wt=window.scrollY;var wb=wt+window.innerHeight;var lt=$l1.offset().top;var lb=$l2.offset().top+$l2.height();var rt=$r.offset().top;var rb=rt+$r.height();$(window).resize(function(e){if(MASERATI.Helpers.getWindowWidth()<768){$r.css('margin-top',0)}else{wt=window.scrollY;wb=wt+window.innerHeight;lt=$l1.offset().top;lb=$l2.offset().top+$l2.height();rt=$r.offset().top;rb=rt+$r.height();$(window).scroll()}});$(window).scroll(function(e){if(MASERATI.Helpers.getWindowWidth()<768){return}
wt=window.scrollY;wb=wt+window.innerHeight;var eb=lb<rb?rb:Math.min(lb,wb);let m=0;if(wt>=rt){if(wb>rb&&(rb-rt<window.innerHeight)){m=wt-rt}else{m=eb-rb}}
m=Math.min(m,lb-rb+rt);m=Math.max(0,m);$r.css('margin-top',m)})}};MASERATI.Animations={'opacityDelay':300,'ctaScrollSpeed':1500,'ctaEasing':"easeOutQuint",'newsListEasing':'easeInQuad','newsListDuration':300,'newsListAjaxEasing':'easeInQuad','newsListAjaxDuration':1200,'pageListEasing':'easeInQuad','pageListDuration':300,'gallerySlideEasing':'easeInQuad','gallerySlideDuration':300,'loadingIconDuration':1500,'loadingIconEasing':'easeOutQuint','openOverlaySlideSpeed':500,'videoCtaFadeSpeed':750,'videoCtaPauseBetween':100};var hidden,visibilityChange;if(typeof document.hidden!=="undefined"){hidden="hidden";visibilityChange="visibilitychange"}else if(typeof document.mozHidden!=="undefined"){hidden="mozHidden";visibilityChange="mozvisibilitychange"}else if(typeof document.msHidden!=="undefined"){hidden="msHidden";visibilityChange="msvisibilitychange"}else if(typeof document.webkitHidden!=="undefined"){hidden="webkitHidden";visibilityChange="webkitvisibilitychange"}
MASERATI.BatteryDrain={visibilityChangeSupport:function(){return!(typeof document.addEventListener==="undefined"||typeof document[hidden]==="undefined")}};MASERATI.AdobeTracking=MASERATI.AdobeTracking||{};MASERATI.AdobeTracking.tracker={setMediaName:function(value){if(typeof(digitalData)==="object"){if(typeof(digitalData.pageInfo)=='undefined'){digitalData.pageInfo={}}
digitalData.pageInfo.mediaName=value}
else{MASERATI.Helpers.log('set tracking data to undefined digitalData.pageInfo.mediaName: '+value)}},setSatelliteTrack:function(value){if(typeof(_satellite)!=='undefined'&&typeof(_satellite.track)==='function'){_satellite.track(value)}
else{MASERATI.Helpers.log('set tracking data to undefined _satellite.track() function: '+value)}},canBeEnabled:function(){return(typeof(_satellite)!=='undefined'&&typeof(_satellite.track)==='function'&&typeof(digitalData)==="object")}};MASERATI.YoutubeManager={initialized:!1,promise:null,init:function(){if(!this.initialized){var tag=document.createElement('script');tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);this.promise=$.Deferred();this.initialized=!0}},chainCallback:function(funct){this.promise.done(funct)},resolve:function(val){this.promise.resolve(val)},addVideoCallback:function(funct){this.init();this.chainCallback(funct)}}
MASERATI.getYouTubePlayer=function(caller,fs,controls){return new YT.Player(caller.videoTagId,{playerVars:{'showinfo':0,'rel':0,fs:typeof fs!=='undefined'?fs:1,controls:typeof controls!=='undefined'?controls:1},videoId:caller.videoId,events:{'onReady':function(event){caller.onPlayerReady(event)},'onStateChange':function(event){caller.onPlayerStateChange(event)}}})}
function onYouTubeIframeAPIReady(){MASERATI.YoutubeManager.resolve()};MASERATI.YuokuInterface=function(caller,insertImmediately){this.caller=caller;this.containerDiv=this.caller.videoTag;this.videoId=this.caller.videoId;this.playerIFrame=null;if(insertImmediately){MASERATI.Helpers.log("Insert video 1");this.insertVideo()}}
MASERATI.YuokuInterface.prototype.getIframeId=function(){return "youku-"+this.videoId}
MASERATI.YuokuInterface.prototype.deleteVideo=function(){MASERATI.Helpers.log("delete Video YouKu");this.playerIFrame.remove();this.playerIFrame=null}
MASERATI.YuokuInterface.prototype.insertVideo=function(){MASERATI.Helpers.log("Inserting video "+this.videoId);var iFrameId=this.getIframeId();var iFrame=$('<iframe />',{name:iFrameId,id:iFrameId,width:"100%",height:"100%",frameborder:"0",allowfullscreen:!0,src:'//player.youku.com/embed/'+this.videoId+'?wmode=opaque'});this.containerDiv.append(iFrame);this.playerIFrame=iFrame}
MASERATI.YuokuInterface.prototype.playVideo=function(){if(this.playerIFrame!==null){MASERATI.Helpers.log("already loaded YouKu "+this.playerIFrame)}else{MASERATI.Helpers.log("Insert video 2");this.insertVideo()}}
MASERATI.YuokuInterface.prototype.stopVideo=function(){MASERATI.Helpers.log("stop Video YouKu");this.deleteVideo()}
MASERATI.YuokuInterface.prototype.getVideoData=function(){return{'title':this.videoId}};MASERATI.AccordionItem=function($component){this.$component=$component;this.init()};MASERATI.AccordionItem.prototype.init=function(){var that=this;this.$component.find('.more').on('click',function(e){e.preventDefault();that.$component.toggleClass('active');var $expanded=that.$component.find('.expanded');var animation=that.$component.hasClass('active')?'slideDown':'slideUp';var $menuRef=$('#maserati_menu');$expanded.velocity('stop').velocity(animation,{duration:300,complete:function(){$expanded.velocity('scroll',{offset:-$menuRef.height(),duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing})}})})};$(function(){$('.accordion-item').each(function(){new MASERATI.AccordionItem($(this))})});MASERATI.ConfiguratorPop=MASERATI.ConfiguratorPop||{};MASERATI.ConfiguratorPop.open=function(modelName,modelCode,imageSrc,modelYear){MASERATI.Helpers.log('open',modelName,modelCode,imageSrc,modelYear)
if(!MASERATI.ConfiguratorPop.$isMounted){MASERATI.Helpers.log('trying to mount')
MASERATI.ConfiguratorPop.component.addEventListener('mounted',MASERATI.ConfiguratorPop.updateData.bind(undefined,{name:modelName,code:modelCode},imageSrc,modelYear))
MASERATI.ConfiguratorPop.start()}
else MASERATI.ConfiguratorPop.updateData({name:modelName,code:modelCode},imageSrc,modelYear)}
MASERATI.ConfiguratorPop.close=function(){MASERATI.ConfiguratorPop.hide()
MASERATI.ConfiguratorPop.clearErrors()}
MASERATI.ConfiguratorPop.baseClass='maserati__configurator-pop__'
MASERATI.ConfiguratorPop.show=function(){MASERATI.ConfiguratorPop.component.setAttribute('class',MASERATI.ConfiguratorPop.baseClass+'wrapper active')
MASERATI.ConfiguratorPop.component.dispatchEvent(new CustomEvent('shown'))}
MASERATI.ConfiguratorPop.hide=function(){MASERATI.ConfiguratorPop.component.setAttribute('class',MASERATI.ConfiguratorPop.baseClass+'wrapper')
MASERATI.ConfiguratorPop.component.dispatchEvent(new CustomEvent('hid'))}
MASERATI.ConfiguratorPop.clearErrors=function(){MASERATI.ConfiguratorPop.$refs.select.setAttribute('class','beautify')
MASERATI.ConfiguratorPop.$refs.errorBox.setAttribute('class',MASERATI.ConfiguratorPop.baseClass+'error-box')
MASERATI.ConfiguratorPop.$refs.button.setAttribute('class','cta border-grey')}
MASERATI.ConfiguratorPop.updateData=function(model,imageSrc,suggestedModelYear){MASERATI.Helpers.log('updateData',model,imageSrc,suggestedModelYear)
MASERATI.ConfiguratorPop.updateModel(model)
MASERATI.ConfiguratorPop.updateImage(imageSrc)
MASERATI.ConfiguratorPop.updateSuggestedModelYear(suggestedModelYear)
$(MASERATI.ConfiguratorPop.$refs.wrapper).addClass('active');MASERATI.ConfiguratorPop.component.dispatchEvent(new CustomEvent('updated'))}
MASERATI.ConfiguratorPop.updateOptions=function(serviceReply){MASERATI.ConfiguratorPop.$refs.select.options.length=1;for(var i=0;i<serviceReply.length;i++){var option=document.createElement('option')
option.setAttribute('value',serviceReply[i].id)
option.innerText=serviceReply[i].description
MASERATI.ConfiguratorPop.$refs.select.appendChild(option)}}
MASERATI.ConfiguratorPop.start=function(){MASERATI.ConfiguratorPop.beforeCreate()}
MASERATI.ConfiguratorPop.beforeCreate=function(){MASERATI.ConfiguratorPop.component.addEventListener('created',MASERATI.ConfiguratorPop.reactive)
MASERATI.ConfiguratorPop.component.addEventListener('created',MASERATI.ConfiguratorPop.init)
MASERATI.ConfiguratorPop.component.addEventListener('updated',MASERATI.ConfiguratorPop.show)
MASERATI.ConfiguratorPop.component.addEventListener('updated',function(){MASERATI.ConfiguratorPop.$isMounted=!0})
MASERATI.ConfiguratorPop.component.dispatchEvent(new CustomEvent('created'))}
MASERATI.ConfiguratorPop.init=function(){MASERATI.Helpers.log("init")
var wrapper=MASERATI.ConfiguratorPop.component
var close=wrapper.getElementsByClassName(MASERATI.ConfiguratorPop.baseClass+'close-button')[0]
close.addEventListener('click',MASERATI.ConfiguratorPop.close)
var select=wrapper.getElementsByClassName(MASERATI.ConfiguratorPop.baseClass+'select')[0]
select.addEventListener('change',function(e){MASERATI.ConfiguratorPop.updateCountry(e.target.value)})
select.addEventListener('service-update',function(e){MASERATI.ConfiguratorPop.updateOptions(e.detail)})
var outLink=wrapper.getElementsByClassName(MASERATI.ConfiguratorPop.baseClass+'outlink')[0]
outLink.addEventListener('click',MASERATI.ConfiguratorPop.callShoppingTool)
var image=wrapper.getElementsByClassName(MASERATI.ConfiguratorPop.baseClass+'image')[0]
var description=wrapper.getElementsByClassName(MASERATI.ConfiguratorPop.baseClass+'description-wrapper')[0]
var modelName=wrapper.getElementsByClassName(MASERATI.ConfiguratorPop.baseClass+'model-name')[0]
var errorBox=wrapper.getElementsByClassName(MASERATI.ConfiguratorPop.baseClass+'error-box')[0]
var button=wrapper.getElementsByClassName('cta')[0]
MASERATI.ConfiguratorPop.$refs={image:image,description:description,modelName:modelName,select:select,button:button,outLink:outLink,errorBox:errorBox,wrapper:wrapper}
MASERATI.ConfiguratorPop.component.dispatchEvent(new CustomEvent('mounted'))}
MASERATI.ConfiguratorPop.selectRender=function(DOMElement,modelId){MASERATI.Helpers.log('here',modelId);if(typeof modelId==='undefined')DOMElement.options.length=1;else MASERATI.ConfiguratorPop.service.getCountriesByModelId(modelId,function(data){DOMElement.dispatchEvent(new CustomEvent('service-update',{detail:data}))})}
MASERATI.ConfiguratorPop.callShoppingTool=function(e){if(typeof MASERATI.ConfiguratorPop.country==='undefined'){MASERATI.ConfiguratorPop.$refs.select.setAttribute('class','beautify error')
e.preventDefault()}
else if(!MASERATI.ConfiguratorPop.service.countryHasModel(MASERATI.ConfiguratorPop.country,MASERATI.ConfiguratorPop.model.code)){MASERATI.ConfiguratorPop.$refs.errorBox.setAttribute('class',MASERATI.ConfiguratorPop.baseClass+'error-box active')
MASERATI.ConfiguratorPop.$refs.button.setAttribute('class','cta border-grey')
e.preventDefault()}}
MASERATI.ConfiguratorPop.reactive=function(){MASERATI.Helpers.log("reactive")
MASERATI.ConfiguratorPop.component.addEventListener('country-changed',function(){MASERATI.ConfiguratorPop.updateLink()})
MASERATI.ConfiguratorPop.component.addEventListener('model-changed',function(){MASERATI.ConfiguratorPop.updateLink()})
MASERATI.ConfiguratorPop.component.addEventListener('suggested-year-changed',function(){MASERATI.ConfiguratorPop.updateLink()})
MASERATI.ConfiguratorPop.component.addEventListener('country-changed',function(){MASERATI.ConfiguratorPop.$refs.select.setAttribute('class','beautify')
MASERATI.ConfiguratorPop.$refs.errorBox.setAttribute('class',MASERATI.ConfiguratorPop.baseClass+'error-box')
MASERATI.ConfiguratorPop.$refs.button.setAttribute('class','cta bg-blue color-white')})
MASERATI.ConfiguratorPop.component.addEventListener('country-changed',function(){if(!MASERATI.ConfiguratorPop.service.countryHasModel(MASERATI.ConfiguratorPop.country,MASERATI.ConfiguratorPop.model.code)){MASERATI.ConfiguratorPop.$refs.errorBox.setAttribute('class',MASERATI.ConfiguratorPop.baseClass+'error-box active')
MASERATI.ConfiguratorPop.$refs.button.setAttribute('class','cta border-grey')}})
MASERATI.ConfiguratorPop.component.addEventListener('model-changed',function(){MASERATI.ConfiguratorPop.$refs.modelName.innerText=MASERATI.ConfiguratorPop.model.name
MASERATI.ConfiguratorPop.$refs.errorBox.setAttribute('class',MASERATI.ConfiguratorPop.baseClass+'error-box')})
MASERATI.ConfiguratorPop.component.addEventListener('model-changed',function(){MASERATI.Helpers.log("here, model change")
MASERATI.ConfiguratorPop.service.getCountriesByModelId(MASERATI.ConfiguratorPop.model.code,function(data){MASERATI.ConfiguratorPop.$refs.select.dispatchEvent(new CustomEvent('service-update',{detail:data}))})})}
MASERATI.ConfiguratorPop.updateCountry=function(country){MASERATI.ConfiguratorPop.country=country==='false'?undefined:country
MASERATI.ConfiguratorPop.component.dispatchEvent(new CustomEvent('country-changed'))}
MASERATI.ConfiguratorPop.updateModel=function(model){MASERATI.ConfiguratorPop.model=model
MASERATI.ConfiguratorPop.component.dispatchEvent(new CustomEvent('model-changed'))}
MASERATI.ConfiguratorPop.updateSuggestedModelYear=function(year){MASERATI.ConfiguratorPop.suggestedModelYear=year
MASERATI.ConfiguratorPop.component.dispatchEvent(new CustomEvent('suggested-year-changed'))}
MASERATI.ConfiguratorPop.getCCLink=function(){var url=MASERATI.ConfiguratorPop.component.hasAttribute('data-maserati-cc-link')?MASERATI.ConfiguratorPop.component.getAttribute('data-maserati-cc-link'):'http://integration.cms.maserati.com/shoppingtool/build-and-price/international/en'
MASERATI.Helpers.log("setting getCCLink URL:",url);return url}
MASERATI.ConfiguratorPop.updateLink=function(){MASERATI.ConfiguratorPop.$refs.outLink.setAttribute('href',MASERATI.ConfiguratorPop.getCCLink()+'?currentCountry='+MASERATI.ConfiguratorPop.country+'&modelName='+MASERATI.ConfiguratorPop.model.code+(MASERATI.ConfiguratorPop.suggestedModelYear!=='-1'?('&suggestedModelYear='+MASERATI.ConfiguratorPop.suggestedModelYear):''))}
MASERATI.ConfiguratorPop.updateImage=function(imageSrc){MASERATI.ConfiguratorPop.$refs.image.setAttribute('src',imageSrc)}
MASERATI.ConfiguratorPop.updateDescription=function(description){MASERATI.ConfiguratorPop.$refs.description.innerText=description}
MASERATI.ConfiguratorPop.updateLinkText=function(text){MASERATI.ConfiguratorPop.$refs.outLink.innerText=text}
MASERATI.ConfiguratorPop.updateSelectText=function(text){MASERATI.ConfiguratorPop.$refs.select.querySelector('option').innerText=text}
MASERATI.ConfiguratorPop.service=MASERATI.ConfiguratorPop.service||{}
MASERATI.ConfiguratorPop.service.getUrl=function(){var url=MASERATI.ConfiguratorPop.component.hasAttribute('data-maserati-countrylist-ws')?MASERATI.ConfiguratorPop.component.getAttribute('data-maserati-countrylist-ws'):'http://test.configurator.maserati.com/gtcc/countryList.json'
MASERATI.Helpers.log("calling service at URL:",url);return url}
MASERATI.ConfiguratorPop.service.cache={}
MASERATI.ConfiguratorPop.service.getCountriesByModelId=function(modelId,cb){$.ajax({dataType:'jsonp',url:MASERATI.ConfiguratorPop.service.getUrl()+'?modelName='+modelId,success:function(data){MASERATI.ConfiguratorPop.service.cache[modelId]=data
cb(data.countryList)}})}
MASERATI.ConfiguratorPop.service.countryHasModel=function(country,modelId){var db=MASERATI.ConfiguratorPop.service.cache[modelId].countryList
for(var i=0;i<db.length;i++){if(db[i].id.toString()===country.toString())return db[i].modelInRange}
throw new Error('system is desynchronized')}
MASERATI.ConfiguratorPop.helper=MASERATI.ConfiguratorPop.helper||{}
MASERATI.ConfiguratorPop.helper.initStarter=function(DOMElement){DOMElement.addEventListener('click',function(e){e.preventDefault()
eval('var prop = '+DOMElement.getAttribute('data-configurator-pop-prop'))
MASERATI.ConfiguratorPop.open(prop.verboseName,prop.modelName,prop.imgSrc,prop.modelYear||'-1')})}
$(function(){var $configuratorPop=$(".maserati__configurator-pop__wrapper");if($configuratorPop.length){MASERATI.ConfiguratorPop.component=$configuratorPop[0]
$('[data-async-component="configurator-pop"]').each(function(){MASERATI.ConfiguratorPop.helper.initStarter(this)})}});var MASERATICOOKIE=MASERATICOOKIE||{config:!1};MASERATICOOKIE.CookieBar=function(rootElement,config){this.$element=rootElement;this.$config=config;this.$active=!1;this.checkCookie(config);this.bindClose(this.$element.find('.privacy-close'),this.$config)};MASERATICOOKIE.CookieBar.prototype.bindClose=function(button,config){var that=this;button.click(function(e){e.preventDefault();e.stopPropagation();that.$element.removeClass("active");Cookies.set(config.cookieName,'true',{expires:30,path:config.cookiePath})})};MASERATICOOKIE.CookieBar.prototype.checkCookie=function(config){var that=this;if(Cookies.get(config.cookieName)!='true'){that.$element.addClass("active")}};$(function(){if(MASERATICOOKIE.config!==!1){new MASERATICOOKIE.CookieBar($('#cookieAlert'),MASERATICOOKIE.config)}});MASERATI.CountrySelector=function($element,$trigger){this.$element=$element;this.$labels=$element.find('.label');this.$accordions=this.$element.find('.label + ul');this.$trigger=$trigger;this.opened=!1;this.bindEvents()};MASERATI.CountrySelector.prototype.open=function($el){var that=this;if(!$el.hasClass('velocity-animating')){var animationType=$el.is('ul')?'slideDown':{opacity:1,top:'0%'};if(!($el.is('ul')&&MASERATI.Helpers.getWindowWidth()>=1024)){$el.velocity(animationType,{duration:MASERATI.Animations.openOverlaySlideSpeed,complete:function(){$el.toggleClass('opened')}})}}};MASERATI.CountrySelector.prototype.close=function($el){var that=this;if(!$el.hasClass('velocity-animating')){var animationType=$el.is('ul')?'slideUp':{opacity:0,top:'100%'};if(!($el.is('ul')&&MASERATI.Helpers.getWindowWidth()>=1024)){$el.velocity(animationType,{duration:MASERATI.Animations.openOverlaySlideSpeed,complete:function(){$el.toggleClass('opened')}})}}};MASERATI.CountrySelector.prototype.toggleMenu=function($el){if($el.hasClass('opened')){this.close($el)}else{this.open($el)}};MASERATI.CountrySelector.prototype.bindEvents=function(){var that=this;this.$labels.click(function(){that.toggleMenu($(this).siblings('ul'))});$(".country-selector-open").click(function(e){e.preventDefault();that.open(that.$element);return!1});this.$element.find(".close").click(function(){that.close(that.$element)})};$(function(){var $countrySelector=$("#country-selector");var $trigger=$('.country-selector-open');if($countrySelector.length){new MASERATI.CountrySelector($countrySelector,$trigger)}});MASERATI.CtaToolBuildPrice=function(element){this.$activeClass="subActive";this.$element=element;this.$tooltip=this.$element.find('.tooltip');this.init();this.mobileInit()};MASERATI.CtaToolBuildPrice.prototype.init=function(){var that=this;this.$element.find(".desktop .models .model").mouseenter(function(){that.enterModel($(this))}).mouseleave(function(){that.exitModel($(this))}).click(function(e){e.preventDefault();that.toggleSubElement($(this))});this.$element.find('form[name=country] input[type="submit"]').click(function(e){e.preventDefault();that.$element.find('.countrySelectorContainer').velocity('slideUp',500);that.$element.find('.generalContainer').velocity('slideDown',{duration:500,delay:500});return!1});this.checkHash();var width=$(window).width();var resize=function(){if($(window).width()!==width){this.onResize();width=$(window).width()}}
this.$element.find('.cta-tool-build-price__error .close').on('click',function(){that.$element.find('.cta-tool-build-price__error').velocity('slideUp')})
this.$element.find('.load-configuration__error .close').on('click',function(){that.$element.find('.load-configuration__error').velocity('slideUp')})
this.$element.find('form.load-configuration__form').submit(function(e){that.$element.find('.configurationcode_popuphelp').hide();return that.validateConfigurationLoad($(this))});this.$element.find('.help-tooltip-anchor').hover(function(){if(that.showOnHover())
{that.$tooltip.velocity('fadeIn',{duration:300})}},function(){if(that.showOnHover())
{that.$tooltip.hide()}}).on('click',function(e){e.preventDefault();if(that.showOnClick())
{that.$tooltip.toggle()}});this.$tooltip.find('.close').on('click',function(e){e.preventDefault();that.$tooltip.hide()});$(window).on('resize',MASERATI.Helpers.debounce(resize.bind(this),500))};MASERATI.CtaToolBuildPrice.prototype.showOnHover=function(){return!MASERATI.Helpers.Mobile.isMobile()};MASERATI.CtaToolBuildPrice.prototype.showOnClick=function(){return!this.showOnHover()};MASERATI.CtaToolBuildPrice.prototype.validateConfigurationLoad=function($form){var theValue=$form.find('input[name=configurationcode]').val();var myRegEx=/[a-zA-Z0-9]{4,6}/;if(theValue.match(myRegEx)===null){var errorPanel=$form.parents('.load-configuration-wrapper').find('.load-configuration__error');errorPanel.velocity('slideDown',function(){if(!MASERATI.Helpers.Mobile.isMobile()){return}
errorPanel.velocity('scroll',{offset:-$('#maserati_menu').height(),duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing})});return!1}
this.$element.find('.load-configuration__error').velocity('slideUp');return!0};MASERATI.CtaToolBuildPrice.prototype.checkHash=function(mode){var currentHash=window.location.hash;var myRegEx=/bp-([a-z]+)/;var match=myRegEx.exec(currentHash);if(match!==null){var el=this.$element.find('.models').find('.model[data-model="'+match[1]+'"]');this.toggleSubElement(el)}};MASERATI.CtaToolBuildPrice.prototype.enterModel=function(element){if(this.$element.hasClass(this.$activeClass)){element.removeClass("unhighlighted")}else{element.siblings().not("."+this.$activeClass).addClass("unhighlighted")}};MASERATI.CtaToolBuildPrice.prototype.exitModel=function(element){if(this.$element.hasClass(this.$activeClass)){if(!element.hasClass(this.$activeClass)){element.addClass("unhighlighted")}}else{element.siblings().not("."+this.$activeClass).removeClass("unhighlighted")}};MASERATI.CtaToolBuildPrice.prototype.toggleSubElement=function(element){var id=element.data("tab");var target=$("#table-"+id);if(target.is(":visible")){element.removeClass(this.$activeClass);this.$element.removeClass(this.$activeClass);target.hide()}else{element.addClass(this.$activeClass).siblings(".model").removeClass(this.$activeClass).addClass("unhighlighted");this.$element.addClass(this.$activeClass);target.siblings(".sub-models").hide();target.css('display','table')}};MASERATI.CtaToolBuildPrice.prototype.mobileInit=function(){var that=this;var $menuRef=$("#maserati_menu");this.$element.find(".mobile > .model").on('click',function(){var href='#table-'+$(this).data('tab');if(MASERATI.Helpers.getWindowWidth()<768&&$(href+'-smartphone').length){href+='-smartphone'}
that.$element.find('.active').not($(this)).not(href).removeClass('active');$(this).add(href).toggleClass('active');var $target=$(href);if($target.hasClass('active')){$target.velocity('scroll',{offset:($menuRef.length?-$menuRef.height():0),duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing})}})};MASERATI.CtaToolBuildPrice.prototype.onResize=function(){this.$element.removeClass('subActive').find('.subActive, .active').removeClass('subActive active');this.$element.find('.desktop .sub-models').hide()};$(function(){var $elementSelector=$(".cta-tool-build-price");if($elementSelector.length){new MASERATI.CtaToolBuildPrice($elementSelector)}});MASERATI.CtaToolNewsletter=function($element){this.$element=$element;this.$close=this.$element.find('.close');this.$form=this.$element.find('.form');this.$formElement=this.$element.find('form');this.$errorBox=this.$element.find('.errorBox');this.$inputs=this.$element.find('input,select');MASERATI.Helpers.referenceCreate(this.$element.get(0),this);this.init()};MASERATI.CtaToolNewsletter.prototype.slideToggle=function(){var that=this;if(that.$close.css('display')!=='none'&&(!(that.$close.hasClass('velocity-animating')||that.$form.hasClass('velocity-animating')))){var opened=that.$form.css('display')!=='none';that.$close.velocity('stop').velocity({rotateZ:opened?'0':'45'+'deg'},{duration:500,complete:function(){that.$element.velocity('scroll',{offset:-110})}});that.$form.velocity({opacity:opened?0:1},{duration:200});that.$form.velocity('slide'+(opened?'Up':'Down'));if(opened){that.$element.removeClass(MASERATI.Constants.stateClassOpen)}else{that.$element.addClass(MASERATI.Constants.stateClassOpen)}}};MASERATI.CtaToolNewsletter.prototype.init=function(){var that=this;this.$close.click(function(){that.slideToggle()});this.$element.children('.title').click(function(){that.slideToggle()});this.$formElement.on('valid',function(e){that.$errorBox.removeClass('open')});this.$formElement.on('error',function(e){that.$errorBox.velocity('scroll',{duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing,offset:-$("#maserati_menu").height(),complete:function(el){that.$errorBox.addClass('open')}})});this.$inputs.on('blur change',function(e){this.value==''?this.classList.remove('_hasvalue'):this.classList.add('_hasvalue');this.checkValidity()?this.classList.remove('error'):this.classList.add('error')});this.$inputs.on('focus',function(e){this.classList.add('_hasvalue')});this.$inputs.each(function(e){this.value==''?this.classList.remove('_hasvalue'):this.classList.add('_hasvalue')});requestAnimationFrame(function(){$('.awesomplete').each(function(){var name=$(this).children('input:first').attr('name');$('label[for='+name+']').appendTo($(this)).css('transform','translateX(-26px)')})})};MASERATI.CtaToolNewsletter.prototype.openFromCta=function(offset){if(this.$element.hasClass(MASERATI.Constants.stateClassOpen)){this.$element.velocity('scroll',{duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing,offset:-offset})}else{this.$element.velocity('scroll',{duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing,offset:-offset});this.slideToggle()}};$(function(){$('.cta-tool-newsletter').each(function(){new MASERATI.CtaToolNewsletter($(this))})});MASERATI.CtaToolWebToLead=function($element){this.$element=$element;this.$formElement=this.$element.find('form');this.$errorBox=this.$element.find('.errorBox');this.$inputs=this.$element.find('input,select');this.init()};MASERATI.CtaToolWebToLead.prototype.init=function(){var that=this;this.$formElement.on('valid',function(e){that.$errorBox.removeClass('open')});this.$formElement.on('error',function(e){that.$errorBox.velocity('scroll',{duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing,offset:-$("#maserati_menu").height(),complete:function(el){that.$errorBox.addClass('open')}})});this.$inputs.on('blur change',function(e){this.value==''?this.classList.remove('_hasvalue'):this.classList.add('_hasvalue');this.checkValidity()?this.classList.remove('error'):this.classList.add('error')});this.$inputs.on('focus',function(e){this.classList.add('_hasvalue')});this.$inputs.each(function(e){this.value==''?this.classList.remove('_hasvalue'):this.classList.add('_hasvalue')});requestAnimationFrame(function(){$('.awesomplete').each(function(){var name=$(this).children('input:first').attr('name');$('label[for='+name+']').appendTo($(this)).css('transform','translateX(-26px)')})})};$(function(){$('.cta-tool-webtolead').each(function(){new MASERATI.CtaToolWebToLead($(this))})});MASERATI.CustomDisclaimer=function($element,$trigger){this.$element=$element;this.$trigger=$trigger;this.opened=!1;this.bindEvents()};MASERATI.CustomDisclaimer.prototype.populate=function($el,clickItem){var id=$(clickItem).data('item');if(id!=null){var $content=$el.find('.content');var prefix=$content.data('prefix');var disclaimer=$('#'+prefix+id).html();$content.html(disclaimer).prepend('<span>'+id+'.</span>')}};MASERATI.CustomDisclaimer.prototype.open=function($el){$el.addClass('opened')};MASERATI.CustomDisclaimer.prototype.close=function($el){$el.removeClass('opened')};MASERATI.CustomDisclaimer.prototype.bindEvents=function(){var that=this;$(".customDisclaimer").click(function(e){e.preventDefault();that.populate(that.$element,this);that.open(that.$element);return!1});this.$element.find(".close").click(function(){that.close(that.$element)})};$(function(){var $CustomDisclaimer=$("#custom-disclaimer");var $trigger=$('.customDisclaimer');if($CustomDisclaimer.length){new MASERATI.CustomDisclaimer($CustomDisclaimer,$trigger)}});MASERATI.DataTable=function(element){this.$element=element;this.$container=this.$element.find(".inner-table-container");this.$table=this.$element.find("table");this.$overflowClass="overflowing";this.initEvents()};MASERATI.DataTable.prototype.initEvents=function(){this.checkTable();var that=this;var debouncedResize=MASERATI.Helpers.debounce(function(){that.checkTable()},500);$(window).bind("resize",function(){debouncedResize()})};MASERATI.DataTable.prototype.checkTable=function(){if(this.hasOverflow()){this.$element.addClass(this.$overflowClass);var that=this;this.$container.on("scroll",function(){that.scrollListener()})}else{this.$element.removeClass(this.$overflowClass);this.$container.off("scroll")}}
MASERATI.DataTable.prototype.hasOverflow=function(){MASERATI.Helpers.log(" container width "+this.$container.width());MASERATI.Helpers.log(" table width "+this.$table.width());if(this.$container.width()<this.$table.width()){return!0}
return!1};MASERATI.DataTable.prototype.scrollListener=function(){if(this.$container.scrollLeft()>0){this.$element.addClass("scrolled")}else{}
var maxScrolled=this.$table.width()-this.$container.width();if(this.$container.scrollLeft()>=maxScrolled){this.$element.addClass("scrolledToMax")}else{this.$element.removeClass("scrolledToMax")}}
MASERATI.DataTable.prototype.initMobileTable=function(){};MASERATI.DataTable.prototype.deinitMobileTable=function(){};$(function(){$('.data-table').each(function(){new MASERATI.DataTable($(this))})});MASERATI.DynamicControls=function($element){this.$element=$element;this.initActions();this.bindEvents()};MASERATI.DynamicControls.prototype.initActions=function(){this.components=$('.'+this.$element.attr('data-components')).toArray();this.components.forEach(function(component,i){this[i]=MASERATI.Helpers.referenceMirror(component)},this.components);MASERATI.Helpers.log(this.components);var actions=this.$element.find('.action').toArray();this.actions=[];if(this.components.length>0&&this.components.length==actions.length){actions.forEach(function(action,i){this.actions.push(new MASERATI.DynamicControlsAction($(action),this.components[i]))},this)}};MASERATI.DynamicControls.prototype.bindEvents=function(){var that=this;var $menuRef=$("#maserati_menu");that.$element.find('.action').click(function(){if(!that.$element.find('.actionsTable').hasClass('active')){that.$element.find('.overlay').velocity('fadeIn',{complete:function(){that.$element.find('.actionsTable').addClass('active');that.scrollToMedia(that,$menuRef)}})}else{that.scrollToMedia(that,$menuRef)}
that.deActivateAllBut(!0,$(this)[0])});that.$element.find('.overlay-close').click(function(){that.$element.find('.overlay').velocity('fadeOut',{begin:function(){that.$element.find('.action').velocity({opacity:0.0},{queue:!1});that.$element.velocity('scroll',{offset:(-$menuRef.length?-$menuRef.height():0)-30,duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing})},complete:function(){that.$element.find('.actionsTable').removeClass('active');that.$element.find('.action').velocity({opacity:1.0},{queue:!1});that.deActivateAll(!0)}})})};MASERATI.DynamicControls.prototype.scrollToMedia=function(that,$menuRef){that.$element.velocity('scroll',{offset:that.$element.outerHeight()+($menuRef.length?-$menuRef.height():0),duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing})};MASERATI.DynamicControls.prototype.deActivateAll=function(stopAll){this.actions.forEach(function(action){action.deActivate(stopAll)})};MASERATI.DynamicControls.prototype.deActivateAllBut=function(stopAll,actionKey){this.actions.forEach(function(action){if(action.$element[0]!==actionKey){action.deActivate(stopAll)}})};MASERATI.DynamicControlsAction=function($element,component){this.$element=$element;this.component=component;this.active=!1;this.bindEvents()};MASERATI.DynamicControlsAction.prototype.bindEvents=function(){var that=this;this.$element.click(function(){that.activate(!0)})};MASERATI.DynamicControlsAction.prototype.activate=function(autoPlay){var that=this;if(!that.component.$element.hasClass('active')){that.component.triggerPlayerOpenEvent();this.component.$element.velocity('slideDown',{begin:function(){that.component.$element.addClass('active')},complete:function(){if(autoPlay&&typeof that.component.play==='function'){that.component.play();that.component.$element.addClass('active')}
that.active=!0}})}};MASERATI.DynamicControlsAction.prototype.deActivate=function(stop){var that=this;MASERATI.Helpers.log('deactivate',this.component)
this.component.$element.velocity('slideUp',{begin:function(){that.component.$element.removeClass('active');if(that.active==!0){if(stop&&typeof that.component.stop==='function'){that.component.stop()}
that.active=!1}}})};$(window).load(function(){$('.dynamic-controls').each(function(){new MASERATI.DynamicControls($(this))})});MASERATI.Footer=function($element){this.$element=$element;this.init()};MASERATI.Footer.prototype.init=function(){var langChangeElement=document.getElementById("lang-change");if(langChangeElement!=null){langChangeElement.onchange=function(){window.location.href=this.value}}};$(function(){var $menuSelector=$("#maserati_footer");if($menuSelector.length){new MASERATI.Footer($menuSelector)}});MASERATI.GallerySlideNew=function($element,delay,infiniteScrolling){this.$element=$element;this.$slidesContainer=this.$element.find('.main-slide');this.$slides=this.$slidesContainer.find('.slide');this.$prevTrigger=this.$element.find('.prevTrigger');this.$nextTrigger=this.$element.find('.nextTrigger');this.$thumbsContainer=this.$element.find('.thumbs');this.$thumbs=this.$element.find('.thumb');this.$dotsContainer=this.$element.find('.thumbs-mobile');this.$dots=this.$element.find('.thumbs-mobile .item');this.timer=!1;this.delay=delay;this.infiniteScrolling=infiniteScrolling;this.documentDirection=($('html').attr('dir')==="rtl")?'rtl':'ltr';this.timerDirection=(this.documentDirection==="rtl")?'left':'right';this.pointer=(this.documentDirection==="rtl")?((this.infiniteScrolling)?(this.$slides.length-2)*-100:(this.$slides.length-1)*-100):0;this.endPoint=(this.$slides.length-1)*-100;this.imageDelta=this.getImageDelta(15);this.deltaDuration=250;this.deltaEasing='swing';this.thumbsOpacity=0.4;this.thumbsDuration=250;this.thumbsEasing='swing';this.slideDuration=500;this.slideEasing='swing';this.$prevTrigger.css('width',this.imageDelta+'%');this.$nextTrigger.css('width',this.imageDelta+'%');if(this.documentDirection==="rtl"){var that=this;this.$slidesContainer.append(this.$slides.get().reverse());this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:0,easing:that.deltaEasing});this.$dotsContainer.append(this.$dots.get().reverse())}
this.moveThumbs();this.initFeeling();this.bindEvents();this.refreshSlides()};MASERATI.GallerySlideNew.prototype.getImageDelta=function(default_value){var delta=default_value;if(this.$element.data('delta')!=null&&this.$slidesContainer.find('.text-container:not(.right) .cta').length>0)
delta=this.$element.data('delta');return delta}
MASERATI.GallerySlideNew.prototype.moveThumbs=function(){if(this.$element.hasClass('topThumbs')){this.$slidesContainer.detach().appendTo(this.$element)}};MASERATI.GallerySlideNew.prototype.initFeeling=function(){var that=this;if(this.delay>0&&this.delay!==!1){this.initWaypoints(this.delay)}
this.initTriggersAnimation();this.$thumbs.hover(function(){$(this).velocity('stop').velocity({opacity:1},{duration:that.thumbsDuration,easing:that.thumbsEasing})},function(){$(this).velocity('stop').velocity({opacity:that.thumbsOpacity},{duration:that.thumbsDuration,easing:that.thumbsEasing})});if(this.infiniteScrolling){if(this.documentDirection==="ltr"){this.$slidesContainer.prepend(this.$slides.last().clone(!0).addClass('ghost-slide'));this.$slidesContainer.append(this.$slides.first().clone(!0).addClass('ghost-slide'))}else{this.$slidesContainer.prepend(this.$slides.first().clone(!0).addClass('ghost-slide'));this.$slidesContainer.append(this.$slides.last().clone(!0).addClass('ghost-slide'))}
this.$thumbsContainer.prepend('<div class="thumb ghost-thumb" style="display: none;"></div>');this.$thumbsContainer.append('<div class="thumb ghost-thumb" style="display: none;"></div>');this.$dotsContainer.prepend('<a class="item ghost-item" style="display: none;"></a>');this.$dotsContainer.append('<a class="item ghost-item" style="display: none;"></a>');this.endPoint=(this.$slides.length-1)*-100;this.$slides=this.$slidesContainer.find('.slide');this.$thumbs=this.$element.find('.thumb');this.$dots=this.$element.find('.thumbs-mobile .item');if(this.documentDirection==="ltr"){this.pointer=-100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:0,easing:that.deltaEasing})}else{this.pointer=(this.infiniteScrolling)?(this.$slides.length-2)*-100:(this.$slides.length-1)*-100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:0,easing:that.deltaEasing})}
this.refreshSlides()}};MASERATI.GallerySlideNew.prototype.triggerSlideChangeEvent=function(){MASERATI.AdobeTracking.tracker.setSatelliteTrack('GalleryEngage');this.$element[0].dispatchEvent(new CustomEvent('slidechange'))};MASERATI.GallerySlideNew.prototype.bindEvents=function(){var that=this;this.$prevTrigger.click(function(){if(!that.areSlidesAnimating()){that.stopTimer();that.triggerSlideChangeEvent();that.prev()}});this.$nextTrigger.click(function(){if(!that.areSlidesAnimating()){that.stopTimer();that.triggerSlideChangeEvent();that.next()}});this.$thumbs.click(function(){if(!that.areSlidesAnimating()){that.stopTimer();that.pointer=(that.$thumbs.toArray().indexOf(this)+1)*-100;that.prev();that.refreshSlides()}});this.$dots.click(function(){if(!that.areSlidesAnimating()){that.stopTimer();that.pointer=(that.$dots.toArray().indexOf(this)+1)*-100;that.triggerSlideChangeEvent();that.prev();that.refreshSlides()}});this.$element.on('swipeleft',function(){if(!that.areSlidesAnimating()){that.stopTimer();that.triggerSlideChangeEvent();that.next()}});this.$element.on('swiperight',function(){if(!that.areSlidesAnimating()){that.stopTimer();that.triggerSlideChangeEvent();that.prev()}})};MASERATI.GallerySlideNew.prototype.areSlidesAnimating=function(){return this.$slidesContainer.hasClass('velocity-animating')};MASERATI.GallerySlideNew.prototype.checkTriggers=function(){};MASERATI.GallerySlideNew.prototype.next=function(){var that=this;if(!this.areSlidesAnimating()){if(!this.infiniteScrolling){if(this.pointer<=this.endPoint){this.$slidesContainer.velocity({translateX:(this.pointer-this.imageDelta)+'%'},{duration:this.deltaDuration,easing:this.deltaEasing,complete:function(element){$(element).velocity({translateX:that.endPoint+'%'},{duration:that.deltaDuration,easing:that.deltaEasing});that.checkTriggers()}});this.pointer=this.endPoint}else{this.pointer-=100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:this.slideDuration,easing:this.slideEasing,complete:function(){that.refreshSlides();that.checkTriggers()}})}}else{if(this.pointer<=(this.endPoint-100)){this.pointer-=100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{begin:function(){that.deinitTriggersAnimation()},duration:this.slideDuration,easing:this.slideEasing,complete:function(){that.pointer=-100;that.$slidesContainer.velocity({translateX:that.pointer+'%'},{duration:0,easing:that.deltaEasing});that.refreshSlides();that.initTriggersAnimation();that.checkTriggers()}})}else{this.pointer-=100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:this.slideDuration,easing:this.slideEasing,complete:function(){that.refreshSlides();that.checkTriggers()}})}}}};MASERATI.GallerySlideNew.prototype.prev=function(){var that=this;if(!this.areSlidesAnimating()){if(!this.infiniteScrolling){if(this.pointer>-100){this.$slidesContainer.velocity({translateX:this.imageDelta+'%'},{duration:this.deltaDuration,easing:this.deltaEasing,complete:function(element){$(element).velocity({translateX:'0%'},{duration:that.deltaDuration,easing:that.deltaEasing});that.checkTriggers()}});this.pointer=0}else{this.pointer+=100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:this.slideDuration,easing:this.slideEasing,complete:function(){that.refreshSlides();that.checkTriggers()}})}}else{if(this.pointer>-200){this.pointer+=100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{begin:function(){that.deinitTriggersAnimation()},duration:this.slideDuration,easing:this.slideEasing,complete:function(){that.pointer=(that.$slides.length-2)*-100;that.$slidesContainer.velocity({translateX:that.pointer+'%'},{duration:0,easing:that.deltaEasing});that.refreshSlides();that.initTriggersAnimation();that.checkTriggers()}})}else{this.pointer+=100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:this.slideDuration,easing:this.slideEasing,complete:function(){that.refreshSlides();that.checkTriggers()}})}}}};MASERATI.GallerySlideNew.prototype.triggerAction=function(direction,action){var that=this;if(direction=="prev"){if(action=="start"){that.$slidesContainer.velocity('stop').velocity({translateX:(that.pointer+that.imageDelta)+'%'},{duration:that.deltaDuration,easing:that.deltaEasing})}else{that.$slidesContainer.velocity('stop').velocity({translateX:that.pointer+'%'},{duration:that.deltaDuration,easing:that.deltaEasing})}}else{if(action=="start"){that.$slidesContainer.velocity('stop').velocity({translateX:(that.pointer-that.imageDelta)+'%'},{duration:that.deltaDuration,easing:that.deltaEasing})}else{that.$slidesContainer.velocity('stop').velocity({translateX:that.pointer+'%'},{duration:that.deltaDuration,easing:that.deltaEasing})}}}
MASERATI.GallerySlideNew.prototype.initTriggersAnimation=function(){var that=this;this.$prevTrigger.hover(function(){that.triggerAction("prev","start")},function(){that.triggerAction("prev","stop")});this.$nextTrigger.hover(function(){that.triggerAction("next","start")},function(){that.triggerAction("next","stop")})};MASERATI.GallerySlideNew.prototype.deinitTriggersAnimation=function(){this.$prevTrigger.unbind('hover');this.$nextTrigger.unbind('hover')};MASERATI.GallerySlideNew.prototype.refreshThumbs=function(){var that=this;var activeThumb=$(this.$thumbs.get(this.$slidesContainer.find('.active').index()));var activeDot=$(this.$dots.get(this.$slidesContainer.find('.active').index()));this.$thumbs.each(function(){$(this).velocity('stop').velocity({opacity:that.thumbsOpacity},{duration:that.thumbsDuration,easing:that.thumbsEasing});$(this).removeClass('active')});activeThumb.velocity('stop').velocity({opacity:1},{duration:that.thumbsDuration,easing:that.thumbsEasing,complete:function(){activeThumb.addClass('active')}});this.$dots.removeClass('active');activeDot.addClass('active')};MASERATI.GallerySlideNew.prototype.refreshSlides=function(){var activeSlide=$(this.$slides.get(Math.floor(this.pointer/-100)));this.$slides.removeClass('active');activeSlide.addClass('active');this.refreshThumbs()};MASERATI.GallerySlideNew.prototype.initWaypoints=function(delay){var that=this;this.$element.waypoint({handler:function(direction){if(direction=="down"){that.initTimer(delay)}else{that.stopTimer()}},offset:"40%"});this.$element.waypoint({handler:function(direction){if(direction=="up"){that.initTimer(delay)}else{that.stopTimer()}},offset:"-80%"})}
MASERATI.GallerySlideNew.prototype.initTimer=function(delay){if(MASERATI.BatteryDrain.visibilityChangeSupport()){document.addEventListener(visibilityChange,$.proxy(function(){this.handleBatteryDrain()},this),!1)}
window.clearInterval(this.timer);this.timer=window.setInterval($.proxy(this.timerTransition,this),delay)};MASERATI.GallerySlideNew.prototype.stopTimer=function(){window.clearInterval(this.timer)};MASERATI.GallerySlideNew.prototype.timerTransition=function(){if(this.timerDirection!==null){if(this.timerDirection==="right"){this.next()}else{this.prev()}}};MASERATI.GallerySlideNew.prototype.handleBatteryDrain=function(){if(document.hidden){this.stopTimer()}else{this.initTimer(this.delay)}};$(function(){$('.gallery-slide-new').each(function(){new MASERATI.GallerySlideNew($(this),6*1000,!0)})});MASERATI.GenuineAccessories=function($element){this.$element=$element;this.$intro=$element.find('.intro-box');this.$countrySelector=$element.find('.country-selector');this.$modelSelector=$element.find('.model-selector');this.$accessories=$element.find('.accessories-container');this.init()};MASERATI.GenuineAccessories.prototype.init=function(){var that=this;this.$element.on('genuine-country-selected',function(){$(this).removeClass('start').addClass('model-selection')}).on('genuine-model-selected',function(e,model){that.$element.find('.title-container .model-name').text(model);$(this).removeClass('model-selection model-changing').addClass('ready');that.$accessories.velocity('scroll',{offset:-$("#maserati_menu").height(),duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing})});this.initCountrySelector();this.initModelSelector();this.initAccessories()};MASERATI.GenuineAccessories.prototype.initCountrySelector=function(){var that=this;this.$countrySelector.on('submit',function(e){e.preventDefault();that.$element.trigger('genuine-country-selected')})};MASERATI.GenuineAccessories.prototype.initModelSelector=function(){var that=this;this.$modelSelector.find('.models .model').mouseenter(function(){$(this).siblings('.model').addClass("unhighlighted")}).mouseleave(function(){$(this).siblings('.model').removeClass("unhighlighted")}).click(function(e){e.preventDefault();that.$element.trigger('genuine-model-selected',$(this).find('.name').text())})};MASERATI.GenuineAccessories.prototype.initAccessories=function(){var that=this;this.$accessories.find('.items .item').mouseenter(function(){$(this).siblings('.item').addClass("unhighlighted")}).mouseleave(function(){$(this).siblings('.item').removeClass("unhighlighted")}).click(function(e){e.preventDefault();var $this=$(this);var $ref=$('#'+$this.data('ref'));if($this.hasClass('expanded'))
{if(that.size()=='smartphone')
{return}
$ref.removeClass('active');$(this).removeClass('expanded')}else{var $active=that.$accessories.find('.items .item.expanded');$active.removeClass('expanded');$('#'+$active.data('ref')).removeClass('active').detach().appendTo(that.$accessories.find('.items-expanded'));$ref.data('trigger',$this);$ref.detach();switch(that.size())
{case 'smartphone':$this.append($ref);break;case 'tablet':case 'desktop':default:var indexBreak=that.size()=='tablet'?2:3;var $target=$this;var total=that.$accessories.find('.items .item').length;var index=$target.index()+1;while((index%indexBreak)&&(index<total))
{var $next=$target.next();if($next.length)
{$target=$next;index=$target.index()+1}}
$target.after($ref);break}
$ref.addClass('active');$(this).addClass('expanded');$ref.velocity('scroll',{offset:-$("#maserati_menu").height(),duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing})}});this.$element.find('.title-container .change-model').on('click',function(e){e.preventDefault();that.$element.removeClass('model-selection ready').addClass('model-changing')});this.$element.find('.title-container .close').on('click',function(e){e.preventDefault();that.$element.removeClass('model-changing').addClass('ready')});this.$accessories.find('.item-expanded .close').on('click',function(e){e.preventDefault();e.stopPropagation();var $item=$(this).parents('.item-expanded');$item.data('trigger').removeClass('expanded');$item.removeClass('active')});this.$accessories.find('.items-expanded .slides .controls a').on('click',function(e){e.preventDefault();e.stopPropagation();var $this=$(this);if(!$this.hasClass('active'))
{var $slides=$(this).parents('.slides').find('.slide');$this.siblings('.active').removeClass('active');$this.addClass('active');var index=$this.index();$slides.filter('.active').removeClass('active');$slides.eq(index).addClass('active')}});$(window).on('resize',function(){that.$accessories.find('.items .item.expanded').removeClass('expanded');that.$accessories.find('.item-expanded.active').removeClass('active')})};MASERATI.GenuineAccessories.prototype.size=function(){if(MASERATI.Helpers.getWindowWidth()<1024)
{if(MASERATI.Helpers.getWindowWidth()<768)
{return 'smartphone'}
return 'tablet'}
return 'desktop'};$(function(){new MASERATI.GenuineAccessories($('.genuine-accessories'))});MASERATI.HeroImageHome=function($element,offset){this.$element=$element;this.$scrollDown=this.$element.find('.downArrow');this.$offset=offset;this.initEvents()};MASERATI.HeroImageHome.prototype.initEvents=function(){var that=this;this.$element.find(".title-cta-table .title, .title-cta-table .subtitle").click(function(){$('.title-cta-table .cta.cta-button a')[0].click()});this.$scrollDown.click(function(){$($(this).attr('data-to')).velocity('scroll',{offset:-that.$offset})})};$(function(){$('.hero-image-home').each(function(){new MASERATI.HeroImageHome($(this),$('#maserati_menu').height())})});MASERATI.HeroImageModel=function($element,offset){this.$element=$element;this.scrollTarget=this.$element.next('.component');this.$scrollDown=this.$element.find('.downArrow');this.$offset=offset;this.bindEvents()};MASERATI.HeroImageModel.prototype.bindEvents=function(){var that=this;var $menuRef=$("#maserati_menu");this.$scrollDown.click(function(){$($(this).attr('data-to')).velocity('scroll',{offset:-that.$offset})})};$(function(){$('.hero-image-model').each(function(){new MASERATI.HeroImageModel($(this),$('#maserati_menu').height())})});MASERATI.HeroVideoHome=function($element){this.$element=$element;this.init()};MASERATI.HeroVideoHome.prototype.init=function(){this.$element.find('.video-container').YTPlayer({fitToBackground:!0,videoId:this.$element.attr('data-video')})};$(function(){$('.hero-video-home').each(function(){new MASERATI.HeroVideoHome($(this))})});MASERATI.LegalNotes=function($element,$trigger){this.$element=$element;this.$trigger=$trigger;this.opened=!1;this.bindEvents()};MASERATI.LegalNotes.prototype.open=function($el){if(!$el.hasClass('velocity-animating')){var animationType={opacity:1,translateY:'0'};$el.velocity(animationType,{duration:MASERATI.Animations.openOverlaySlideSpeed,complete:function(){$el.toggleClass('opened')}});$('body').addClass('locked')}};MASERATI.LegalNotes.prototype.close=function($el){if(!$el.hasClass('velocity-animating')){var animationType={opacity:0,translateY:'100%'};$el.velocity(animationType,{duration:MASERATI.Animations.openOverlaySlideSpeed,complete:function(){$el.toggleClass('opened')}});$('body').removeClass('locked')}};MASERATI.LegalNotes.prototype.toggleMenu=function($el){if($el.hasClass('opened')){this.close($el)}else{this.open($el)}};MASERATI.LegalNotes.prototype.bindEvents=function(){var that=this;$(".tos-trigger").click(function(e){e.preventDefault();var href=$(this).attr('href');if($(this).attr('data-overlay')=="true"){if(that.$element.attr('data-loaded')==="true"){that.open(that.$element)}else{$.get(href,{},function(data){var html=$(data).children('div').parent();that.$element.find('.description').html(html);that.open(that.$element);that.$element.attr('data-loaded','true')})}}else{document.location.href=$(this).attr("href")}
return!1});this.$element.find(".close").click(function(){that.close(that.$element)})};$(function(){var $legalNotes=$("#legal-notes");if($legalNotes.length){new MASERATI.LegalNotes($legalNotes)}});MASERATI.MClassicSearch=function($element){this.$element=$element;this.$container=$element.find('.classic__models__container');this.$placeHolder=this.$element.find('.classic__search__selectors--placeholder');this.$selects=$element.find('.classic__search__selectors select');this.$familySelect=this.$selects.parent().find('[data-search="family"]');this.$versionSelect=this.$selects.parent().find('[data-search="version"]');this.$yearsSelect=this.$selects.parent().find('[data-search="years"]');this.$familyOptions=this.$familySelect.find('option:not([value="*"])');this.$versionsOptions=this.$versionSelect.find('option:not([value="*"])');this.$yearsOptions=this.$yearsSelect.find('option:not([value="*"])');this.$clonedFamilySelectOptions=this.$familyOptions.clone();this.$clonedVersionSelectOptions=this.$versionsOptions.clone();this.$clonedYearsSelectOptions=this.$yearsOptions.clone();this.$currentFamily=this.getCurrentFamily();this.$currentVersion=this.getCurrentVersion();this.$currentYears=this.getCurrentYears();this.selects=this.getSelectsJSON();this.isScrollingToResults=!1;this.shouldScrollAfterReflow=!1;this.shouldScrollAtAll=!1;this.layoutInverted=!1;this.init()};MASERATI.MClassicSearch.prototype.init=function(){this.normalizeFamilyOptions();this.loadFilters();this.setupFilterEvents();this.initWaypoints();this.initIsotope();this.setupIsotopeEvents();this.setupResizeEvents();this.setupClickEvent();this.renewFilters(!0);this.recalcPlaceholderMargin()};MASERATI.MClassicSearch.prototype.initIsotope=function(){window.isotopic=this.$isotopeElement=this.$container.isotope({itemSelector:'.classic__models__model',layoutMode:'packery',percentPosition:!0,packery:{gutter:20},visibleStyle:{opacity:1},hiddenStyle:{opacity:0},getSortData:{order:'[data-order] parseInt'},sortBy:'order',transitionDuration:200})};MASERATI.MClassicSearch.prototype.getCurrentFamily=function(){return this.$familySelect.find(':selected')};MASERATI.MClassicSearch.prototype.getCurrentVersion=function(){return this.$versionSelect.find(':selected')};MASERATI.MClassicSearch.prototype.getCurrentYears=function(){return this.$yearsSelect.find(':selected')};MASERATI.MClassicSearch.prototype.getSelectsJSON=function(){return{'family':{'select':this.$familySelect,'options':this.$familyOptions,'current':this.$currentFamily},'version':{'select':this.$versionSelect,'options':this.$versionsOptions,'current':this.$currentVersion},'years':{'select':this.$yearsSelect,'options':this.$yearsOptions,'current':this.$currentYears}}};MASERATI.MClassicSearch.prototype.updateCurrentSelectedValues=function(){this.selects.family.current=this.getCurrentFamily();this.selects.version.current=this.getCurrentVersion();this.selects.years.current=this.getCurrentYears()};MASERATI.MClassicSearch.prototype.setupFilterEvents=function(e){this.$selects.each(function(id,element){$(element).change(function(){this.saveFilters();this.renewFilters();this.updateCurrentSelectedValues();this.checkNoResultsStatus()}.bind(this))}.bind(this));this.$selects.click(function(){this.shouldScrollAfterReflow=!0}.bind(this));this.selects.family.select.change(function(e){this.checkOriginalEvent(e,this.familyChangeHandler.bind(this))}.bind(this));this.selects.version.select.change(function(e){this.checkOriginalEvent(e,this.versionChangeHandler.bind(this))}.bind(this))
this.selects.years.select.change(function(e){this.checkOriginalEvent(e,this.yearsChangeHandler.bind(this))}.bind(this))};MASERATI.MClassicSearch.prototype.checkOriginalEvent=function(e,callback){if(e.originalEvent===undefined){return}else{callback()}};MASERATI.MClassicSearch.prototype.familyChangeHandler=function(){MASERATI.Helpers.log("familyChangeHandler");this.setupSwitchLayout();MASERATI.Helpers.log("resetting years");this.resetYearsIfWillNotBeShown(this.selects.family);MASERATI.Helpers.log("updating years");this.shouldDependOnFamily(this.selects.years);MASERATI.Helpers.log("resetting versions");this.shouldResetVersions();MASERATI.Helpers.log("updating versions");this.shouldDependOnYearsAndFamilies(this.selects.version);this.autoSelectLoneOptions()};MASERATI.MClassicSearch.prototype.versionChangeHandler=function(){MASERATI.Helpers.log("versionChangeHandler");var curFamily=this.getCurrentFamily().val();var curVersion=this.getCurrentVersion().val();var curVersionFamily=this.selects.version.current[0].dataset.category;MASERATI.Helpers.log('cur family',curFamily,'curVersionFamily ',curVersionFamily);if(curVersion!=="*"){MASERATI.Helpers.log("Reset years");this.resetYearsIfWillNotBeShown(this.selects.version);MASERATI.Helpers.log("Years depend on versions");this.shouldDependOnVersions(this.selects.years);if(curFamily==="*"){MASERATI.Helpers.log("Families  depend on versions");this.shouldDependOnVersions(this.selects.family);MASERATI.Helpers.log("Versions updated based on family");this.resetSelectOptions(this.selects.version);this.$clonedVersionSelectOptions.each(function(index,version){if(version.dataset.category===curVersionFamily){if(version.dataset.category==curVersion){version.selected='selected'}
this.$versionSelect.append(version)}}.bind(this))}}else{if(curFamily!=="*"){MASERATI.Helpers.log("Reset years");this.resetYearsIfWillNotBeShown(this.selects.version);MASERATI.Helpers.log("Current family is selected, years based on family");this.shouldDependOnFamily(this.selects.years)}else{}}};MASERATI.MClassicSearch.prototype.yearsChangeHandler=function(){MASERATI.Helpers.log("yearsChangeHandler");if(!this.allFamiliesSelected()){MASERATI.Helpers.log("a family is selected, do not filter families based on years");if(!this.allVersionsSelected()){MASERATI.Helpers.log("a version is selected, deselect if it will not be shown");this.resetVersionIfWillNotBeShown(this.selects.years)}
this.shouldDependOnYearsAndFamilies(this.selects.version)}else{this.shouldDependOnYears(this.selects.version)}
this.autoSelectLoneOptions()};MASERATI.MClassicSearch.prototype.initWaypoints=function(){$('.classic__search__selectors').waypoint({handler:function(direction){if(direction==='up'){$('.classic__search__selectors').removeClass('stickied')}else{$('.classic__search__selectors').addClass('stickied')}},offset:$('#maserati_menu').height()});$('.classic__search__models').waypoint({handler:function(direction){if(direction==='up'){$('.classic__search__back').removeClass('stickied')}else{$('.classic__search__back').addClass('stickied')}},offset:$('#maserati_menu').height()});$('.classic__search__models').waypoint({handler:function(direction){MASERATI.Helpers.log('stick bottom in view',direction)
if(direction==='up'){$('.classic__search__back').removeClass('toBottom')}else{$('.classic__search__back').addClass('toBottom')}},offset:'bottom-in-view'})};MASERATI.MClassicSearch.prototype.setupIsotopeEvents=function(){this.$isotopeElement.on('layoutComplete',this.waitTransitionAndReLayout.bind(this))};MASERATI.MClassicSearch.prototype.setupResizeEvents=function(){$(window).on('resize',this.debounce(function(){this.$element.find('.classic__models__model').each(function(id,element){$(element).find('.classic__model__content__container').css('height',$(element).outerHeight());$(element).find('.classic__model__content__container').css('width',$(element).outerWidth())}.bind(this));this.recalcPlaceholderMargin()}.bind(this),150))};MASERATI.MClassicSearch.prototype.setupSwitchLayout=function(){MASERATI.Helpers.log('switch layout');this.layoutInverted=!this.layoutInverted};MASERATI.MClassicSearch.prototype.setupClickEvent=function(){this.$element.find('.classic__search__back').click(function(){var offset=$("#maserati_menu").outerHeight()+30;$('.classic__search__selectors').velocity('scroll',{duration:500,easing:"easeOutCubic",offset:-offset,complete:function(){}})});this.$element.find('.classic__models__model').each(function(index,element){$(element).click(function(){window.location=$(this).find('.classic__model__cta a').attr('href')})})};MASERATI.MClassicSearch.prototype.renewFilters=function(isFirst){var elements=$(this.$isotopeElement.isotope('getItemElements'));if(isFirst){var transitionEnded=!1;this.reflowElements(elements);elements.one('transitionend',function(){transitionEnded=!0});var relayout=function(){this.$isotopeElement.isotope('layout');if(!transitionEnded){window.requestAnimationFrame(relayout)}}.bind(this);relayout()}
this.lastFilters=(typeof this.lastFilters==='undefined')?'*':this.lastFilters;var filtersValues=this.getFiltersValues();var $curFilteredElements=(function(){if(this.lastFilters==='*'){return elements}
return this.$container.find(this.lastFilters)}).bind(this)();var $afterFilterShownElements=(function(){if(filtersValues==='*'){return elements}
return this.$container.find(filtersValues)}).bind(this)();var $elementsToBeShown=(function(){return $($($afterFilterShownElements).not($curFilteredElements).get())}).bind(this)();var $afterFilterDiscardedElements=(function(){if(filtersValues==='*'){return $([])}
var lastFiltersValues=(this.lastFilters==='*')?'':this.lastFilters
return this.$element.parent().find('.classic__models__container > '+lastFiltersValues+':not('+filtersValues+')')}).bind(this)();$afterFilterDiscardedElements.each(function(index,element){$(element).addClass('scale-out')});$elementsToBeShown.each(function(index,element){$(element).addClass('scale-out')});window.setTimeout(function(){this.reflowElements($afterFilterShownElements);this.$isotopeElement.isotope({filter:filtersValues,getSortData:{order:'[data-order] parseInt'},sortBy:'order'})}.bind(this),220);this.lastFilters=filtersValues};MASERATI.MClassicSearch.prototype.isTopScrollWithinMargin=function(elementToScroll,offset){var diff=Math.round($(window).scrollTop())-Math.round(elementToScroll[0].offsetTop-offset);var acceptableMargin=10;if(Math.abs(diff)<acceptableMargin){return!0}
return!1};MASERATI.MClassicSearch.prototype.scrollToTopOfResults=function(){var offset=$("#maserati_menu").outerHeight();var stickyElement=document.getElementsByClassName('classic__search__selectors stickied');if(stickyElement.length>0){var styles=window.getComputedStyle(stickyElement[0]);var position=styles.getPropertyValue("position")
if(position==="fixed"){offset+=$(stickyElement[0]).outerHeight()}}
var elementToScroll=$(".classic__search__models");var alreadyScrolledToCorrectPosition=!1;if(this.isTopScrollWithinMargin(elementToScroll,offset)){alreadyScrolledToCorrectPosition=!0}
var that=this;if(!alreadyScrolledToCorrectPosition&&!this.isScrollingToResults){this.$selects.each(function(id,element){element.blur()});this.isScrollingToResults=!0;elementToScroll.velocity('scroll',{duration:500,easing:"easeOutCubic",offset:-offset,complete:function(){that.isScrollingToResults=!1;that.shouldScrollAfterReflow=!1}})}else{}}
MASERATI.MClassicSearch.prototype.waitTransitionAndReLayout=function(event,laidOutItems){if(laidOutItems.length){MASERATI.Helpers.log('relayout, has items');this.hideNoResults()}
window.setTimeout(function(){this.$element.find('.classic__models__model').each(function(id,el){$(el).removeClass('scale-out')});if(!laidOutItems.length){MASERATI.Helpers.log('relayout, no items');this.showNoResults()}else{this.hideNoResults()}
if(this.shouldScrollAtAll&&this.shouldScrollAfterReflow){this.scrollToTopOfResults()}
Waypoint.refreshAll()}.bind(this),240)};MASERATI.MClassicSearch.prototype.reflowElements=function(elements){var inversionSuffix=this.layoutInverted?'-inverted':'';this.removeExtraClasses(elements)
var $filteredElements=elements;var filteredElementsNumber=$filteredElements.length;var modulus=filteredElementsNumber%6;var counter=1;var element=null;for(var i=1;i<=(filteredElementsNumber-modulus);i++){if(i===7){}
element=$filteredElements.get(i-1);$(element).addClass('pack-6-'+(i%6||6)+inversionSuffix);element.setAttribute('data-pack-class','pack-6-'+(i%6||6)+inversionSuffix);element.setAttribute('data-order',counter);counter+=1;$(element).find('.classic__model__content__container').css('height',$(element).outerHeight());$(element).find('.classic__model__content__container').css('width',$(element).outerWidth())}
var start=filteredElementsNumber-modulus;for(var k=1;k<=modulus;k++){element=$filteredElements.get(start-1+k);$(element).addClass('pack-'+modulus+'-'+(k%6));element.setAttribute('data-pack-class','pack-'+modulus+'-'+(k%6));element.setAttribute('data-order',counter);counter+=1;$(element).find('.classic__model__content__container').css('height',$(element).outerHeight());$(element).find('.classic__model__content__container').css('width',$(element).outerWidth())}};MASERATI.MClassicSearch.prototype.getFiltersValues=function(){var filtersValues=[];var yearsValues=[];this.$selects.each(function(id,element){if(element.value!=='*'){if(element.dataset.search!=='years'){filtersValues.push('[data-'+element.dataset.search+'="'+element.value+'"]')}else{var yearStart=parseInt(element.value.substr(0,4));var yearEnd=parseInt(element.value.substr(5));for(var i=yearStart;i<=yearEnd;i++){yearsValues.push('[data-years*="'+i+'"]')}}}});var ret=[];if(yearsValues.length){for(var i=0;i<yearsValues.length;i++){ret.push(yearsValues[i]+filtersValues.join(''))}
return ret.join(',')}
return filtersValues.length?filtersValues.join(''):'*'};MASERATI.MClassicSearch.prototype.autoSelectLoneOptions=function(){return;var that=this;this.$selects.each(function(id,element){var count=0;var lastCountedOptionValue='';$(element).find('option').each(function(id,el){if(el.style.display==='block'&&el.value!=='*'){count++;lastCountedOptionValue=el.value}});if(count===1&&element.value!==lastCountedOptionValue){element.value=lastCountedOptionValue;that.updateCurrentSelectedValues()}}.bind(this))};MASERATI.MClassicSearch.prototype.matchYear=function(yearRangeFromSelect,yearRangeFromVersion){if(typeof yearRangeFromVersion==='undefined'){return!0}
var versionYears=yearRangeFromVersion.substr(1,yearRangeFromVersion.length-2);versionYears=versionYears.split(',').map(function(x){return parseInt(x)});var selectYears=yearRangeFromSelect.split(',').map(function(x){return parseInt(x)});for(var i=0;i<versionYears.length;i++){if(selectYears[0]<=versionYears[i]&&versionYears[i]<=selectYears[1]){return!0}}
return!1};MASERATI.MClassicSearch.prototype.saveFilters=function(){this.$selects.each(function(id,element){sessionStorage.setItem(element.getAttribute('id'),element.value)}.bind(this))};MASERATI.MClassicSearch.prototype.urlFamilyParameterCheckAndSelect=function(parameter){MASERATI.Helpers.log('received a category from URL: ',parameter);var hasSelected=!1;this.$familyOptions.each(function(id,element){MASERATI.Helpers.log('checking parameter on option: ',element,element.value+" <> "+parameter);if(element.value===parameter){element.selected='selected';hasSelected=!0}}.bind(this));var offset=$("#maserati_menu").height();var elementToScroll=$(".classic__search__selectors--placeholder");elementToScroll.velocity('scroll',{duration:500,easing:"easeOutCubic",offset:-offset,complete:function(){that.isScrollingToResults=!1;that.shouldScrollAfterReflow=!1}});return hasSelected};MASERATI.MClassicSearch.prototype.loadFilters=function(){var urlCategory=MASERATI.Helpers.getUrlParameter("category");MASERATI.Helpers.log('received a category from URL: ',urlCategory);if(urlCategory!==!1&&this.urlFamilyParameterCheckAndSelect(urlCategory)){this.updateCurrentSelectedValues();MASERATI.Helpers.log('triggering family change');this.shouldDependOnFamily(this.selects.years)
this.shouldDependOnFamily(this.selects.version)
this.$selects.each(function(id,element){if(element.getAttribute('id')==='classic__selector__family'){sessionStorage.setItem(element.getAttribute('id'),urlCategory)}else{sessionStorage.setItem(element.getAttribute('id'),'*')}}.bind(this));MASERATI.Helpers.log('changing history state from ',location.href);var newUrl=location.href.replace('?category='+urlCategory,'').replace('category='+urlCategory,'');MASERATI.Helpers.log('changing history state to ',newUrl);history.replaceState({},'',newUrl)}else{this.$selects.each(function(id,element){if(sessionStorage.getItem(element.getAttribute('id'))){element.value=sessionStorage.getItem(element.getAttribute('id'));MASERATI.Helpers.log('updating select id '+id+', value is '+element.value,element.name);this.updateCurrentSelectedValues();switch(element.name){case 'family':this.familyChangeHandler();break;case 'version':this.versionChangeHandler();break;case 'year':this.yearsChangeHandler();break}}}.bind(this))}};MASERATI.MClassicSearch.prototype.normalizeFamilyOptions=function(){this.selects.family.options.each(function(id,option){var category=option.dataset.category;var years=[];this.selects.version.select.find('[data-category="'+category+'"]').each(function(idx,opt){var normalizedYears=opt.dataset.years.substr(1,opt.dataset.years.length-2).split(',');for(var i=0;i<normalizedYears.length;i++){years.push(normalizedYears[i])}});option.dataset.years="["+$.unique(years).join(',')+"]"}.bind(this));this.$clonedFamilySelectOptions.each(function(id,option){var category=option.dataset.category;var years=[];this.selects.version.select.find('[data-category="'+category+'"]').each(function(idx,opt){var normalizedYears=opt.dataset.years.substr(1,opt.dataset.years.length-2).split(',');for(var i=0;i<normalizedYears.length;i++){years.push(normalizedYears[i])}});option.dataset.years="["+$.unique(years).join(',')+"]"}.bind(this))};MASERATI.MClassicSearch.prototype.resetSelectOptions=function(select){if(select===this.selects.version){this.$versionSelect.find('option').not(':first').remove()}else if(select===this.selects.years){this.$yearsSelect.find('option').not(':first').remove()}else if(select===this.selects.family){this.$familySelect.find('option').not(':first').remove()}};MASERATI.MClassicSearch.prototype.shouldDependOnFamily=function(select){if(select===this.selects.years){this.resetSelectOptions(select);MASERATI.Helpers.log('matching years with family');this.$clonedYearsSelectOptions.each(function(index,years){var allFamiliesSelected=this.allFamiliesSelected();var matchYear=this.matchYear(years.value,this.selects.family.current[0].dataset.years);if(allFamiliesSelected){MASERATI.Helpers.log('all families are selected')}else if(matchYear){MASERATI.Helpers.log('Matches years',years.value,this.selects.family.current[0].dataset.years)}
if(allFamiliesSelected||matchYear){this.$yearsSelect.append(years)}}.bind(this))}else{this.resetSelectOptions(select);this.$clonedVersionSelectOptions.each(function(index,version){if(this.allFamiliesSelected()||version.dataset.category===this.selects.family.current.val()){this.$versionSelect.append(version)}}.bind(this))}};MASERATI.MClassicSearch.prototype.shouldDependOnVersions=function(select){if(select===this.selects.years){this.resetSelectOptions(select);this.$clonedYearsSelectOptions.each(function(index,years){if(this.allVersionsSelected()||this.matchYear(years.value,this.selects.version.current[0].dataset.years)){this.$yearsSelect.append(years)}}.bind(this))}else{this.selects.family.options.each(function(index,family){if(family.dataset.category===this.selects.version.current[0].dataset.category){family.selected='selected'}}.bind(this))}};MASERATI.MClassicSearch.prototype.shouldDependOnYears=function(select){if(select===this.selects.version){this.resetSelectOptions(select);this.$clonedVersionSelectOptions.each(function(index,version){if(this.allYearsSelected()||this.matchYear(this.selects.years.current.val(),version.dataset.years)){this.$versionSelect.append(version)}}.bind(this))}else{this.resetSelectOptions(select);this.$clonedFamilySelectOptions.each(function(index,family){if(this.allYearsSelected()||this.matchYear(this.selects.years.current.val(),family.dataset.years)){this.$familySelect.append(family)}}.bind(this))}};MASERATI.MClassicSearch.prototype.shouldDependOnYearsAndFamilies=function(select){this.resetSelectOptions(select);this.$clonedVersionSelectOptions.each(function(index,version){if((this.allFamiliesSelected()||version.dataset.category===this.selects.family.current.val())&&(this.allYearsSelected()||this.matchYear(this.selects.years.current.val(),version.dataset.years))){this.$versionSelect.append(version)}}.bind(this))};MASERATI.MClassicSearch.prototype.resetYearsIfWillNotBeShown=function(select){if(select===this.selects.family){if(!this.allFamiliesSelected()&&!this.matchYear(this.selects.years.current.val(),this.selects.family.current[0].dataset.years)){this.shouldResetYears()}}else{if(!this.allVersionsSelected()&&!this.matchYear(this.selects.years.current.val(),this.selects.version.current[0].dataset.years)){this.shouldResetYears()}}};MASERATI.MClassicSearch.prototype.resetFamilyIfWillNotBeShown=function(select){if(select===this.selects.years){if(!this.allYearsSelected()&&!this.allFamiliesSelected()&&!this.matchYear(this.selects.years.current.val(),this.selects.family.current[0].dataset.years)){this.shouldResetFamilies()}else{if(!this.allVersionsSelected()&&!this.allFamiliesSelected()&&this.selects.family.current.val()!==this.selects.version.current[0].dataset.category){this.shouldResetFamilies()}}}};MASERATI.MClassicSearch.prototype.resetVersionIfWillNotBeShown=function(select){if(select===this.selects.years){if(!this.allYearsSelected()&&!this.allVersionsSelected()&&!this.matchYear(this.selects.years.current.val(),this.selects.version.current[0].dataset.years)){this.shouldResetVersions()}else{if(!this.allFamiliesSelected()&&!this.allVersionsSelected()&&this.selects.family.current.val()!==this.selects.version.current[0].dataset.category){this.shouldResetVersions()}}}};MASERATI.MClassicSearch.prototype.shouldResetVersions=function(){this.selects.version.select.val('*');this.selects.version.select.change()};MASERATI.MClassicSearch.prototype.shouldResetFamilies=function(){this.selects.family.select.val('*');this.selects.family.select.change()};MASERATI.MClassicSearch.prototype.shouldResetYears=function(){this.selects.years.select.val('*');this.selects.years.select.change()};MASERATI.MClassicSearch.prototype.checkNoResultsStatus=function(){if(this.$isotopeElement.isotope('getFilteredItemElements').length){this.hideNoResults()}else{this.showNoResults()}};MASERATI.MClassicSearch.prototype.showNoResults=function(){this.$element.find('.classic__search__noresults').addClass('active')};MASERATI.MClassicSearch.prototype.hideNoResults=function(){this.$element.find('.classic__search__noresults').removeClass('active')};MASERATI.MClassicSearch.prototype.debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args)}};MASERATI.MClassicSearch.prototype.allYearsSelected=function(){return this.selects.years.current.val()==='*'};MASERATI.MClassicSearch.prototype.allVersionsSelected=function(){return this.selects.version.current.val()==='*'};MASERATI.MClassicSearch.prototype.allFamiliesSelected=function(){return this.selects.family.current.val()==='*'};MASERATI.MClassicSearch.prototype.recalcPlaceholderMargin=function(){this.$placeHolder.css('height',this.$element.find('.classic__search__selectors').outerHeight()+'px')};MASERATI.MClassicSearch.prototype.removeExtraClasses=function(elements){var extraClasses=(function(){var ret=[];for(var i=1;i<=6;i++){for(var j=1;j<=i;j++){ret.push('pack-'+i+'-'+j);ret.push('pack-'+i+'-'+j+"-inverted")}}
return ret.join(' ')})();$(elements).each(function(i,el){$(el).removeClass(extraClasses)})};var MClassicSearch;$(function(){var $element=$(".classic__search");$element.each(function(){MClassicSearch=new MASERATI.MClassicSearch($(this))})});MASERATI.MClassicSingleModel=function($element){this.$element=$element;this.$galleryContainer=$element.find('.classic__description__gallery__container');this.$controls=$element.find('.classic__description__gallery__controls');this.$images=this.$galleryContainer.find('.classic__description__image');this.$imagesTags=this.$galleryContainer.find('.classic__description__image img');this.$currentImage=$(this.$images.get(0));this.init();this.isAnimating=!1;this.preventClick=!1;this.animatingClass='animating'};MASERATI.MClassicSingleModel.prototype.onImgLoad=function(selector,callback){$(selector).each(function(){if(this.complete||$(this).height()>0){callback.apply(this)}
else{$(this).on('load',function(){callback.apply(this)})}})};MASERATI.MClassicSingleModel.prototype.init=function(){this.setupEnvironment();this.createNavigation();this.setupEvents()};MASERATI.MClassicSingleModel.prototype.setupEnvironment=function(){this.$currentImage.addClass('current');var that=this;this.onImgLoad(this.$imagesTags.get(0),function(){that.updateGalleryHeight(that.$currentImage);that.$galleryContainer.addClass('loaded')})};MASERATI.MClassicSingleModel.prototype.createNavigation=function(){this.$images.each(function(index,element){element.dataset.image=index+1;this.$controls.append($("<div>",{'class':'description__gallery__button'+(index===0?' current':''),'data-image':index+1}))}.bind(this))};MASERATI.MClassicSingleModel.prototype.setupEvents=function(){this.$controls.find('.description__gallery__button').each(function(index,element){$(element).click(this.goToImage.bind(this,element.dataset.image))}.bind(this));this.$images.each(function(index,element){$(element).on('transitionend',function(){window.requestAnimationFrame(function(){this.isAnimating=!1;this.preventClick=!1;$(element).removeClass(this.animatingClass+' to-left to-right from-left from-right')}.bind(this))}.bind(this))}.bind(this));$(window).on('resize',MASERATI.Helpers.debounce(function(){this.updateGalleryHeight(this.$currentImage);if($(window).width()<768){this.preventClick=!1}}.bind(this),250));this.$galleryContainer.on('swipeleft',function(){if(!this.preventClick){this.preventClick=!0;this.goToNext()}}.bind(this));this.$galleryContainer.on('swiperight',function(){if(!this.preventClick){this.preventClick=!0;this.goToPrev()}}.bind(this));this.$element.find('.classic__description__gallery__next').on('click',function(){if(!this.preventClick){this.goToNext()}}.bind(this));this.$element.find('.classic__description__gallery__prev').on('click',function(){if(!this.preventClick){this.goToPrev()}}.bind(this))};MASERATI.MClassicSingleModel.prototype.goToImage=function(index){if(this.isAnimating){return}
var currentIndex=this.$controls.find('.description__gallery__button.current').index()+1;index=parseInt(index);if(currentIndex===index){return}
this.isAnimating=!0;var directionIn=(index>currentIndex)?'from-right':'from-left';var directionOut=(index>currentIndex)?'to-left':'to-right';this.$controls.find('.description__gallery__button.current').removeClass('current');$(this.$controls.find('.description__gallery__button').get(index-1)).addClass('current');var $toBeTransitioned=this.$images.parent().find('[data-image="'+(index)+'"]');$toBeTransitioned.addClass(directionIn);this.$currentImage.addClass(this.animatingClass);window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){$toBeTransitioned.addClass(this.animatingClass+' current');this.$currentImage.addClass(directionOut);this.$currentImage.removeClass('current');this.$currentImage=$toBeTransitioned}.bind(this))}.bind(this))};MASERATI.MClassicSingleModel.prototype.goToNext=function(){var imagesNumber=this.$images.length;var currentIndex=parseInt(this.$currentImage.get(0).dataset.image);var nextIndex=currentIndex+1;if(nextIndex>imagesNumber){$(this.$controls.find('.description__gallery__button').get(0)).trigger('click')}else{$(this.$controls.find('.description__gallery__button').get(nextIndex-1)).trigger('click')}};MASERATI.MClassicSingleModel.prototype.goToPrev=function(){var imagesNumber=this.$images.length;var currentIndex=parseInt(this.$currentImage.get(0).dataset.image);var prevIndex=currentIndex-1;if(prevIndex<=0){$(this.$controls.find('.description__gallery__button').get(imagesNumber-1)).trigger('click')}else{$(this.$controls.find('.description__gallery__button').get(prevIndex-1)).trigger('click')}};MASERATI.MClassicSingleModel.prototype.updateGalleryHeight=function($image){var height=Math.max.apply(null,this.$images.find('img').map(function()
{return $(this).height()}).get())
this.$galleryContainer.css('height',height);$image.find("img").css("top",height/2)};$(function(){var $element=$(".classic__model__description");$element.each(function(){new MASERATI.MClassicSingleModel($(this))})});MASERATI.Menu=function($element,stickyInit){this.$element=$element;this.$mobileMenu=this.$element.find('.mobile-menu');this.active=!1;if(stickyInit){this.stickyBind()}
this.mobileInit();$("#countryAlert .close, #countryAlert .btnOK").on("click",function(){$("#countryAlert").velocity('slideUp')});this.overlayTime=this.$element.attr("data-overlay-time")?this.$element.attr("data-overlay-time"):5;this.bounceInit();this.autoCloseInit()};MASERATI.Menu.prototype.autoCloseInit=function(){var seconds=this.overlayTime;var btnOk=$("#countryAlert .btnOK");var prefix=btnOk.text();var countdown=setInterval(function(){if(seconds<0){clearInterval(countdown);$("#countryAlert").velocity('slideUp')}else{btnOk.text(prefix+" ("+seconds-- +")")}},1000)}
MASERATI.Menu.prototype.stickyBind=function(){var that=this;new Waypoint.Sticky({element:that.$element[0],offset:-1})};MASERATI.Menu.prototype.bounceInit=function(){var that=this;var resize=MASERATI.Helpers.debounce(function(){if($(window).width()<1024){that.$element.find('.content').removeAttr('style');that.$element.find('.logo').removeAttr('style')}});$(window).resize(resize)};MASERATI.Menu.prototype.mobileInit=function(){new MASERATI.MobileMenu(this.$mobileMenu,this.$element.find('.hamburger, .mobile-menu .close'))};MASERATI.Menu.prototype.calcMenuSubElementsHeight=function(){var res='0px';this.$mobileMenu.find('*').each(function(){res=parseInt(res.replace('px',''))+parseInt(($(this).css('height')).replace('px',''))+parseInt(($(this).css('padding-top')).replace('px',''))+parseInt(($(this).css('padding-bottom')).replace('px',''))+parseInt(($(this).css('margin-top')).replace('px',''))+parseInt(($(this).css('margin-bottom')).replace('px',''))+'px'});return res};$(function(){var $menuSelector=$("#maserati_menu");if($menuSelector.length){var isNotSticky=$menuSelector.hasClass('not-sticky');new MASERATI.Menu($menuSelector,!isNotSticky)}});MASERATI.MobileMenu=function($element,$trigger){this.$element=$element;this.$subs=this.$element.find('.sub');this.$trigger=$trigger;this.opened=!1;this.bindEvents();this.clearGraphics()};MASERATI.MobileMenu.prototype.open=function(){var that=this;Waypoint.disableAll();$('body').data('pos',$('body').scrollTop());this.$element.scrollTop(0);if(!this.$element.hasClass('velocity-animating')){this.$element.velocity({translateX:0,opacity:1},{duration:MASERATI.Animations.openOverlaySlideSpeed,complete:function(){that.opened=!0;that.$element.removeClass('closed');$('body').addClass('locked');$('body').children(':visible:not(.sticky-wrapper, .not-sticky)').addClass('menuhidden').hide()}})}};MASERATI.MobileMenu.prototype.close=function(){var that=this;Waypoint.enableAll();Waypoint.refreshAll();$('body').removeClass('locked');$('body').children('.menuhidden').show().removeClass('menuhidden');if($('body').data('pos')!==null){$('body').scrollTop($('body').data('pos'));$('body').data('pos',!1)}
if(!this.$element.hasClass('velocity-animating')){this.$element.velocity({translateX:'100%',opacity:0},{duration:MASERATI.Animations.openOverlaySlideSpeed,complete:function(){that.opened=!1;that.$element.addClass('closed')}})}};MASERATI.MobileMenu.prototype.toggleMenu=function(){if(this.opened){this.close()}else{this.open()}};MASERATI.MobileMenu.prototype.bindEvents=function(){var that=this;this.$trigger.click(function(){that.toggleMenu()});this.$subs.each(function(){$e=$(this);$e.children('span').click(function(){var $list=$(this).siblings('ul');if(!$list.hasClass('velocity-animating')){$list.velocity($list.is(':visible')?'slideUp':'slideDown');$(this).find('.triangle').velocity({rotateZ:$list.is(':visible')?'0deg':'180deg'},{duration:500})}})});var unlockOnResize=MASERATI.Helpers.debounce(function(){if($(window).width()>=1280){that.clearGraphics()}},250);$(window).resize(function(){unlockOnResize()})};MASERATI.MobileMenu.prototype.clearGraphics=function(){var that=this;this.$element.velocity({translateX:'100%'},{duration:500,complete:function(){that.opened=!1;that.$element.velocity({opacity:0});$('body').removeClass('locked')}})};MASERATI.ModelConfigure=function($element){this.$element=$element;this.$cta=$element.find('.cta');this.$elementTo=$element.data('scrollto');this.init()};MASERATI.ModelConfigure.prototype.init=function(){this.initEvents()};MASERATI.ModelConfigure.prototype.getMenuOffset=function(){return-$("#maserati_menu").height()};MASERATI.ModelConfigure.prototype.initEvents=function(){var that=this;this.$cta.click(function(e){e.preventDefault();var $elem=$(""+that.$elementTo);if($elem.length){$elem.velocity('scroll',{duration:1000,offset:that.getMenuOffset(),easing:"ease-in-out"})}})};$(function(){var $element=$(".model-configure");$element.each(function(){new MASERATI.ModelConfigure($(this))})});MASERATI.ModelEnginePlayer=function(container){this.$container=container;this.$player=this.$container.find('audio')[0];this.$player.load();if(typeof this.$player!='undefined')
{this.dragging=!1;this.$timeline=this.$container.find('.timeline');this.$button=this.$container.find('.player-control');this.bindButtonEvents();this.bindTimelineEvents();this.bindPlayerEvents()}};MASERATI.ModelEnginePlayer.prototype.bindPlayerEvents=function(){var that=this;this.$player.EnginePlayer=this;this.$player.addEventListener('timeupdate',this.timeUpdateListener,!1);this.$player.addEventListener('play',function(){that.$button.removeClass('play').addClass('pause')},!1);this.$player.addEventListener('pause',function(){that.$button.removeClass('pause').addClass('play')},!1);this.$player.addEventListener('ended',function(){that.$button.removeClass('pause').addClass('play');that.currentTime=0;that.moveCursor(0)},!1)};MASERATI.ModelEnginePlayer.prototype.bindButtonEvents=function(){var that=this;this.$button.on('click',function(e){e.preventDefault();that.$player[that.$player.paused?'play':'pause']()})};MASERATI.ModelEnginePlayer.prototype.bindTimelineEvents=function(){var that=this;this.$timeline.on('click',function(e){var percent=that.percent(e);that.moveCursor(percent*100);that.$player.currentTime=that.$player.duration*percent});var onDragging=function(e){that.onDragging(e)};this.$timeline.find('.cursor').on('mousedown',function(e){that.dragging=!0;window.addEventListener('mousemove',onDragging,!0);that.$player.removeEventListener('timeupdate',that.timeUpdateListener,!1)});$(window).on('mouseup',function(){if(that.dragging)
{window.removeEventListener('mousemove',onDragging,!0);that.$player.addEventListener('timeupdate',that.timeUpdateListener,!1)}
that.dragging=!1})};MASERATI.ModelEnginePlayer.prototype.percent=function(e){var percent=(e.pageX-this.$timeline[0].offsetLeft)/parseInt(this.$timeline.width());percent=(percent>1)?1:percent;percent=(percent<0)?0:percent;return percent};MASERATI.ModelEnginePlayer.prototype.onDragging=function(e){var percent=this.percent(e);this.moveCursor(percent*100)};MASERATI.ModelEnginePlayer.prototype.moveCursor=function(percent){this.$timeline.find('.elapsed').width(percent+'%');this.$timeline.find('.cursor').css('left',percent+'%')};MASERATI.ModelEnginePlayer.prototype.timeUpdateListener=function(){var percent=(this.currentTime/this.duration);this.EnginePlayer.moveCursor(percent*100)};$(function(){var $component=$(".model-engines");var $swappable=$component.find(".swappable");var $menuRef=$("#maserati_menu");$component.find(".swap-specs").on('click',function(e){e.preventDefault();$swappable.hide();$component.find('.swapped').hide();var swap=$(this).data('swap');$component.find('.swapped-'+swap+', .close-swapped').show();$audio=$component.find('.swapped-'+swap+' audio > source');$audio.each(function(){$(this).attr('src',$audio.attr('data-lazy-audio'))});$component.find('.swapped-'+swap+' .sound').data('player',new MASERATI.ModelEnginePlayer($component.find('.swapped-'+swap+' .sound')));$component.velocity('scroll',{offset:$menuRef.length?-$menuRef.height():0,duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing})});$component.find(".close-swapped").on('click',function(){$(this).hide();$component.find('.swapped').hide();$swappable.show()})});MASERATI.ModelsList=function(element){this.$lists=$('.models-list');this.$element=element;this.initAll()};MASERATI.ModelsList.prototype.initAll=function(){var that=this;this.$lists.each(function(){that.bind($(this))})};MASERATI.ModelsList.prototype.deInitAll=function(){var that=this;this.$lists.each(function(){that.unBind($(this))})};MASERATI.ModelsList.prototype.bind=function($list){var $models=$list.find('.models:not(.nohover) .model');$list.find('.models:not(.nohover)').hover(function(){},function(){$models.velocity("stop").velocity({opacity:1.0},{duration:MASERATI.Animations.opacityDelay,queue:!1,easing:"easeInQuad"});$models.find('img').velocity("stop").velocity({'max-width':'100%'},{duration:0,queue:!1,easing:"easeInQuad"});$models.find('.more, .bottom').velocity("stop").velocity({opacity:0.0},{duration:MASERATI.Animations.opacityDelay/20,queue:!1,easing:"easeInQuad"})});$models.hover(function(){$models.not(this).velocity("stop").velocity({opacity:0.3},{duration:MASERATI.Animations.opacityDelay,queue:!1,easing:"easeInQuad"});$models.not(this).find('.more, .bottom').velocity("stop").velocity({opacity:0.0},{duration:MASERATI.Animations.opacityDelay/20,queue:!1,easing:"easeInQuad"});$models.not(this).find('img').velocity("stop").velocity({'max-width':'100%'},{duration:0,queue:!1,easing:"easeInQuad"});$(this).velocity("stop").velocity({opacity:1.0},{duration:MASERATI.Animations.opacityDelay,queue:!1,easing:"easeInQuad"});$(this).find('.more, .bottom').velocity("stop").velocity({opacity:1.0},{duration:MASERATI.Animations.opacityDelay,queue:!1,easing:"easeInQuad"});$(this).find('img').velocity("stop").velocity({'max-width':'50%'},{duration:0,queue:!1,easing:"easeInQuad",begin:function(){$($(this)[0]).addClass('swap');$($(this)[1]).removeClass('swap')}})},function(e){$models.velocity("stop").velocity({opacity:0.3},{duration:MASERATI.Animations.opacityDelay,queue:!1,easing:"easeInQuad"});$models.find('.more, .bottom').velocity("stop").velocity({opacity:0.0},{duration:MASERATI.Animations.opacityDelay/20,queue:!1,easing:"easeInQuad"});$models.find('img').velocity("stop").velocity({'max-width':'100%'},{duration:0,queue:!1,easing:"easeInQuad"});$($(this).find('img')[1]).addClass('swap');$($(this).find('img')[0]).removeClass('swap');if(!$(e.toElement).hasClass('model')||$(e.toElement).parents('.model').length){$list.find('.models').trigger('mouseout')}})};MASERATI.ModelsList.prototype.unBind=function($list){$list.unbind('hover')};$(function(){var $elementSelector=$(".models-list");if($elementSelector.length){new MASERATI.ModelsList($elementSelector)}});MASERATI.ModelVersionPrices=function($element){this._$element=$element;var $swappable=this._$element.find('.swappable');var $menuRef=$("#maserati_menu");var that=this;this._$element.find(".versionMore").on('click',function(e){e.preventDefault();var swap=$(this).data('swap');var $swapped=that._$element.find('.swapped-'+swap);$($swapped.find('.tabs > div').get(0)).addClass('active');$($swapped.find('.big-tabs .tab').get(0)).addClass('active');$swappable.hide().siblings('.swapped-'+swap).show();var $target=that._$element.find('.close-swapped-main');var offsetDelta=30;if($(this).parents('.swapped-offer').length||$swapped.hasClass('swapped-offer'))
{$target=$swapped;offsetDelta=0}else{$target.show()}
$target.velocity('scroll',{offset:($menuRef.length?-$menuRef.height():0)-offsetDelta,duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing});return!1});this._$element.find('form input[type="submit"]').click(function(e){e.preventDefault();that._$element.find('.countrySelectorContainer').velocity('slideUp',500);that._$element.find('.generalContainer').velocity('slideDown',{duration:500,delay:500});return!1});this._$element.find('.tabs > div').each(function(i){$(this).on('click',function(){that._$element.find('.tabs > div').removeClass('active');$(this).addClass('active');that._$element.find('.big-tabs .tab').removeClass('active');$(that._$element.find('.big-tabs .tab').get(i)).addClass('active')})});this._$element.find(".close-swapped").click(function(){that._$element.find('.close-swapped-main').hide();that._$element.find('.swapped').hide();that._$element.find('.swappable').show();that._$element.find('.tabs > div').removeClass('active');that._$element.find('.big-tabs .tab').removeClass('active')})};$(function(){$('.model-versions-prices').each(function(){new MASERATI.ModelVersionPrices($(this))})});MASERATI.MultimediaAudio=function($element){this.$element=$element;this.$fallbackFunctionTimeout=null;this.initWaveSurfer();this.bindEvents();this.playing=!1;this.duration=0;this.$element[0].maseratiObject=this;this.progressEvents=['0','25','50','75','100'];this.sentProgressEvent=null;this.name=$element.data('audio').split(/(\\|\/)/g).pop()};MASERATI.MultimediaAudio.prototype.initWaveSurfer=function(){this.wavesurfer=Object.create(WaveSurfer);var wave=this.$element.find('.wave');this.wave=wave;this.wavesurfer.init({container:wave[0],waveColor:'#606060',progressColor:'white',height:wave.height(),hideScrollbar:!0,cursorColor:'#AAAAAC'});var that=this;this.wavesurfer.on('audioprocess',function(){var position=that.wavesurfer.getCurrentTime();if(position<5){that.triggerProgressChangeEvent('0')}else if(position>that.duration*.25&&position<that.duration*.5){that.triggerProgressChangeEvent('25')}else if(position>that.duration*.5&&position<that.duration*.75){that.triggerProgressChangeEvent('50')}else if(position>that.duration*.75&&position<that.duration){that.triggerProgressChangeEvent('75')}});this.wavesurfer.on('finish',function(){that.triggerProgressChangeEvent('100')})};MASERATI.MultimediaAudio.prototype.triggerProgressChangeEvent=function(position){if(this.progressEvents.indexOf(position)>-1&&this.sentProgressEvent!=position){this.sentProgressEvent=position;this.$element[0].dispatchEvent(new CustomEvent('audioprogresschange',{detail:{progress:position}}));if(position=='0')
{MASERATI.AdobeTracking.tracker.setSatelliteTrack('MediaStreamStart')}
else{MASERATI.AdobeTracking.tracker.setSatelliteTrack('MediaStream'+position)}}};MASERATI.MultimediaAudio.prototype.triggerPlayerOpenEvent=function(){this.sentProgressEvent=null;MASERATI.AdobeTracking.tracker.setMediaName('audio:'+this.name);MASERATI.Helpers.log("dispatching event audioplayeropen "+this.name);this.$element[0].dispatchEvent(new CustomEvent('audioplayeropen'))};MASERATI.MultimediaAudio.prototype.togglePlay=function(forcePlay){if(this.playing==!1||forcePlay){this._play()}else{this._stop()}};MASERATI.MultimediaAudio.prototype._play=function(){this.$element.find(".controls .play").addClass("playing");this.wavesurfer.play();this.playing=!0;this.manageFallback()};MASERATI.MultimediaAudio.prototype._stop=function(){this.$element.find(".controls .play").removeClass("playing");if(this.wavesurfer.isPlaying()){this.wavesurfer.pause()}
this.playing=!1;this.manageFallback()};MASERATI.MultimediaAudio.prototype._rewind=function(){if(this.wavesurfer.isPlaying()){this.wavesurfer.stop()}
this.$element.find(".controls .play").removeClass("playing");this.playing=!1;this.trackProgressFallback()};MASERATI.MultimediaAudio.prototype.trackProgressFallback=function(){var calculatedWidth=Math.round(this.wavesurfer.getCurrentTime()/this.wavesurfer.getDuration()*1000)/10+"%"
var backgroundSize=$(window).width()+'px 100%';this.$element.find(".wave-white").css({'width':calculatedWidth,'background-size':backgroundSize})};MASERATI.MultimediaAudio.prototype.manageFallback=function(){if($("html").hasClass("no-webaudio")){if(this.playing==!0){var that=this;this.$fallbackFunctionTimeout=window.setInterval(function(){that.trackProgressFallback()},250)}else{window.clearInterval(this.$fallbackFunctionTimeout)}}};MASERATI.MultimediaAudio.prototype.bindEvents=function(){var that=this;this.$element.find(".controls .play").click(function(){that.togglePlay()});this.$element.find(".controls .pause").click(function(){});this.$element.find(".controls .rewind").click(function(){that._rewind()});var debouncedResize=MASERATI.Helpers.debounce(function(){that.repaint()},500);$(window).bind("resize",function(){debouncedResize()})};MASERATI.MultimediaAudio.prototype.repaint=function(){if(this.playing){this._rewind()}
this.wavesurfer.drawer.containerWidth=this.$element.width();this.wavesurfer.drawer.containerHeight=this.wave.height();this.wave.find("wave, canvas").height(this.wave.height());this.wavesurfer.empty();this.wavesurfer.drawBuffer()};MASERATI.MultimediaAudio.prototype.play=function(){this.wavesurfer.load(this.$element.attr('data-audio'));var that=this;this.wavesurfer.on('ready',function(){that.repaint();that.duration=that.wavesurfer.getDuration();if(!MASERATI.Helpers.Mobile.isMobile()){that._play()}})};MASERATI.MultimediaAudio.prototype.stop=function(){this._stop()};$(function(){$('.multimedia-audio').each(function(){new MASERATI.MultimediaAudio($(this))})});MASERATI.MultimediaVideo=function($element){this.$element=$element;this.provider=this.$element.data("provider");this.title="";if(this.provider=="YouKu"){this.videoTag=this.$element.find(".multimedia-video-youku");this.title=this.$element.attr('data-video')}else{this.videoTag=this.$element.find(".multimedia-video-youtube")}
this.videoTagId=this.videoTag.attr("id");this.videoId=this.$element.attr('data-video');this.playWhenReady=!1;this.$element[0].maseratiObject=this;this.player=null;this.progressPoller=0;this.pauseProgressPolling=!1;this.progressEvents=['0','25','50','75','100'];this.sentProgressEvent=null;this.duration=0};MASERATI.MultimediaVideo.prototype.setupVideo=function(){if(this.provider=="YouKu"){this.player=new MASERATI.YuokuInterface(this,!1)}else{this.player=MASERATI.getYouTubePlayer(this)}}
MASERATI.MultimediaVideo.prototype.onPlayerReady=function(event){this.duration=this.player.getDuration();if(this.player.getVideoData){var videoData=this.player.getVideoData();this.title=videoData.title}else{this.title=this.videoId}
if(this.playWhenReady){if(!MASERATI.Helpers.Mobile.isMobile()){this.triggerProgressChangeEvent('0');this.player.playVideo()}
this.playWhenReady=!1}}
MASERATI.MultimediaVideo.prototype.pollProgress=function(){if(this.pauseProgressPolling){return!1}
var position=this.player.getCurrentTime();if(position<.5){this.triggerProgressChangeEvent('0')}else if(position>this.duration*.25&&position<this.duration*.5){this.triggerProgressChangeEvent('25')}else if(position>this.duration*.5&&position<this.duration*.75){this.triggerProgressChangeEvent('50')}else if(position>this.duration*.75&&position<this.duration){this.triggerProgressChangeEvent('75')}}
MASERATI.MultimediaVideo.prototype.triggerProgressChangeEvent=function(position){if(this.progressEvents.indexOf(position)>-1&&this.sentProgressEvent!=position){this.sentProgressEvent=position;this.$element[0].dispatchEvent(new CustomEvent('videoprogresschange',{detail:{progress:position}}));if(position=='0')
{MASERATI.AdobeTracking.tracker.setSatelliteTrack('MediaStreamStart')}
else{MASERATI.AdobeTracking.tracker.setSatelliteTrack('MediaStream'+position)}}};MASERATI.MultimediaVideo.prototype.triggerPlayerOpenEvent=function(){this.sentProgressEvent=null;MASERATI.AdobeTracking.tracker.setMediaName('video:'+this.title);MASERATI.Helpers.log("dispatching event videoplayeropen "+this.title);this.$element[0].dispatchEvent(new CustomEvent('videoplayeropen',{detail:{title:this.title}}));if(this.provider=="YouKu"){this.triggerProgressChangeEvent('0')}};MASERATI.MultimediaVideo.prototype.onPlayerStateChange=function(event){switch(event.data){case YT.PlayerState.ENDED:clearInterval(this.progressPoller);this.triggerProgressChangeEvent('100');break;case YT.PlayerState.PLAYING:this.pauseProgressPolling=!1;this.pollProgress();break;default:this.pauseProgressPolling=!0;break}};MASERATI.MultimediaVideo.prototype.play=function(){if(this.player){var that=this;if(this.provider!="YouKu"){this.progressPoller=setInterval(function(){that.pollProgress()},this.duration*1000/16)}
if(!MASERATI.Helpers.Mobile.isMobile()||this.provider=="YouKu"){this.player.playVideo()}else{}}else{this.playWhenReady=!0}};MASERATI.MultimediaVideo.prototype.stop=function(){if(this.player){clearInterval(this.progressPoller);this.player.stopVideo()}};var multimediavideos=[];$(function(){$('.multimedia-video').each(function(){var video=new MASERATI.MultimediaVideo($(this));var $this=$(this);if($(this).data("provider")=="YouKu"){video.setupVideo()}else{multimediavideos.push(video);MASERATI.YoutubeManager.addVideoCallback(function(){video.setupVideo()})}})});MASERATI.NewsListCluster=function($elements){this.$elements=$elements;this.lists=[];this.boxes=[];this.init();arguments.callee.clusterVector=arguments.callee.clusterVector||[];arguments.callee.clusterVector.push(this)};MASERATI.NewsListCluster.resetAll=function(){MASERATI.NewsListCluster.clusterVector.forEach(function(cluster){cluster.reset()})};MASERATI.NewsListCluster.prototype.init=function(){var that=this;this.$elements.each(function(){var list=new MASERATI.NewsList($(this));that.lists.push(list);that.boxes=that.boxes.concat(list.boxes)})};MASERATI.NewsListCluster.prototype.reset=function(){this.boxes=[];this.lists.forEach(function(list){list.reset();list.reInit()})};$(function(){new MASERATI.NewsListCluster($('.news-list'))});MASERATI.NewsListBox=function($element){this.$element=$element;this.categories=this.$element.attr('data-category').split(',')};MASERATI.NewsListBox.prototype.show=function(){this.$element=this.$element.changeElementType('a')};MASERATI.NewsListBox.prototype.hide=function(){this.$element=this.$element.changeElementType('div')};MASERATI.NewsListBox.prototype.opacify=function(opacity){this.$element.velocity('stop').velocity({opacity:opacity},{duration:MASERATI.Animations.newsListDuration,queue:!1,easing:MASERATI.Animations.newsListEasing})};MASERATI.NewsList=function($selector){this.isLoading=!1;this.url=$selector.find('.loadMore').attr('data-more');this.page=1;this.reload=!1;this.hasReloaded=!1;this.$selector=$selector;this.$boxesSelector=$selector.find('.boxes');this.boxes=[];this.clickedBoxCookie='newsListClickedBox';this.setPage();this.init()};MASERATI.NewsList.prototype.setPage=function(){if(window.location.hash){var tmpPage=parseInt(window.location.hash.substr(1));if(tmpPage){this.page=tmpPage;this.reload=this.page>1}}};MASERATI.NewsList.prototype.init=function(){var that=this;that.$selector.find('.box').each(function(){that.boxes.push(new MASERATI.NewsListBox($(this)))});this.bindClickOnBox();this.animate();this.loadMoreBind(this.$selector.find('.loadMore'));if(this.reload){this.reloadContents()}};MASERATI.NewsList.prototype.reset=function(){this.deAnimate();this.$selector.find('.loadMore').unbind()};MASERATI.NewsList.prototype.reInit=function(){this.bindClickOnBox();this.animate();this.loadMoreBind(this.$selector.find('.loadMore'))};MASERATI.NewsList.prototype.setClickedBoxCookie=function(i){Cookies.set(this.clickedBoxCookie,i)};MASERATI.NewsList.prototype.getClickedBoxCookie=function(){return Cookies.get(this.clickedBoxCookie)};MASERATI.NewsList.prototype.bindClickOnBox=function(){var that=this;this.boxes.forEach(function(box,i){box.$element.data('progressiveId',i).unbind('click.onBox').bind('click.onBox',function(){that.setClickedBoxCookie($(this).data('progressiveId'))})})};MASERATI.NewsList.prototype.animate=function(){var that=this;var range=5;that.boxes.forEach(function(box,i){box.$element.hover(function(){that.smartOpacify(i-range,i+range,0.5);box.opacify(1.0)},function(){that.smartOpacify(i-range,i+range,1.0)})});that.$selector.find('.boxes').hover(function(){},function(){that.opacify(1.0)})};MASERATI.NewsList.prototype.deAnimate=function(){var that=this;that.boxes.forEach(function(box){box.$element.unbind()});that.$selector.find('.boxes').unbind()};MASERATI.NewsList.prototype.opacify=function(opacity){this.boxes.forEach(function(box){box.$element.velocity('stop').velocity({opacity:opacity},{duration:MASERATI.Animations.newsListDuration,queue:!1,easing:MASERATI.Animations.newsListEasing})})};MASERATI.NewsList.prototype.smartOpacify=function(from,to,opacity){from=from<0?0:from;to=to>=this.boxes.length?this.boxes.length-1:to;for(var i=from;i<=to;i++){this.boxes[i].$element.velocity('stop').velocity({opacity:opacity},{duration:MASERATI.Animations.newsListDuration,queue:!1,easing:MASERATI.Animations.newsListEasing})}};MASERATI.NewsList.prototype.reloadContents=function(){this.showMainLoading();var target=this.$selector.find('.loading');var $menuRef=$("#maserati_menu");target.velocity('scroll',{duration:0,easing:MASERATI.Animations.ctaEasing,offset:$menuRef.length?-$menuRef.height():0,queue:!1});this.loadMore()};MASERATI.NewsList.prototype.loadMoreBind=function($selector){var that=this;$selector.click(function(e){e.preventDefault();if(!that.isLoading){that.loadMore()}
return!1})};MASERATI.NewsList.prototype.loadMoreRotation=function($selector){};MASERATI.NewsList.prototype.getCurrentPage=function(){return this.page};MASERATI.NewsList.prototype.isReloading=function(){return this.reload};MASERATI.NewsList.prototype.loadMore=function(reload){var that=this;that.startLoading();var serverData={};if(that.isReloading()){serverData.allNewsUpToPage=1;serverData.page=that.getCurrentPage()}else{serverData.allNewsUpToPage=0;serverData.page=that.getCurrentPage()+1}
$.get(that.url,serverData,function(data){that.loadMoreSuccess(data)}).fail(function(){that.loadMoreFailure()}).always(function(){that.isLoading=!1})};MASERATI.NewsList.prototype.startLoading=function(){this.$boxesSelector.css('max-height',this.$boxesSelector.height());this.showAJAXMessage('loading')};MASERATI.NewsList.prototype.loadMoreSuccess=function(data){if(data.content){var dom=($($.parseHTML($.trim(data.content))).find('.box')).toArray();if(dom.length){this.animateLoadedBoxes(this.writeBoxes(dom));if(this.reload){this.reload=!1;this.hasReloaded=!0}else{this.page=this.page+1;window.location.hash=this.page}
MASERATI.NewsListCluster.resetAll();if(data.nextPage!=!1){this.$selector.find('.loadMore').attr("href",data.nextPage).find(".cta").show();this.$selector.find('.loadMore .icon').hide()}else{this.$selector.find('.loadMore').attr("href","").hide()}}else{this.loadMoreFailure()}}else{this.loadMoreFailure()}};MASERATI.NewsList.prototype.writeBoxes=function(boxes){var helper=$('<div class="ajax-helper"></div>');if(this.reload){this.$boxesSelector.empty();this.boxes=[]}
this.$boxesSelector.append(helper);var that=this;boxes.forEach(function(box){var jQueryBox=$(box).appendTo(this.$boxesSelector);that.boxes.push(new MASERATI.NewsListBox(jQueryBox))},this);if(this.reload){this.hideMainLoading()}
return{destination:helper,offset:parseInt($(boxes[0]).css('margin-bottom').replace('px',''),10)}};MASERATI.NewsList.prototype.animateLoadedBoxes=function(target){if(this.reload){var eq=parseInt(this.getClickedBoxCookie());if(eq&&this.boxes[eq]){target.destination=this.boxes[eq].$element}}
var $menuRef=$("#maserati_menu");this.$boxesSelector.velocity({'max-height':(this.$boxesSelector.height()+MASERATI.Helpers.getWindowHeight())+'px'},{duration:MASERATI.Animations.newsListAjaxDuration,complete:function($boxesSelector){$($boxesSelector).removeAttr('style');target.destination.velocity('scroll',{duration:MASERATI.Animations.pageListDuration,easing:MASERATI.Animations.ctaEasing,offset:$menuRef.length?-$menuRef.height()-target.offset:0,queue:!1})}})};MASERATI.NewsList.prototype.loadMoreFailure=function(){this.showAJAXMessage('fail')};MASERATI.NewsList.prototype.showMainLoading=function(){this.$selector.find('.loadMore .cta').hide();this.$selector.find('.loading').show()};MASERATI.NewsList.prototype.hideMainLoading=function(){this.$selector.find('.loading').hide();this.$selector.find('.loadMore .icon').hide();this.$selector.find('.loadMore .cta').show()};MASERATI.NewsList.prototype.showAJAXMessage=function(code){var that=this;that.$selector.find('.loadMore .icon').hide();that.$selector.find('.loadMore .cta').hide();that.$selector.find('.loadMore .ajax-'+code).show()};MASERATI.NewsList.prototype.endPoint=function(){this.$selector.velocity({opacity:0,height:0},{duration:MASERATI.Animations.newsListDuration})};MASERATI.PageListBox=function($element){this.$element=$element};MASERATI.PageListBox.prototype.opacify=function(opacity){this.$element.velocity('stop').velocity({opacity:opacity},{duration:MASERATI.Animations.pageListDuration,queue:!1,easing:MASERATI.Animations.newsListEasing})};MASERATI.PageList=function($selector){this.$selector=$selector;this.boxes=[];this.init();this.animate()};MASERATI.PageList.prototype.init=function(){var that=this;var $boxes=that.$selector.find('.box');$boxes.each(function(){that.boxes.push(new MASERATI.PageListBox($(this)))})};MASERATI.PageList.prototype.animate=function(){var that=this;that.boxes.forEach(function(box){box.$element.hover(function(){that.opacify(0.5);box.opacify(1.0)},function(){that.opacify(1.0)})});that.$selector.find('.boxes').hover(function(){},function(){that.opacify(1.0)})};MASERATI.PageList.prototype.opacify=function(opacity){this.boxes.forEach(function(box){box.$element.velocity('stop').velocity({opacity:opacity},{duration:MASERATI.Animations.pageListDuration,queue:!1,easing:MASERATI.Animations.newsListEasing})})};$(function(){$('.page-list').each(function(){new MASERATI.PageList($(this))})});MASERATI.ReviewGallery=function($element,delay,infiniteScrolling){this.$element=$element;this.$slidesContainer=this.$element.find('.main-slide');this.$slides=this.$slidesContainer.find('.slide');this.$prevTrigger=this.$element.find('.prevTrigger');this.$nextTrigger=this.$element.find('.nextTrigger');this.$thumbsContainer=this.$element.find('.thumbs');this.$thumbs=this.$element.find('.thumb');this.$dotsContainer=this.$element.find('.thumbs-mobile');this.$dots=this.$element.find('.thumbs-mobile .item');this.timer=!1;this.delay=delay;this.infiniteScrolling=infiniteScrolling;this.documentDirection=($('html').attr('dir')==="rtl")?'rtl':'ltr';this.timerDirection=(this.documentDirection==="rtl")?'left':'right';this.pointer=(this.documentDirection==="rtl")?((this.infiniteScrolling)?(this.$slides.length-2)*-100:(this.$slides.length-1)*-100):0;this.endPoint=(this.$slides.length-1)*-100;this.imageDelta=15;this.deltaDuration=250;this.deltaEasing='swing';this.thumbsOpacity=0.4;this.thumbsDuration=250;this.thumbsEasing='swing';this.slideDuration=500;this.slideEasing='swing';if(this.documentDirection==="rtl"){var that=this;this.$slidesContainer.append(this.$slides.get().reverse());this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:0,easing:that.deltaEasing});this.$dotsContainer.append(this.$dots.get().reverse())}
this.moveThumbs();this.initFeeling();this.bindEvents();this.refreshSlides()};MASERATI.ReviewGallery.prototype.moveThumbs=function(){if(this.$element.hasClass('topThumbs')){this.$slidesContainer.detach().appendTo(this.$element)}};MASERATI.ReviewGallery.prototype.initFeeling=function(){var that=this;if(this.delay>0&&this.delay!==!1){this.initWaypoints(this.delay)}
this.initTriggersAnimation();this.$thumbs.hover(function(){$(this).velocity('stop').velocity({opacity:1},{duration:that.thumbsDuration,easing:that.thumbsEasing})},function(){$(this).velocity('stop').velocity({opacity:that.thumbsOpacity},{duration:that.thumbsDuration,easing:that.thumbsEasing})});if(this.infiniteScrolling){if(this.documentDirection==="ltr"){this.$slidesContainer.prepend(this.$slides.last().clone(!0).addClass('ghost-slide'));this.$slidesContainer.append(this.$slides.first().clone(!0).addClass('ghost-slide'))}else{this.$slidesContainer.prepend(this.$slides.first().clone(!0).addClass('ghost-slide'));this.$slidesContainer.append(this.$slides.last().clone(!0).addClass('ghost-slide'))}
this.$thumbsContainer.prepend('<div class="thumb ghost-thumb" style="display: none;"></div>');this.$thumbsContainer.append('<div class="thumb ghost-thumb" style="display: none;"></div>');this.$dotsContainer.prepend('<a class="item ghost-item" style="display: none;"></a>');this.$dotsContainer.append('<a class="item ghost-item" style="display: none;"></a>');this.endPoint=(this.$slides.length-1)*-100;this.$slides=this.$slidesContainer.find('.slide');this.$thumbs=this.$element.find('.thumb');this.$dots=this.$element.find('.thumbs-mobile .item');if(this.documentDirection==="ltr"){this.pointer=-100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:0,easing:that.deltaEasing})}else{this.pointer=(this.infiniteScrolling)?(this.$slides.length-2)*-100:(this.$slides.length-1)*-100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:0,easing:that.deltaEasing})}
this.refreshSlides()}};MASERATI.ReviewGallery.prototype.triggerSlideChangeEvent=function(){this.$element[0].dispatchEvent(new CustomEvent('slidechange'))};MASERATI.ReviewGallery.prototype.bindEvents=function(){var that=this;this.$prevTrigger.click(function(){if(!that.areSlidesAnimating()){that.stopTimer();that.triggerSlideChangeEvent();that.prev()}});this.$nextTrigger.click(function(){if(!that.areSlidesAnimating()){that.stopTimer();that.triggerSlideChangeEvent();that.next()}});this.$thumbs.click(function(){if(!that.areSlidesAnimating()){that.stopTimer();that.pointer=(that.$thumbs.toArray().indexOf(this)+1)*-100;that.prev();that.refreshSlides()}});this.$dots.click(function(){if(!that.areSlidesAnimating()){that.stopTimer();that.pointer=(that.$dots.toArray().indexOf(this)+1)*-100;that.triggerSlideChangeEvent();that.prev();that.refreshSlides()}});this.$element.on('swipeleft',function(){if(!that.areSlidesAnimating()){that.stopTimer();that.triggerSlideChangeEvent();that.next()}});this.$element.on('swiperight',function(){if(!that.areSlidesAnimating()){that.stopTimer();that.triggerSlideChangeEvent();that.prev()}})};MASERATI.ReviewGallery.prototype.areSlidesAnimating=function(){return this.$slidesContainer.hasClass('velocity-animating')};MASERATI.ReviewGallery.prototype.checkTriggers=function(){};MASERATI.ReviewGallery.prototype.next=function(){var that=this;if(!this.areSlidesAnimating()){if(!this.infiniteScrolling){if(this.pointer<=this.endPoint){this.$slidesContainer.velocity({translateX:(this.pointer-this.imageDelta)+'%'},{duration:this.deltaDuration,easing:this.deltaEasing,complete:function(element){$(element).velocity({translateX:that.endPoint+'%'},{duration:that.deltaDuration,easing:that.deltaEasing});that.checkTriggers()}});this.pointer=this.endPoint}else{this.pointer-=100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:this.slideDuration,easing:this.slideEasing,complete:function(){that.refreshSlides();that.checkTriggers()}})}}else{if(this.pointer<=(this.endPoint-100)){this.pointer-=100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{begin:function(){that.deinitTriggersAnimation()},duration:this.slideDuration,easing:this.slideEasing,complete:function(){that.pointer=-100;that.$slidesContainer.velocity({translateX:that.pointer+'%'},{duration:0,easing:that.deltaEasing});that.refreshSlides();that.initTriggersAnimation();that.checkTriggers()}})}else{this.pointer-=100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:this.slideDuration,easing:this.slideEasing,complete:function(){that.refreshSlides();that.checkTriggers()}})}}}};MASERATI.ReviewGallery.prototype.prev=function(){var that=this;if(!this.areSlidesAnimating()){if(!this.infiniteScrolling){if(this.pointer>-100){this.$slidesContainer.velocity({translateX:this.imageDelta+'%'},{duration:this.deltaDuration,easing:this.deltaEasing,complete:function(element){$(element).velocity({translateX:'0%'},{duration:that.deltaDuration,easing:that.deltaEasing});that.checkTriggers()}});this.pointer=0}else{this.pointer+=100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:this.slideDuration,easing:this.slideEasing,complete:function(){that.refreshSlides();that.checkTriggers()}})}}else{if(this.pointer>-200){this.pointer+=100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{begin:function(){that.deinitTriggersAnimation()},duration:this.slideDuration,easing:this.slideEasing,complete:function(){that.pointer=(that.$slides.length-2)*-100;that.$slidesContainer.velocity({translateX:that.pointer+'%'},{duration:0,easing:that.deltaEasing});that.refreshSlides();that.initTriggersAnimation();that.checkTriggers()}})}else{this.pointer+=100;this.$slidesContainer.velocity({translateX:this.pointer+'%'},{duration:this.slideDuration,easing:this.slideEasing,complete:function(){that.refreshSlides();that.checkTriggers()}})}}}};MASERATI.ReviewGallery.prototype.triggerAction=function(direction,action){var that=this;if(direction=="prev"){if(action=="start"){that.$slidesContainer.velocity('stop').velocity({translateX:(that.pointer+that.imageDelta)+'%'},{duration:that.deltaDuration,easing:that.deltaEasing})}else{that.$slidesContainer.velocity('stop').velocity({translateX:that.pointer+'%'},{duration:that.deltaDuration,easing:that.deltaEasing})}}else{if(action=="start"){that.$slidesContainer.velocity('stop').velocity({translateX:(that.pointer-that.imageDelta)+'%'},{duration:that.deltaDuration,easing:that.deltaEasing})}else{that.$slidesContainer.velocity('stop').velocity({translateX:that.pointer+'%'},{duration:that.deltaDuration,easing:that.deltaEasing})}}}
MASERATI.ReviewGallery.prototype.initTriggersAnimation=function(){var that=this;this.$prevTrigger.hover(function(){that.triggerAction("prev","start")},function(){that.triggerAction("prev","stop")});this.$nextTrigger.hover(function(){that.triggerAction("next","start")},function(){that.triggerAction("next","stop")})};MASERATI.ReviewGallery.prototype.deinitTriggersAnimation=function(){this.$prevTrigger.unbind('hover');this.$nextTrigger.unbind('hover')};MASERATI.ReviewGallery.prototype.refreshThumbs=function(){var that=this;var activeThumb=$(this.$thumbs.get(this.$slidesContainer.find('.active').index()));var activeDot=$(this.$dots.get(this.$slidesContainer.find('.active').index()));this.$thumbs.each(function(){$(this).velocity('stop').velocity({opacity:that.thumbsOpacity},{duration:that.thumbsDuration,easing:that.thumbsEasing});$(this).removeClass('active')});activeThumb.velocity('stop').velocity({opacity:1},{duration:that.thumbsDuration,easing:that.thumbsEasing,complete:function(){activeThumb.addClass('active')}});this.$dots.removeClass('active');activeDot.addClass('active')};MASERATI.ReviewGallery.prototype.refreshSlides=function(){var activeSlide=$(this.$slides.get(Math.floor(this.pointer/-100)));this.$slides.removeClass('active');activeSlide.addClass('active');this.refreshThumbs()};MASERATI.ReviewGallery.prototype.initWaypoints=function(delay){var that=this;this.$element.waypoint({handler:function(direction){if(direction=="down"){that.initTimer(delay)}else{that.stopTimer()}},offset:"40%"});this.$element.waypoint({handler:function(direction){if(direction=="up"){that.initTimer(delay)}else{that.stopTimer()}},offset:"-80%"})}
MASERATI.ReviewGallery.prototype.initTimer=function(delay){if(MASERATI.BatteryDrain.visibilityChangeSupport()){document.addEventListener(visibilityChange,$.proxy(function(){this.handleBatteryDrain()},this),!1)}
window.clearInterval(this.timer);this.timer=window.setInterval($.proxy(this.timerTransition,this),delay)};MASERATI.ReviewGallery.prototype.stopTimer=function(){window.clearInterval(this.timer)};MASERATI.ReviewGallery.prototype.timerTransition=function(){if(this.timerDirection!==null){if(this.timerDirection==="right"){this.next()}else{this.prev()}}};MASERATI.ReviewGallery.prototype.handleBatteryDrain=function(){if(document.hidden){this.stopTimer()}else{this.initTimer(this.delay)}};$(function(){$('.review-gallery').each(function(){new MASERATI.ReviewGallery($(this),6*1000,!0)})});MASERATI.SearchInput=function($element){this._$element=$element;this._bindEvents()};MASERATI.SearchInput.prototype._bindEvents=function(){this._$element.find('.search .submit').click(function(){$(this).parent('form').submit()})};$(function(){$('.search-input').each(function(){new MASERATI.SearchInput($(this))})});MASERATI.SearchResults=function($selector){this.$element=$selector;this.isLoading=!1;this.url=$selector.find('.loadMore').attr('data-more');this.page=1;this.reload=!1;this.hasReloaded=!1;this.$selector=$selector;this.$boxesSelector=$selector.find('.results');this.boxes=[];this.setPage();this.init()};MASERATI.SearchResults.prototype.setPage=function(){if(window.location.hash){var tmpPage=parseInt(window.location.hash.substr(1));if(tmpPage){this.page=tmpPage;this.reload=this.page>1}}};MASERATI.SearchResults.prototype.init=function(){var that=this;that.$selector.find('.box').each(function(){that.boxes.push($(this))});this.bindClickOnBox();this.loadMoreBind(this.$selector.find('.loadMore'));if(this.reload){this.reloadContents()}};MASERATI.SearchResults.prototype.reset=function(){this.deAnimate();this.$selector.find('.loadMore').unbind()};MASERATI.SearchResults.prototype.reInit=function(){this.bindClickOnBox();this.animate();this.loadMoreBind(this.$selector.find('.loadMore'))};MASERATI.SearchResults.prototype.setClickedBoxCookie=function(i){Cookies.set(this.clickedBoxCookie,i)};MASERATI.SearchResults.prototype.getClickedBoxCookie=function(){return Cookies.get(this.clickedBoxCookie)};MASERATI.SearchResults.prototype.bindClickOnBox=function(){var that=this;this.boxes.forEach(function(box,i){box.$element.data('progressiveId',i).unbind('click.onBox').bind('click.onBox',function(){that.setClickedBoxCookie($(this).data('progressiveId'))})})};MASERATI.SearchResults.prototype.reloadContents=function(){this.showMainLoading();var target=this.$selector.find('.loading');var $menuRef=$("#maserati_menu");target.velocity('scroll',{duration:0,easing:MASERATI.Animations.ctaEasing,offset:$menuRef.length?-$menuRef.height():0,queue:!1});this.loadMore()};MASERATI.SearchResults.prototype.loadMoreBind=function($selector){MASERATI.Helpers.log($selector);var that=this;$selector.click(function(e){e.preventDefault();if(!that.isLoading){that.loadMore()}
return!1})};MASERATI.SearchResults.prototype.loadMoreRotation=function($selector){};MASERATI.SearchResults.prototype.getCurrentPage=function(){return this.page};MASERATI.SearchResults.prototype.isReloading=function(){return this.reload};MASERATI.SearchResults.prototype.loadMore=function(reload){var that=this;that.startLoading();var serverData={};if(that.isReloading()){serverData.allNewsUpToPage=1;serverData.page=that.getCurrentPage()}else{serverData.allNewsUpToPage=0;serverData.page=that.getCurrentPage()+1}
$.get(that.url,serverData,function(data){that.loadMoreSuccess(data)}).fail(function(){that.loadMoreFailure()}).always(function(){that.isLoading=!1})};MASERATI.SearchResults.prototype.startLoading=function(){this.$boxesSelector.css('max-height',this.$boxesSelector.height());this.showAJAXMessage('loading')};MASERATI.SearchResults.prototype.loadMoreSuccess=function(data){if(data.content){var dom=($($.parseHTML($.trim(data.content))).find('.result')).toArray();if(dom.length){this.animateLoadedBoxes(this.writeBoxes(dom));if(this.reload){this.reload=!1;this.hasReloaded=!0}else{this.page=this.page+1;window.location.hash=this.page}
if(data.nextPage!=!1){this.$selector.find('.loadMore').attr("href",data.nextPage).find(".cta").show();this.$selector.find('.loadMore .icon').hide()}else{this.$selector.find('.loadMore').attr("href","").hide()}}else{this.loadMoreFailure()}}else{this.loadMoreFailure()}};MASERATI.SearchResults.prototype.writeBoxes=function(boxes){var helper=$('<div class="ajax-helper"></div>');if(this.reload){this.$boxesSelector.empty();this.boxes=[]}
this.$boxesSelector.append(helper);var that=this;boxes.forEach(function(box){MASERATI.Helpers.log(" box loaded ");var jQueryBox=$(box).appendTo(this.$boxesSelector);that.boxes.push((jQueryBox))},this);if(this.reload){this.hideMainLoading()}
return{destination:helper,offset:parseInt($(boxes[0]).css('margin-bottom').replace('px',''),10)}};MASERATI.SearchResults.prototype.animateLoadedBoxes=function(target){if(this.reload){var eq=parseInt(this.getClickedBoxCookie());if(eq&&this.boxes[eq]){target.destination=this.boxes[eq].$element}}
var $menuRef=$("#maserati_menu");this.$boxesSelector.velocity({'max-height':(this.$boxesSelector.height()+MASERATI.Helpers.getWindowHeight())+'px'},{duration:MASERATI.Animations.SearchResultsAjaxDuration,complete:function($boxesSelector){$($boxesSelector).removeAttr('style');target.destination.velocity('scroll',{duration:MASERATI.Animations.pageListDuration,easing:MASERATI.Animations.ctaEasing,offset:$menuRef.length?-$menuRef.height()-target.offset:0,queue:!1})}})};MASERATI.SearchResults.prototype.loadMoreFailure=function(){this.showAJAXMessage('fail')};MASERATI.SearchResults.prototype.showMainLoading=function(){this.$selector.find('.loadMore .cta').hide();this.$selector.find('.loading').show()};MASERATI.SearchResults.prototype.hideMainLoading=function(){this.$selector.find('.loading').hide();this.$selector.find('.loadMore .icon').hide();this.$selector.find('.loadMore .cta').show()};MASERATI.SearchResults.prototype.showAJAXMessage=function(code){var that=this;that.$selector.find('.loadMore .icon').hide();that.$selector.find('.loadMore .cta').hide();that.$selector.find('.loadMore .ajax-'+code).show()};MASERATI.SearchResults.prototype.endPoint=function(){this.$selector.velocity({opacity:0,height:0},{duration:MASERATI.Animations.SearchResultsDuration})};$(function(){new MASERATI.SearchResults($(".search-results"))});MASERATI.ShoppingToolsIcons=function($component){this.$component=$component;this.$icons=$component.find('.toolsIcon');this.init()};MASERATI.ShoppingToolsIcons.prototype.init=function(){var that=this;var $menuRef=$("#maserati_menu");this.$icons.on('click',function(e){var href=$(this).attr('href');if((href.length>1)&&(href.substr(0,1)=='#'))
{e.preventDefault();$(href).velocity('scroll',{offset:($menuRef.length?-$menuRef.height():0),duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing});window.location.hash=href}})};$(function(){new MASERATI.ShoppingToolsIcons($('.shoppingtool-icons'))});MASERATI.ShoppingToolsVin=function($component,$results){this.$component=$component;this.$results=$results;this.params={};this.$tooltip=this.$component.find('.tooltip');this.init()};MASERATI.ShoppingToolsVin.prototype.init=function(){this.parseUrl();this.initInputPreset();this.initTooltip()};MASERATI.ShoppingToolsVin.prototype.parseUrl=function(){var query=window.location.search.substring(1);if(query.length)
{query=query.split('&');for(var i=0;i<query.length;i++)
{var parts=query[i].split('=');this.params[parts[0]]=parts[1]}}};MASERATI.ShoppingToolsVin.prototype.initInputPreset=function(){if(this.params.code)
{this.$component.find('.vin').val(this.params.code);this.$component.find('.success-msg .code').text(this.params.code);this.$component.addClass('success');this.$results.show()}};MASERATI.ShoppingToolsVin.prototype.setError=function(){this.$component.addClass('error')};MASERATI.ShoppingToolsVin.prototype.setSuccess=function(){this.$component.addClass('success')};MASERATI.ShoppingToolsVin.prototype.initTooltip=function(){var that=this;var tooltipHeight=this.$tooltip.outerHeight();var positionString="calc(50% - "+(tooltipHeight/2)+"px)";MASERATI.Helpers.log(positionString);this.$tooltip.css("top",positionString);this.$component.find('.help-tooltip-anchor').hover(function(){if(that.showOnHover())
{that.$tooltip.velocity('fadeIn',{duration:300})}},function(){if(that.showOnHover())
{that.$tooltip.hide()}}).on('click',function(e){e.preventDefault();if(that.showOnClick())
{that.$tooltip.toggle()}});this.$tooltip.find('.close').on('click',function(e){e.preventDefault();that.$tooltip.hide()})};MASERATI.ShoppingToolsVin.prototype.showOnHover=function(){return MASERATI.Helpers.getWindowWidth()>=768};MASERATI.ShoppingToolsVin.prototype.showOnClick=function(){return!this.showOnHover()};$(function(){new MASERATI.ShoppingToolsVin($('.shopping-tool-vin'),$('.vin-results'))});MASERATI.SingleReview=function($component){this.$component=$component;this.init()};MASERATI.SingleReview.prototype.init=function(){var that=this;this.$component.find('.more').on('click',function(e){e.preventDefault();that.$component.toggleClass('active');var $expanded=that.$component.find('.expanded');var animation=that.$component.hasClass('active')?'slideDown':'slideUp';var $menuRef=$('#maserati_menu');$expanded.velocity('stop').velocity(animation,{duration:300,complete:function(){$expanded.velocity('scroll',{offset:-$menuRef.height(),duration:MASERATI.Animations.ctaScrollSpeed,easing:MASERATI.Animations.ctaEasing})}})})};$(function(){$('.single-review').each(function(){new MASERATI.SingleReview($(this))})});MASERATI.TextImageFullHeight=function(){this.$components=$('.textimage-fullheight');this.bindShowMore()};MASERATI.TextImageFullHeight.prototype.bindShowMore=function(){var that=this;this.$components.find('.excerpt .more').on('click',function(e){e.preventDefault();var parent=$(this).parents('.text-container');parent.find('.excerpt').hide();parent.find('.description').show()})};$(function(){new MASERATI.TextImageFullHeight()});MASERATI.TextvideoBackgroundFullheight=function($element){this.$element=$element;this.provider=this.$element.data("provider");this.videoContainer=this.$element.find(".video-container");this.videoTag=this.videoContainer.find(".video-tag");this.videoTagId=this.videoTag.attr("id");this.videoId=this.$element.data('video');this.videoAutoplay=this.$element.data('autoplay');this.playWhenReady=!1;this.playButton=this.$element.find(".play-button");this.playLoader=this.$element.find(".play-loader");this.closeButton=this.$element.find(".overlay-close");this.volumeButton=this.$element.find(".overlay-volume");this.volumeOn=this.$element.find('.volume-text[data-action="on"]');this.volumeOff=this.$element.find('.volume-text[data-action="off"]');this.volumeIcon=this.$element.find('.icon-volume');this.overlayedText=this.$element.find('.text-container');this.$element[0].maseratiObject=this;this.player=null;this.progressPoller=0;this.pauseProgressPolling=!1;this.progressEvents=['0','25','50','75','100'];this.sentProgressEvent=null;this.duration=0;this.title=""
this.isClosed=!1;this.forceUnMute=!1;this.forceNoOverlayed=!0;this.videoShown=!1;this.viewportIn=null};MASERATI.TextvideoBackgroundFullheight.prototype.playerInViewport=function(){var top_of_element=this.videoContainer.offset().top;var bottom_of_element=top_of_element+this.videoContainer.outerHeight();var bottom_of_screen=$(window).scrollTop()+window.innerHeight;var top_of_screen=$(window).scrollTop();var visible=this.videoContainer.css('display')!=="none";return visible&&(bottom_of_screen>top_of_element)&&(top_of_screen<bottom_of_element)}
MASERATI.TextvideoBackgroundFullheight.prototype.setupVideo=function(){if(this.provider=="YouKu"){this.player=new MASERATI.YuokuInterface(this,!0);this.videoTag.addClass("youKuPlayer");this.setupButtons()}else{this.player=MASERATI.getYouTubePlayer(this,0,1)}
this.viewportIn=!0;var that=this;$(window).scroll(function(){if(that.playerInViewport()){if(MASERATI.Helpers.Mobile.isMobile()){that.viewportIn=!0}
else{if(!that.isClosed&&that.viewportIn===!1&&that.player.getPlayerState()==2){that.toggleAudio(0);that.player.playVideo();that.viewportIn=!0}}}
else{if(that.viewportIn===!0&&that.player.getPlayerState()==1){MASERATI.Helpers.Mobile.isMobile()?that.closeButton.click():that.player.pauseVideo();that.viewportIn=!1}}})};MASERATI.TextvideoBackgroundFullheight.prototype.toggleAudio=function(volume,cssOnly,noOverlayed){let turnOn=(typeof volume!=='undefined')?volume:this.player.isMuted();if(turnOn){if(!cssOnly)this.player.unMute();this.volumeOff.removeClass('hidden');this.volumeOn.addClass('hidden');this.volumeIcon.removeClass('volume-off');if(!noOverlayed)this.overlayedText.velocity('fadeOut',function(){this.removeClass('overlayed')})}else{if(!cssOnly)this.player.mute();this.volumeOn.removeClass('hidden');this.volumeOff.addClass('hidden');this.volumeIcon.addClass('volume-off');if(!noOverlayed)this.overlayedText.addClass('overlayed').velocity('fadeIn')}}
MASERATI.TextvideoBackgroundFullheight.prototype.setupButtons=function(){var that=this;this.playButton.click(function(){MASERATI.Helpers.log("click on play ");that.showVideo()});if(this.videoAutoplay!='1'||MASERATI.Helpers.Mobile.isMobile())
this.playButton.velocity('fadeIn');else that.playLoader.show();this.closeButton.click(function(){MASERATI.Helpers.log("click on close ");that.playLoader.hide().css('opacity',1);that.playButton.velocity('fadeIn');that.overlayedText.removeClass('overlayed').velocity('fadeIn');that.stop();that.forceUnMute=!0;that.videoShown=!1});this.volumeButton.click(function(){MASERATI.Helpers.log("click on volume ");that.toggleAudio()})}
MASERATI.TextvideoBackgroundFullheight.prototype.onPlayerReady=function(event){this.duration=this.player.getDuration();if(this.player.getVideoData){var videoData=this.player.getVideoData();this.title=videoData.title}else{this.title=this.videoId}
this.setupButtons();if(this.playWhenReady||this.videoAutoplay=='1'){if(!MASERATI.Helpers.Mobile.isMobile()){this.triggerProgressChangeEvent('0');this.playButton.click()}
this.playWhenReady=!1}};MASERATI.TextvideoBackgroundFullheight.prototype.pollProgress=function(){if(this.pauseProgressPolling){return!1}
var position=this.player.getCurrentTime();if(position<.5){this.triggerProgressChangeEvent('0')}else if(position>this.duration*.25&&position<this.duration*.5){this.triggerProgressChangeEvent('25')}else if(position>this.duration*.5&&position<this.duration*.75){this.triggerProgressChangeEvent('50')}else if(position>this.duration*.75&&position<this.duration){this.triggerProgressChangeEvent('75')}}
MASERATI.TextvideoBackgroundFullheight.prototype.triggerProgressChangeEvent=function(position){if(this.progressEvents.indexOf(position)>-1&&this.sentProgressEvent!=position){this.sentProgressEvent=position;this.$element[0].dispatchEvent(new CustomEvent('videoprogresschange',{detail:{progress:position}}));if(position=='0')
{MASERATI.AdobeTracking.tracker.setSatelliteTrack('MediaStreamStart')}
else{MASERATI.AdobeTracking.tracker.setSatelliteTrack('MediaStream'+position)}}};MASERATI.TextvideoBackgroundFullheight.prototype.onPlayerStateChange=function(event){var that=this;switch(event.data){case YT.PlayerState.ENDED:cancelAnimationFrame(this.progressPoller);this.triggerProgressChangeEvent('100');this.player.seekTo(0);break;case YT.PlayerState.PLAYING:this.pauseProgressPolling=!1;this.pollProgress();if(!this.videoShown){this.videoContainer.velocity("fadeIn",MASERATI.Animations.opacityDelay,function(){if(!that.playerInViewport())that.player.pauseVideo();that.viewportIn=!1});this.playLoader.velocity("fadeOut",MASERATI.Animations.opacityDelay);this.videoShown=!0}
this.toggleAudio(this.player.isMuted()?0:1,!0,this.forceNoOverlayed);this.forceNoOverlayed=!0;break;default:this.pauseProgressPolling=!0;break}};MASERATI.TextvideoBackgroundFullheight.prototype.showVideo=function(){var that=this;MASERATI.Helpers.log(" video container is ",this.videoContainer);MASERATI.Helpers.log(" triggered play");that.play()};MASERATI.TextvideoBackgroundFullheight.prototype.play=function(){if(this.player){if(this.forceUnMute||this.videoAutoplay!='1')this.toggleAudio(1,!1,!0);else{this.toggleAudio(0,!1,!0);this.forceNoOverlayed=!1}
this.forceUnMute=!1;this.playButton.hide();this.playLoader.show();var that=this;if(this.provider!="YouKu"){var pollerFunc=function(){that.pollProgress();if(that.progressPoller)that.progressPoller=requestAnimationFrame(pollerFunc)};this.progressPoller=requestAnimationFrame(pollerFunc)}
MASERATI.Helpers.log("Tracker SetMediaName "+this.title);MASERATI.AdobeTracking.tracker.setMediaName('video:'+this.title);MASERATI.Helpers.log(this.player);MASERATI.Helpers.log(" starting play");let playerInViewport=this.playerInViewport();this.player.playVideo();if(this.videoAutoplay=='1'&&playerInViewport){var counter=0;var interval=setInterval(function(){var state=that.player.getPlayerState();if(state==YT.PlayerState.PAUSED){that.player.playVideo()}
else if(++counter>50||state==YT.PlayerState.PLAYING){clearInterval(interval)}},100)}
this.isClosed=!1}else{this.playWhenReady=!0}};MASERATI.TextvideoBackgroundFullheight.prototype.stop=function(){this.videoContainer.velocity('fadeOut',MASERATI.Animations.opacityDelay);if(this.player){cancelAnimationFrame(this.progressPoller);this.player.stopVideo()}};var textvideobackgroundfullheights=[];$(function(){$('.textvideo-background-fullheight').each(function(){MASERATI.Helpers.log("initializing textvideo-background-fullheight");var video=new MASERATI.TextvideoBackgroundFullheight($(this));if($(this).data("provider")=="YouKu"){video.setupVideo()}else{textvideobackgroundfullheights.push(video);MASERATI.YoutubeManager.addVideoCallback(function(){video.setupVideo()})}})});MASERATI.timeline=function($element){this.$element=$element;this.$singleElements=$element.find('.element');this.initWaypoints()};MASERATI.timeline.prototype.initWaypoints=function(){var that=this;this.$singleElements.each(function(i,el){$(el).waypoint({handler:function(direction){$(el).removeClass('out-of-viewport')},offset:'80%'})})};$(function(){var $element=$('.timeline');if($element.length){new MASERATI.timeline($element)}});MASERATI.VideoCta=function($element){this.$element=$element;this.videoContainer=this.$element.find(".video-container");this.videoLooperContainer=this.$element.find(".videolooper-container");this.videoTag=this.videoContainer.find(".video-tag");this.videoTagId=this.videoTag.attr("id");this.videoId=this.$element.data('video');this.playWhenReady=!1;this.initialTitle=this.$element.find('.title')
this.playButton=this.$element.find(".play-button");this.resumeButton=this.$element.find(".resume-button");this.overlayTitle=this.$element.find(".titleOverlay");this.initialOverlay=this.$element.find(".initial-overlay");this.subTitle=this.$element.find(".subtitle");this.ctaButton=this.$element.find(".cta-container");this.overlay=this.$element.find(".overlay-container");this.overlayTime=this.$element.attr("data-overlay-time")?this.$element.attr("data-overlay-time"):!1;this.textShade=this.$element.find(".text-shade");this.closeButton=this.$element.find(".overlay-close");this.showOverlaySequence=null;this.playVideoSequence=null;this.resumeVideoSequence=null;this.isFullScreen=!1;this.showOverlayWhenExitFullScreen=!1;this.$element[0].maseratiObject=this;this.player=null;this.goingAnimation=null;this.poller=null;this.status=null;this.progressPoller=0;this.pauseProgressPolling=!1;this.progressEvents=['0','25','50','75','100'];this.sentProgressEvent=null;this.duration=0;this.title=""};MASERATI.VideoCta.prototype.getOverlayTime=function(){if(this.overlayTime){return this.overlayTime}else{return this.player.getDuration()}};MASERATI.VideoCta.prototype.setupVideo=function(){this.player=MASERATI.getYouTubePlayer(this,0)};MASERATI.VideoCta.prototype.setupButtons=function(){var that=this;this.playButton.click(function(){MASERATI.Helpers.log("click on play ");that.showVideo()}).velocity('fadeIn');this.closeButton.click(function(){MASERATI.Helpers.log("click on close ");that.stop()});this.$element.find('.resume-button').css('display','none');this.$element.on('click','.resume-button__click',function(e){e.preventDefault();that.$element.removeClass("nopolling")
MASERATI.Helpers.log('resuming ');if(MASERATI.Helpers.Mobile.isMobile()){that.videoContainer.show()}
that.playAnimationSequence(that.resumeVideoSequence2.slice(0),function(){that.play()});that.status=null});document.addEventListener("fullscreenchange",function(){that.changeFullScreen(that)},!1);document.addEventListener("webkitfullscreenchange",function(){that.changeFullScreen(that)},!1);document.addEventListener("mozfullscreenchange",function(){that.changeFullScreen(that)},!1);this.showOverlaySequence=[{o:this.overlay,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1},{o:this.textShade,a:{opacity:.7},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1},{o:this.initialTitle,a:{opacity:0},t:0,p:MASERATI.Animations.videoCtaPauseBetween,s:!1},{o:this.ctaButton,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:MASERATI.Animations.videoCtaPauseBetween,s:!1},{o:this.overlayTitle,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:MASERATI.Animations.videoCtaPauseBetween,s:!1},{o:this.subTitle,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:MASERATI.Animations.videoCtaPauseBetween,s:!0}];this.showOverlayVideoLoopSequence=[{o:this.videoContainer,a:{opacity:0},t:0,p:0,s:!1},{o:this.videoLooperContainer,a:{opacity:1},t:0,p:0,s:!1},{o:this.ctaButton,a:"fadeIn",t:MASERATI.Animations.videoCtaFadeSpeed,p:MASERATI.Animations.videoCtaPauseBetween,s:!1},{o:this.overlayTitle,a:"fadeIn",t:MASERATI.Animations.videoCtaFadeSpeed,p:MASERATI.Animations.videoCtaPauseBetween,s:!1},{o:this.subTitle,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:MASERATI.Animations.videoCtaPauseBetween,s:!0},{o:this.resumeButton,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}];this.endVideoSequence=[{o:this.resumeButton,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}];this.playVideoSequence=[{o:this.overlayTitle,a:{opacity:0},t:0,p:0,s:!1},{o:this.playButton,a:{opacity:0},t:0,p:0,s:!1},{o:this.textShade,a:"fadeOut",t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1},{o:this.videoContainer,a:"fadeIn",t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}];this.resumeVideoSequence2=[{o:this.overlay,a:"fadeOut",t:(MASERATI.Helpers.Mobile.isMobile())?MASERATI.Animations.videoCtaFadeSpeed:0,p:0,s:!1},{o:this.textShade,a:"fadeOut",t:(MASERATI.Helpers.Mobile.isMobile())?MASERATI.Animations.videoCtaFadeSpeed:0,p:0,s:!1},{o:this.ctaButton,a:{opacity:0},t:0,p:0,s:!1},{o:this.overlayTitle,a:{opacity:0},t:0,p:0,s:!1},{o:this.subTitle,a:{opacity:0},t:0,p:0,s:!0},{o:this.resumeButton,a:"fadeOut",t:0,p:0,s:!1},{o:this.videoContainer,a:"fadeIn",t:(MASERATI.Helpers.Mobile.isMobile())?MASERATI.Animations.videoCtaFadeSpeed:0,p:0,s:!1}];this.resumeVideoSequence=[{o:this.ctaButton,a:{opacity:0},t:0,p:0,s:!1},{o:this.overlayTitle,a:{opacity:0},t:0,p:0,s:!1},{o:this.subTitle,a:{opacity:0},t:0,p:0,s:!0},{o:this.videoContainer,a:"fadeIn",t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}];this.textShadeSequence=[{o:this.textShade,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:1,s:!1},{o:this.textShade,a:{opacity:.6},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1},]
this.resumeInitialPlaySequence=[{o:this.ctaButton,a:{opacity:0},t:0,p:0,s:!1},{o:this.overlayTitle,a:{opacity:0},t:0,p:0,s:!1},{o:this.subTitle,a:{opacity:0},t:0,p:0,s:!0},{o:this.resumeButton,a:"fadeOut",t:0,p:0,s:!1},{o:this.videoContainer,a:{opacity:0},t:0,p:0,s:!1},{o:this.overlay,a:"fadeIn",t:0,p:0,s:!1},{o:this.textShade,a:{opacity:.3},t:0,p:0,s:!1},{o:this.initialTitle,a:{opacity:1},t:0,p:0,s:!1},{o:this.initialOverlay,a:"fadeIn",t:0,p:0,s:!1},{o:this.playButton,a:{opacity:1},t:0,p:0,s:!1},{o:this.closeButton,a:"fadeOut",t:0,p:0,s:!1},]}
MASERATI.VideoCta.prototype.playAnimationSequence=function(sequence,callback){var that=this;if(this.isClosing){if(typeof callback!=='undefined'){callback()}
if(that.goingAnimation!==null){window.clearTimeout(that.goingAnimation)
that.goingAnimation=null}
return}
if(sequence.length==0){if(typeof callback!=='undefined'){callback()}
if(that.goingAnimation!==null){window.clearTimeout(that.goingAnimation)
that.goingAnimation=null}
return!0}
var theSequence=sequence;var theCallback=callback;var animation=theSequence.shift();var theObject=animation.o;if(theObject.length==0){MASERATI.Helpers.log("skip not existing elem: ",theObject);return this.playAnimationSequence(theSequence,theCallback)}
var canBeSkipped=(typeof animation.s=='undefined')?!1:animation.s;if(canBeSkipped&&getComputedStyle(theObject[0]).display=='none'){MASERATI.Helpers.log("skip hidden elem: "+theObject.attr('class'));theObject.css(animation.a);return this.playAnimationSequence(theSequence,theCallback)}
var theAnim=animation.a;var theTiming=animation.t;var thePause=animation.p;if(thePause==0){theObject.velocity(theAnim,theTiming);return this.playAnimationSequence(theSequence,theCallback)}
else{var that=this;theObject.velocity(theAnim,theTiming,function(){that.goingAnimation=setTimeout(function(){that.playAnimationSequence(theSequence,theCallback)},thePause)})}}
MASERATI.VideoCta.prototype.changeFullScreen=function(that){that.isFullScreen=!that.isFullScreen;MASERATI.Helpers.log("FULLSCREEN -> "+that.isFullScreen);if(that.showOverlayWhenExitFullScreen&&!that.isFullScreen){that.showOverlayWhenExitFullScreen=!1;that.showOverlay()}};MASERATI.VideoCta.prototype.onPlayerReady=function(event){this.duration=this.player.getDuration();if(this.player.getVideoData){var videoData=this.player.getVideoData();this.title=videoData.title}else{this.title=this.videoId}
this.setupButtons()
if(this.playWhenReady){if(!MASERATI.Helpers.Mobile.isMobile()){this.triggerProgressChangeEvent('0');this.player.playVideo()}
this.playWhenReady=!1}};MASERATI.VideoCta.prototype.attachPoller=function(){var that=this;MASERATI.Helpers.log("Poller attacched")
this.poller=window.setInterval(function(){if(that.player.getCurrentTime()>=that.getOverlayTime()){that.$element.addClass("nopolling")
that.detachPoller()
that.overlay.show();that.textShade.css("display","block").css("opacity",0)
that.initialOverlay.hide();that.playAnimationSequence(that.showOverlaySequence.slice(0))
MASERATI.Helpers.log("Time to overlay")}},16)}
MASERATI.VideoCta.prototype.detachPoller=function(){var that=this;if(that.poller!==null){clearInterval(that.poller)
that.poller=null}
MASERATI.Helpers.log("Poller detached")}
MASERATI.VideoCta.prototype.pollProgress=function(){if(this.pauseProgressPolling){MASERATI.Helpers.log('Tracker poller muted')
return!1}
var position=this.player.getCurrentTime();if(position<.5){this.triggerProgressChangeEvent('0')}else if(position>this.duration*.25&&position<this.duration*.5){this.triggerProgressChangeEvent('25')}else if(position>this.duration*.5&&position<this.duration*.75){this.triggerProgressChangeEvent('50')}else if(position>this.duration*.75&&position<this.duration){this.triggerProgressChangeEvent('75')}
MASERATI.Helpers.log('Tracker poller poll '+this.player.getCurrentTime())}
MASERATI.VideoCta.prototype.triggerProgressChangeEvent=function(position){if(this.progressEvents.indexOf(position)>-1&&this.sentProgressEvent!=position){this.sentProgressEvent=position;this.$element[0].dispatchEvent(new CustomEvent('videoprogresschange',{detail:{progress:position}}));if(position=='0')
{MASERATI.AdobeTracking.tracker.setSatelliteTrack('MediaStreamStart')}
else{MASERATI.AdobeTracking.tracker.setSatelliteTrack('MediaStream'+position)}}};MASERATI.VideoCta.prototype.triggerPlayerOpenEvent=function(){this.sentProgressEvent=null;MASERATI.Helpers.log("dispatching event videoplayeropen "+this.title);this.$element[0].dispatchEvent(new CustomEvent('videoplayeropen',{detail:{title:this.title}}));if(this.provider=="YouKu"){this.triggerProgressChangeEvent('0')}};MASERATI.VideoCta.prototype.onPlayerStateChange=function(event){var that=this;MASERATI.Helpers.log('Video state: '+this.player.getPlayerState());switch(event.data){case YT.PlayerState.ENDED:clearInterval(this.progressPoller);MASERATI.Helpers.log('Tracker poller detached')
this.triggerProgressChangeEvent('100');break;case YT.PlayerState.PLAYING:this.pauseProgressPolling=!1;break;default:this.pauseProgressPolling=!0;break}
if(this.player.getPlayerState()==YT.PlayerState.ENDED){this.playAnimationSequence([{o:this.resumeButton,a:"fadeIn",t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}],function(){if(!MASERATI.Helpers.Mobile.isMobile()){that.player.seekTo(0)
that.player.mute()}else{that.videoContainer.hide()}})
MASERATI.Helpers.log("Time to resume button")}
if(this.poller===null&&!this.$element.hasClass("nopolling")&&this.player.getPlayerState()==YT.PlayerState.PLAYING){this.attachPoller()}};MASERATI.VideoCta.prototype.showOverlay=function(){var that=this;MASERATI.Helpers.log("isfullscreen? "+this.isFullScreen);if(this.isFullScreen){this.showOverlayWhenExitFullScreen=!0;return!1}
this.$element.addClass("overlay");this.overlay.show();var sequence=this.showOverlaySequence.slice(0);if(this.player){this.player.seekTo(0);this.player.stopVideo()}
this.textShade.css("display","block").css("opacity",0)
this.playAnimationSequence(sequence)};MASERATI.VideoCta.prototype.showVideo=function(){var that=this;MASERATI.Helpers.log(" video container is ",this.videoContainer);MASERATI.AdobeTracking.tracker.setMediaName('video:'+this.title);this.closeButton.show();this.playAnimationSequence([{o:that.closeButton,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}]);var sequence=this.playVideoSequence.slice(0);if(this.$element.hasClass('overlay')){sequence=this.resumeVideoSequence.slice(0);if(this.$element.hasClass('videoLoop')){this.looperPlayer.seekTo(0);this.looperPlayer.stopVideo();if(this.looperPlayerInterval){window.clearInterval(this.looperPlayerInterval)}}}
this.playAnimationSequence(sequence,function(){that.$element.removeClass('overlay');that.overlay.hide();that.play()})};MASERATI.VideoCta.prototype.play=function(){if(this.player){this.player.unMute()
if(this.$element.hasClass('videoLoop')){this.player.seekTo(0)}
var that=this;if(this.provider!="YouKu"){this.triggerProgressChangeEvent('0');MASERATI.Helpers.log('Tracker poller attacched')
this.progressPoller=setInterval(function(){that.pollProgress()},this.duration*1000/16);MASERATI.Helpers.log("Tracker SetMediaName "+this.title);MASERATI.AdobeTracking.tracker.setMediaName('video:'+this.title)}
MASERATI.Helpers.log(this.player);MASERATI.Helpers.log(" starting play");this.player.playVideo()}else{this.playWhenReady=!0}};MASERATI.VideoCta.prototype.stop=function(){var that=this;clearInterval(this.progressPoller);MASERATI.Helpers.log('Tracker poller detached')
this.player.pauseVideo()
this.player.unMute()
this.isClosing=!0
that.detachPoller()
that.$element.removeClass("nopolling")
that.closeButton.velocity('stop',!0);that.overlayTitle.velocity('stop',!0);that.subTitle.velocity('stop',!0);that.ctaButton.velocity('stop',!0);MASERATI.Helpers.log("resuming play btn");this.isClosing=!1;this.playAnimationSequence(this.resumeInitialPlaySequence.slice(0),function(){that.textShade.show()})};var videoctas=[];$(function(){$('.video-cta').each(function(){MASERATI.Helpers.log("initializing video-cta");var video=new MASERATI.VideoCta($(this));videoctas.push(video);MASERATI.YoutubeManager.addVideoCallback(function(){video.setupVideo()})})});MASERATI.VideoCtaModelHero=function($element){this.$element=$element;this.videoContainer=this.$element.find(".video-container");this.videoLooperContainer=this.$element.find(".videolooper-container");this.videoTag=this.videoContainer.find(".video-tag");this.videoTagId=this.videoTag.attr("id");this.videoId=this.$element.data('video');this.videoAutoplay=this.$element.data('autoplay');this.playWhenReady=!1;this.forceAutoplay=!1;this.forceUnMute=!1;this.videoShown=!1;this.initialTitle=this.$element.find('.initial-overlay .title, .initial-overlay .subtitle-cta, .initial-overlay .downArrow')
this.playButtonClone=this.$element.find(".play-button-clone");this.playButton=this.$element.find(".play-button");this.playLoader=this.$element.find(".play-loader");this.resumeButton=this.$element.find(".resume-button");this.overlayTitle=this.$element.find(".titleOverlay");this.initialOverlay=this.$element.find(".initial-overlay");this.subTitle=this.$element.find(".overlay-subtitle");this.ctaButton=this.$element.find(".cta-container");this.ctaOverlay=this.$element.find(".cta-overlay");this.overlay=this.$element.find(".overlay-container");this.overlayTime=this.$element.attr("data-overlay-time")?this.$element.attr("data-overlay-time"):!1;this.textShade=this.$element.find(".text-shade");this.titleClose=this.$element.find(".overlay-title-close");this.closeButton=this.$element.find(".overlay-close");this.volumeButton=this.$element.find(".overlay-volume");this.volumeOn=this.$element.find('.volume-text[data-action="on"]');this.volumeOff=this.$element.find('.volume-text[data-action="off"]');this.volumeIcon=this.$element.find('.icon-volume');this.showOverlaySequence=null;this.playVideoSequence=null;this.resumeVideoSequence=null;this.isClosed=!0;this.isFullScreen=!1;this.showOverlayWhenExitFullScreen=!1;this.viewportIn=null;this.$element[0].maseratiObject=this;this.player=null;this.goingAnimation=null;this.poller=null;this.status=null;this.$scrollDown=this.$element.find('.downArrow');this.offset=$('#maserati_menu').height();var that=this;this.$scrollDown.click(function(){$($(this).attr('data-to')).velocity('scroll',{offset:-that.offset})});this.progressPoller=0;this.pauseProgressPolling=!1;this.progressEvents=['0','25','50','75','100'];this.sentProgressEvent=null;this.duration=0;this.title=""};MASERATI.VideoCtaModelHero.prototype.toggleAudio=function(volume){let turnOn=(typeof volume!=='undefined')?volume:this.player.isMuted();if(turnOn){this.player.unMute();this.volumeOff.removeClass('hidden');this.volumeOn.addClass('hidden');this.volumeIcon.removeClass('volume-off')}else{this.player.mute();this.volumeOn.removeClass('hidden');this.volumeOff.addClass('hidden');this.volumeIcon.addClass('volume-off')}}
MASERATI.VideoCtaModelHero.prototype.getOverlayTime=function(){if(this.overlayTime){return this.overlayTime}else{return this.player.getDuration()}};MASERATI.VideoCtaModelHero.prototype.setupVideo=function(){this.player=MASERATI.getYouTubePlayer(this,0,0);this.viewportIn=!0;var that=this;$(window).scroll(function(){var top_of_element=that.videoContainer.offset().top;var bottom_of_element=top_of_element+that.videoContainer.outerHeight();var bottom_of_screen=$(window).scrollTop()+window.innerHeight;var top_of_screen=$(window).scrollTop();if((bottom_of_screen>top_of_element)&&(top_of_screen<bottom_of_element)){if(!that.isClosed&&that.viewportIn===!1&&that.player.getPlayerState()==2){that.player.playVideo();that.viewportIn=!0}}
else{if(that.viewportIn===!0&&that.player.getPlayerState()==1){that.player.pauseVideo();that.viewportIn=!1}}})};MASERATI.VideoCtaModelHero.prototype.setupButtons=function(){var that=this;this.playButton.click(function(){MASERATI.Helpers.log("click on play ");that.playButton.css('pointer-events','none');that.ctaOverlay.css('pointer-events','none');that.showVideo()}).velocity('fadeIn');if(this.videoAutoplay!="1")this.playLoader.velocity("fadeOut");this.closeButton.click(function(){MASERATI.Helpers.log("click on close ");that.stop();that.playButton.css('pointer-events','auto');that.ctaOverlay.css('pointer-events','auto');that.initialTitle.show();that.playButtonClone.hide();that.volumeButton.hide();that.forceUnMute=!0});this.volumeButton.click(function(){MASERATI.Helpers.log("click on volume ");that.toggleAudio()});this.$element.find('.resume-button, .play-button-clone').css('display','none');this.$element.on('click','.resume-button__click, .play-button-clone',function(e){e.preventDefault();that.$element.removeClass("nopolling")
MASERATI.Helpers.log('resuming ');if(MASERATI.Helpers.Mobile.isMobile()){that.videoContainer.show()}
that.playAnimationSequence(that.resumeVideoSequence2.slice(0),function(){that.forceUnMute=!0;that.playButtonClone.hide();that.play()});that.status=null});document.addEventListener("fullscreenchange",function(){that.changeFullScreen(that)},!1);document.addEventListener("webkitfullscreenchange",function(){that.changeFullScreen(that)},!1);document.addEventListener("mozfullscreenchange",function(){that.changeFullScreen(that)},!1);this.showOverlaySequence=[{o:this.overlay,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1},{o:this.textShade,a:{opacity:.7},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1},{o:this.initialTitle,a:{opacity:0},t:0,p:MASERATI.Animations.videoCtaPauseBetween,s:!1},{o:this.ctaButton,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:MASERATI.Animations.videoCtaPauseBetween,s:!1},{o:this.overlayTitle,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:MASERATI.Animations.videoCtaPauseBetween,s:!1},{o:this.subTitle,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:MASERATI.Animations.videoCtaPauseBetween,s:!0}];this.showOverlayVideoLoopSequence=[{o:this.videoContainer,a:{opacity:0},t:0,p:0,s:!1},{o:this.videoLooperContainer,a:{opacity:1},t:0,p:0,s:!1},{o:this.ctaButton,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:MASERATI.Animations.videoCtaPauseBetween,s:!1},{o:this.overlayTitle,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:MASERATI.Animations.videoCtaPauseBetween,s:!1},{o:this.subTitle,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:MASERATI.Animations.videoCtaPauseBetween,s:!0},{o:this.resumeButton,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}];this.endVideoSequence=[{o:this.resumeButton,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}];this.playVideoSequence=[{o:this.overlayTitle,a:{opacity:0},t:0,p:0,s:!1},{o:this.playButton,a:{opacity:0},t:0,p:0,s:!1},{o:this.textShade,a:"fadeOut",t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1},{o:this.videoContainer,a:"fadeIn",t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}];this.playVideoSequenceAutoPlay=[{o:this.overlayTitle,a:{opacity:0},t:0,p:0,s:!1},{o:this.playButton,a:{opacity:0},t:0,p:0,s:!1},];this.resumeVideoSequence2=[{o:this.textShade,a:"fadeOut",t:(MASERATI.Helpers.Mobile.isMobile())?MASERATI.Animations.videoCtaFadeSpeed:0,p:0,s:!1},{o:this.ctaButton,a:{opacity:0},t:0,p:0,s:!1},{o:this.overlayTitle,a:{opacity:0},t:0,p:0,s:!1},{o:this.subTitle,a:{opacity:0},t:0,p:0,s:!0},{o:this.resumeButton,a:"fadeOut",t:0,p:0,s:!1},{o:this.playButtonClone,a:"fadeOut",t:0,p:0,s:!1},{o:this.videoContainer,a:"fadeIn",t:(MASERATI.Helpers.Mobile.isMobile())?MASERATI.Animations.videoCtaFadeSpeed:0,p:0,s:!1}];this.resumeVideoSequence=(this.videoAutoplay!='1'?[{o:this.ctaButton,a:{opacity:0},t:0,p:0,s:!1},{o:this.overlayTitle,a:{opacity:0},t:0,p:0,s:!1},{o:this.subTitle,a:{opacity:0},t:0,p:0,s:!0},{o:this.videoContainer,a:"fadeIn",t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}]:[]);this.textShadeSequence=[{o:this.textShade,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:1,s:!1},{o:this.textShade,a:{opacity:.6},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1},]
this.resumeInitialPlaySequence=[{o:this.ctaButton,a:{opacity:0},t:0,p:0,s:!1},{o:this.overlayTitle,a:{opacity:0},t:0,p:0,s:!1},{o:this.subTitle,a:{opacity:0},t:0,p:0,s:!0},{o:this.resumeButton,a:"fadeOut",t:0,p:0,s:!1},{o:this.videoContainer,a:{opacity:0},t:0,p:0,s:!1},{o:this.overlay,a:"fadeIn",t:0,p:0,s:!1},{o:this.textShade,a:{opacity:.3},t:0,p:0,s:!1},{o:this.initialTitle,a:{opacity:1},t:0,p:0,s:!1},{o:this.initialOverlay,a:"fadeIn",t:0,p:0,s:!1},{o:this.playButton,a:{opacity:1},t:0,p:0,s:!1},{o:this.playLoader,a:{opacity:0},t:0,p:0,s:!1},{o:this.closeButton,a:"fadeOut",t:0,p:0,s:!1},{o:this.volumeButton,a:"fadeOut",t:0,p:0,s:!1},{o:this.titleClose,a:"fadeOut",t:0,p:0,s:!1},]}
MASERATI.VideoCtaModelHero.prototype.playAnimationSequence=function(sequence,callback){var that=this;if(this.isClosing){if(typeof callback!=='undefined'){callback()}
if(that.goingAnimation!==null){window.clearTimeout(that.goingAnimation)
that.goingAnimation=null}
return}
if(sequence.length==0){if(typeof callback!=='undefined'){callback()}
if(that.goingAnimation!==null){window.clearTimeout(that.goingAnimation)
that.goingAnimation=null}
return!0}
var theSequence=sequence;var theCallback=callback;var animation=theSequence.shift();var theObject=animation.o;if(theObject.length==0){MASERATI.Helpers.log("skip not existing elem: ",theObject);return this.playAnimationSequence(theSequence,theCallback)}
var canBeSkipped=(typeof animation.s=='undefined')?!1:animation.s;if(canBeSkipped&&getComputedStyle(theObject[0]).display=='none'){MASERATI.Helpers.log("skip hidden elem: "+theObject.attr('class'));theObject.css(animation.a);return this.playAnimationSequence(theSequence,theCallback)}
var theAnim=animation.a;var theTiming=animation.t;var thePause=animation.p;if(thePause==0){theObject.velocity(theAnim,theTiming);return this.playAnimationSequence(theSequence,theCallback)}
else{var that=this;theObject.velocity(theAnim,theTiming,function(){that.goingAnimation=setTimeout(function(){that.playAnimationSequence(theSequence,theCallback)},thePause)})}}
MASERATI.VideoCtaModelHero.prototype.changeFullScreen=function(that){that.isFullScreen=!that.isFullScreen;MASERATI.Helpers.log("FULLSCREEN -> "+that.isFullScreen);if(that.showOverlayWhenExitFullScreen&&!that.isFullScreen){that.showOverlayWhenExitFullScreen=!1;that.showOverlay()}};MASERATI.VideoCtaModelHero.prototype.onPlayerReady=function(event){this.duration=this.player.getDuration();MASERATI.Helpers.log("video onPlayerReady. duration:"+this.duration);if(this.player.getVideoData){var videoData=this.player.getVideoData();this.title=videoData.title}else{this.title=this.videoId}
MASERATI.Helpers.log("video onPlayerReady. videoAutoplay:"+this.videoAutoplay);this.setupButtons();if(this.playWhenReady||this.videoAutoplay=='1'){if(!MASERATI.Helpers.Mobile.isMobile()){this.triggerProgressChangeEvent('0');MASERATI.Helpers.log("video onPlayerReady. playVideo");this.forceAutoplay=!0;this.playButton.click()}
this.playWhenReady=!1}};MASERATI.VideoCtaModelHero.prototype.attachPoller=function(){var that=this;this.videoEnded=!1;MASERATI.Helpers.log("Poller attacched")
var overlayPoller=function(){var duration=that.getOverlayTime();if(duration>0&&that.player.getCurrentTime()>=duration||that.videoEnded){that.$element.addClass("nopolling")
that.detachPoller()
that.overlay.show();that.textShade.css("display","block").css("opacity",0)
that.initialOverlay.hide();that.playAnimationSequence(that.showOverlaySequence.slice(0))
that.ctaOverlay.css('pointer-events','auto');MASERATI.Helpers.log("Time to overlay")}
else if(that.poller)that.poller=requestAnimationFrame(overlayPoller)};this.poller=requestAnimationFrame(overlayPoller)}
MASERATI.VideoCtaModelHero.prototype.detachPoller=function(){var that=this;if(that.poller!==null){cancelAnimationFrame(that.poller)
that.poller=null}
MASERATI.Helpers.log("Poller detached")}
MASERATI.VideoCtaModelHero.prototype.pollProgress=function(){if(this.pauseProgressPolling){MASERATI.Helpers.log('Tracker poller muted')
return!1}
var position=this.player.getCurrentTime();if(position<.5){this.triggerProgressChangeEvent('0')}else if(position>this.duration*.25&&position<this.duration*.5){this.triggerProgressChangeEvent('25')}else if(position>this.duration*.5&&position<this.duration*.75){this.triggerProgressChangeEvent('50')}else if(position>this.duration*.75&&position<this.duration){this.triggerProgressChangeEvent('75')}
MASERATI.Helpers.log('Tracker poller poll '+this.player.getCurrentTime())}
MASERATI.VideoCtaModelHero.prototype.triggerProgressChangeEvent=function(position){if(this.progressEvents.indexOf(position)>-1&&this.sentProgressEvent!=position){this.sentProgressEvent=position;this.$element[0].dispatchEvent(new CustomEvent('videoprogresschange',{detail:{progress:position}}));if(position=='0')
{MASERATI.AdobeTracking.tracker.setSatelliteTrack('MediaStreamStart')}
else{MASERATI.AdobeTracking.tracker.setSatelliteTrack('MediaStream'+position)}}};MASERATI.VideoCtaModelHero.prototype.triggerPlayerOpenEvent=function(){this.sentProgressEvent=null;MASERATI.Helpers.log("dispatching event videoplayeropen "+this.title);this.$element[0].dispatchEvent(new CustomEvent('videoplayeropen',{detail:{title:this.title}}));if(this.provider=="YouKu"){this.triggerProgressChangeEvent('0')}};MASERATI.VideoCtaModelHero.prototype.onPlayerStateChange=function(event){var that=this;MASERATI.Helpers.log('Video state: '+this.player.getPlayerState());switch(event.data){case YT.PlayerState.ENDED:cancelAnimationFrame(this.progressPoller);MASERATI.Helpers.log('Tracker poller detached')
this.triggerProgressChangeEvent('100');this.videoEnded=!0;break;case YT.PlayerState.PLAYING:this.pauseProgressPolling=!1;if(this.videoAutoplay=="1"&&!this.videoShown){this.playAnimationSequence([{o:this.textShade,a:{opacity:0},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1},{o:this.videoContainer,a:"fadeIn",t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1},{o:this.playLoader,a:"fadeOut",t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}]);this.videoShown=!0}
break;default:this.pauseProgressPolling=!0;break}
if(this.player.getPlayerState()==YT.PlayerState.ENDED){this.playAnimationSequence([{o:this.resumeButton,a:"fadeIn",t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}],function(){if(!MASERATI.Helpers.Mobile.isMobile()){that.player.seekTo(0)
that.toggleAudio(0)}else{that.videoContainer.hide()}})
MASERATI.Helpers.log("Time to resume button")}
if(this.poller===null&&!this.$element.hasClass("nopolling")&&this.player.getPlayerState()==YT.PlayerState.PLAYING){this.attachPoller()}};MASERATI.VideoCtaModelHero.prototype.showOverlay=function(){var that=this;MASERATI.Helpers.log("isfullscreen? "+this.isFullScreen);if(this.isFullScreen){this.showOverlayWhenExitFullScreen=!0;return!1}
this.$element.addClass("overlay");this.overlay.show();var sequence=this.showOverlaySequence.slice(0);if(this.player){this.player.seekTo(0);this.player.stopVideo()}
this.textShade.css("display","block").css("opacity",0)
this.playAnimationSequence(sequence)};MASERATI.VideoCtaModelHero.prototype.showVideo=function(){var that=this;MASERATI.Helpers.log(" video container is ",this.videoContainer);MASERATI.AdobeTracking.tracker.setMediaName('video:'+this.title);if(this.videoAutoplay=="1"){this.volumeOn.removeClass('hidden');this.playButton.parent().hide()}else{this.volumeOff.removeClass('hidden')}
this.closeButton.show();this.titleClose.show();this.volumeButton.show();this.playAnimationSequence([{o:that.volumeButton,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}]);this.playAnimationSequence([{o:that.closeButton,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}]);this.playAnimationSequence([{o:that.titleClose,a:{opacity:1},t:MASERATI.Animations.videoCtaFadeSpeed,p:0,s:!1}]);var sequence=(this.forceAutoplay?this.playVideoSequenceAutoPlay:this.playVideoSequence).slice(0);if(this.$element.hasClass('overlay')){sequence=this.resumeVideoSequence.slice(0);if(this.$element.hasClass('videoLoop')){this.looperPlayer.seekTo(0);this.looperPlayer.stopVideo();if(this.looperPlayerInterval){window.clearInterval(this.looperPlayerInterval)}}}
this.playAnimationSequence(sequence,function(){if(that.videoAutoplay!='1'){that.$element.removeClass('overlay');that.overlay.hide()}else{that.closeButton.show();that.titleClose.show();that.volumeButton.show();that.initialTitle.hide()}
that.play()});this.forceAutoplay=!1};MASERATI.VideoCtaModelHero.prototype.play=function(){if(this.player){if(this.forceUnMute||this.videoAutoplay!='1')this.toggleAudio(1);else this.toggleAudio(0);this.forceUnMute=!1;if(this.$element.hasClass('videoLoop')){this.player.seekTo(0)}
var that=this;if(this.provider!="YouKu"){this.triggerProgressChangeEvent('0');MASERATI.Helpers.log('Tracker poller attacched')
var pollerFunc=function(){that.pollProgress();if(that.progressPoller)that.progressPoller=requestAnimationFrame(pollerFunc)};this.progressPoller=requestAnimationFrame(pollerFunc);MASERATI.Helpers.log("Tracker SetMediaName "+this.title);MASERATI.AdobeTracking.tracker.setMediaName('video:'+this.title)}
MASERATI.Helpers.log(this.player);MASERATI.Helpers.log(" starting play");this.player.playVideo();if(this.videoAutoplay=='1'){var counter=0;var interval=setInterval(function(){var state=that.player.getPlayerState();if(state==YT.PlayerState.PAUSED){that.player.playVideo()}
else if(++counter>50||state==YT.PlayerState.PLAYING){clearInterval(interval)}},100)}
this.isClosed=!1}else{this.playWhenReady=!0}};MASERATI.VideoCtaModelHero.prototype.stop=function(){var that=this;clearInterval(this.progressPoller);MASERATI.Helpers.log('Tracker poller detached')
this.player.pauseVideo()
this.toggleAudio(1)
this.isClosing=!0
that.detachPoller()
that.$element.removeClass("nopolling")
that.closeButton.velocity('stop',!0);that.volumeButton.velocity('stop',!0);that.titleClose.velocity('stop',!0);that.overlayTitle.velocity('stop',!0);that.subTitle.velocity('stop',!0);that.ctaButton.velocity('stop',!0);MASERATI.Helpers.log("resuming play btn");this.isClosing=!1;this.playAnimationSequence(this.resumeInitialPlaySequence.slice(0),function(){that.textShade.show()})
this.isClosed=!0};var videoctas=[];$(function(){$('.video-cta-model-hero').each(function(){MASERATI.Helpers.log("initializing video-cta-model-hero");video=new MASERATI.VideoCtaModelHero($(this));videoctas.push(video);MASERATI.YoutubeManager.addVideoCallback(function(){video.setupVideo()})})});MASERATI.VideoGallery=function($element){this.$element=$element;this.$slidesContainer=this.$element.find('.main-slide');this.$slides=this.$slidesContainer.find('.slide');this.$prevTrigger=this.$element.find('.prevTrigger');this.$nextTrigger=this.$element.find('.nextTrigger');this.$mobileText=this.$element.find('.mobile-text-container');this.$videoContainer=this.$element.find(".video-container");this.$videoTag=this.$videoContainer.find(".video-tag");this.$playBtns=this.$slidesContainer.find('.play-button,.replay-button');this.$closeButton=this.$videoContainer.find(".overlay-close");this.$volumeButton=this.$videoContainer.find(".overlay-volume");this.$volumeIcon=this.$videoContainer.find('.icon-volume');this.$overlay=this.$videoContainer.find('.overlay-container');this.documentDirection=($('html').attr('dir')==="rtl")?'rtl':'ltr';this.currentSlide=1;this.totalSlides=this.$slides.length;this.slideAmount=-67;this.delay=300;if(this.documentDirection==="rtl"){this.slideAmount*=-1;this.$slidesContainer.append(this.$slides.get().reverse())}
this.player=null;this.videoTagId=this.$videoTag.attr("id");this.videoId='';this.starting=!1;this.closing=!1;this.viewportIn=!0;this.progressPoller=0;this.pauseProgressPolling=!1;this.progressEvents=['0','25','50','75','100'];this.sentProgressEvent=null;this.setMobileText();this.bindEvents();this.refreshSlides();this.refreshTriggers()};MASERATI.VideoGallery.prototype.setMobileText=function(){var $activeText=this.$slidesContainer.find('.slide.active .text-container');this.$mobileText.empty();$activeText.children().clone().appendTo(this.$mobileText);this.$mobileText.css('opacity',1)};MASERATI.VideoGallery.prototype.hideMobileText=function(){this.$mobileText.css('opacity',0)};MASERATI.VideoGallery.prototype.triggerSlideChangeEvent=function(){MASERATI.AdobeTracking.tracker.setSatelliteTrack('VideoGalleryEngage');this.$element[0].dispatchEvent(new CustomEvent('slidechange'))};MASERATI.VideoGallery.prototype.bindEvents=function(){var that=this;this.$prevTrigger.click(function(){that.prev()});this.$nextTrigger.click(function(){that.next()});this.$slidesContainer.on('swipeleft',function(){that.next()});this.$slidesContainer.on('swiperight',function(){that.prev()});this.$prevTrigger.on('swipeleft',function(){that.next()});this.$prevTrigger.on('swiperight',function(){that.prev()});this.$nextTrigger.on('swipeleft',function(){that.next()});this.$nextTrigger.on('swiperight',function(){that.prev()});this.$playBtns.click(function(){that.play(this)});this.$closeButton.click(function(){that.stop(this)});this.$volumeButton.click(function(){that.toggleAudio()});this.$overlay.dblclick(function(){if(that.player)that.requestFullScreen()});$(window).scroll(function(){that.checkViewportIn()})};MASERATI.VideoGallery.prototype.areSlidesAnimating=function(){return this.$slidesContainer.hasClass('velocity-animating')};MASERATI.VideoGallery.prototype.setSlidesAnimating=function(){return this.$slidesContainer.addClass('velocity-animating')};MASERATI.VideoGallery.prototype.unsetSlidesAnimating=function(){return this.$slidesContainer.removeClass('velocity-animating')};MASERATI.VideoGallery.prototype.isVideoStarting=function(){return this.$element.hasClass('video-loading')}
MASERATI.VideoGallery.prototype.prev=function(){if(!this.areSlidesAnimating()&&!this.isVideoStarting()){this.triggerSlideChangeEvent();this.move(-1)}}
MASERATI.VideoGallery.prototype.next=function(){if(!this.areSlidesAnimating()&&!this.isVideoStarting()){this.triggerSlideChangeEvent();this.move(1)}}
MASERATI.VideoGallery.prototype.move=function(amount){var that=this;if(this.currentSlide+amount>=1&&this.currentSlide+amount<=this.totalSlides){this.setSlidesAnimating();this.hideMobileText();this.$slidesContainer.css('transform','translateX('+((this.currentSlide+amount-1)*this.slideAmount)+'%)');this.currentSlide+=amount;setTimeout(function(){that.refreshSlides();that.setMobileText();that.refreshTriggers();that.unsetSlidesAnimating();if(that.$element.hasClass('playing'))
that.play()},this.delay)}};MASERATI.VideoGallery.prototype.refreshSlides=function(){var activeSlide=$(this.$slides.get(this.currentSlide-1));this.$slides.removeClass('active');activeSlide.addClass('active')};MASERATI.VideoGallery.prototype.refreshTriggers=function(){if(this.currentSlide==1){this.$prevTrigger.hide();this.$element.addClass('first')}else if(this.currentSlide==this.totalSlides){this.$nextTrigger.hide();this.$element.addClass('last')}else{this.$prevTrigger.show();this.$nextTrigger.show();this.$element.removeClass('first last')}};MASERATI.VideoGallery.prototype.requestFullScreen=function(){var elem=this.$videoContainer.get(0);var requestFullscreen=elem.requestFullscreen||elem.mozRequestFullScreen||elem.webkitRequestFullscreen||elem.msRequestFullscreen;if(requestFullscreen)requestFullscreen.call(elem)}
MASERATI.VideoGallery.prototype.cancelFullScreen=function(){var elem=document;var cancelFullscreen=elem.exitFullscreen||elem.mozCancelFullScreen||elem.webkitCancelFullScreen||elem.msExitFullscreen;if(cancelFullscreen)cancelFullscreen.call(elem)}
MASERATI.VideoGallery.prototype.checkViewportIn=function(){var top_of_element=this.$videoContainer.offset().top;var bottom_of_element=top_of_element+this.$videoContainer.outerHeight();var bottom_of_screen=$(window).scrollTop()+window.innerHeight;var top_of_screen=$(window).scrollTop();if((bottom_of_screen>top_of_element)&&(top_of_screen<bottom_of_element)){if(!this.closing&&this.viewportIn===!1&&this.player.getPlayerState()==2){this.player.playVideo();this.viewportIn=!0}}
else{if(!this.closing&&this.viewportIn===!0&&this.player.getPlayerState()==1){this.player.pauseVideo();this.viewportIn=!1}}}
MASERATI.VideoGallery.prototype.onPlayerReady=function(event){this.duration=this.player.getDuration();MASERATI.Helpers.log("video onPlayerReady. duration:"+this.duration);if(this.player.getVideoData){var videoData=this.player.getVideoData();this.title=videoData.title}else{this.title=this.videoId}
MASERATI.Helpers.log("video onPlayerReady.");this.playVideo()};MASERATI.VideoGallery.prototype.onPlayerStateChange=function(event){var that=this;MASERATI.Helpers.log('Video state: '+this.player.getPlayerState());switch(event.data){case YT.PlayerState.ENDED:cancelAnimationFrame(this.progressPoller);MASERATI.Helpers.log('Tracker poller detached')
this.triggerProgressChangeEvent('100');this.stop();break;case YT.PlayerState.PLAYING:if(this.starting){starting=!1;this.showVideo()}
this.pauseProgressPolling=!1;break;case YT.PlayerState.PAUSED:if(this.closing){this.closing=!1;this.player.stopVideo();this.hideVideo()}
break;default:this.pauseProgressPolling=!0;break}};MASERATI.VideoGallery.prototype.showVideo=function(){this.$videoContainer.fadeIn();this.$overlay.removeClass('black');this.$element.removeClass('video-loading')}
MASERATI.VideoGallery.prototype.hideVideo=function(){this.$videoContainer.fadeOut();this.$overlay.addClass('black');this.$element.removeClass('video-loading');this.cancelFullScreen()}
MASERATI.VideoGallery.prototype.play=function(btn){MASERATI.Helpers.log(typeof btn==='undefined'?"changed video ":"click on play ");var $slide=typeof btn!=='undefined'?$(btn).parentsUntil('.main-slide').last():this.$slidesContainer.find('.slide.active');this.videoId=$slide.data('video');$slide.removeClass('played');if(!this.$element.hasClass('playing'))this.$element.addClass('playing');if(!this.$element.hasClass('video-loading'))this.$element.addClass('video-loading');this.player=this.player==null?MASERATI.getYouTubePlayer(this,1,1):this.player.loadVideoById(this.videoId);this.starting=!0}
MASERATI.VideoGallery.prototype.stop=function(btn){if(typeof btn!=='undefined')MASERATI.Helpers.log("click on close ");var that=this;var $slide=this.$slidesContainer.find('.slide.active');if(typeof btn==='undefined')$slide.addClass('played');setTimeout(function(){that.$element.removeClass('playing')},this.delay);if(typeof btn!=='undefined'){this.player.pauseVideo();this.closing=!0}else{this.player.stopVideo();this.hideVideo()}}
MASERATI.VideoGallery.prototype.toggleAudio=function(volume){if(typeof volume==='undefined'||volume===null)MASERATI.Helpers.log("click on volume ");let turnOn=(typeof volume!=='undefined'&&volume!=null)?volume:this.player.isMuted();if(turnOn){this.player.unMute();this.$volumeIcon.removeClass('volume-off')}else{this.player.mute();this.$volumeIcon.addClass('volume-off')}}
MASERATI.VideoGallery.prototype.playVideo=function(){this.player.playVideo();this.fixSafariPlay();this.triggerPlayerOpenEvent();this.attachPoller();this.$videoContainer.css('opacity',1)}
MASERATI.VideoGallery.prototype.fixSafariPlay=function(){var counter=0,that=this;var interval=setInterval(function(){var state=that.player.getPlayerState();if(state==YT.PlayerState.PAUSED){that.player.playVideo()}else if(++counter>50||state==YT.PlayerState.PLAYING){clearInterval(interval)}},100)}
MASERATI.VideoGallery.prototype.attachPoller=function(){MASERATI.Helpers.log('Tracker poller attacched')
var that=this;var pollerFunc=function(){that.pollProgress();if(that.progressPoller)that.progressPoller=requestAnimationFrame(pollerFunc)};this.progressPoller=requestAnimationFrame(pollerFunc);MASERATI.Helpers.log("Tracker SetMediaName "+this.title);MASERATI.AdobeTracking.tracker.setMediaName('video:'+this.title)}
MASERATI.VideoGallery.prototype.pollProgress=function(){if(this.pauseProgressPolling){MASERATI.Helpers.log('Tracker poller muted')
return!1}
var position=this.player.getCurrentTime();if(position<.5){this.triggerProgressChangeEvent('0')}else if(position>this.duration*.25&&position<this.duration*.5){this.triggerProgressChangeEvent('25')}else if(position>this.duration*.5&&position<this.duration*.75){this.triggerProgressChangeEvent('50')}else if(position>this.duration*.75&&position<this.duration){this.triggerProgressChangeEvent('75')}
MASERATI.Helpers.log('Tracker poller poll '+this.player.getCurrentTime())}
MASERATI.VideoGallery.prototype.triggerProgressChangeEvent=function(position){if(this.progressEvents.indexOf(position)>-1&&this.sentProgressEvent!=position){this.sentProgressEvent=position;this.$element[0].dispatchEvent(new CustomEvent('videoprogresschange',{detail:{progress:position}}));if(position=='0'){MASERATI.AdobeTracking.tracker.setSatelliteTrack('MediaStreamStart')}else{MASERATI.AdobeTracking.tracker.setSatelliteTrack('MediaStream'+position)}}};MASERATI.VideoGallery.prototype.triggerPlayerOpenEvent=function(){this.sentProgressEvent=null;MASERATI.Helpers.log("dispatching event videoplayeropen "+this.title);this.$element[0].dispatchEvent(new CustomEvent('videoplayeropen',{detail:{title:this.title}}));this.triggerProgressChangeEvent('0')};$(function(){$('.video-gallery').each(function(){new MASERATI.VideoGallery($(this))});MASERATI.YoutubeManager.init()})